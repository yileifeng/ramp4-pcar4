import{aM as a,bw as w,v as H,bx as $}from"./main-asQ7SttR.js";import"./vec42-CKs01hkn.js";import{r as B}from"./vec4f64-o2zAXfmz.js";function L(t){return"r"in t&&"g"in t&&"b"in t}function x(t){return"h"in t&&"s"in t&&"v"in t}function k(t){return"l"in t&&"a"in t&&"b"in t}function y(t){return"l"in t&&"c"in t&&"h"in t}function R(t){return"x"in t&&"y"in t&&"z"in t}const U=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],E=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function v(t,n){const r=[];let o,e;if(t[0].length!==n.length)throw new Error("dimensions do not match");const u=t.length,c=t[0].length;let i=0;for(o=0;o<u;o++){for(i=0,e=0;e<c;e++)i+=t[o][e]*n[e];r.push(i)}return r}function z(t){const n=[t.r/255,t.g/255,t.b/255].map(o=>o<=.04045?o/12.92:((o+.055)/1.055)**2.4),r=v(U,n);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function m(t){const n=v(E,[t.x/100,t.y/100,t.z/100]).map(r=>{const o=r<=.0031308?12.92*r:1.055*r**.4166666666666667-.055;return Math.min(1,Math.max(o,0))});return{r:Math.round(255*n[0]),g:Math.round(255*n[1]),b:Math.round(255*n[2])}}function A(t){const n=[t.x/95.047,t.y/100,t.z/108.883].map(r=>r>.008856451679035631?r**.3333333333333333:7.787037037037035*r+.13793103448275862);return{l:116*n[1]-16,a:500*(n[0]-n[1]),b:200*(n[1]-n[2])}}function C(t){const n=t.l,r=[(n+16)/116+t.a/500,(n+16)/116,(n+16)/116-t.b/200].map(o=>o>6/29?o**3:3*(6/29)**2*(o-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function G(t){const n=t.l,r=t.a,o=t.b,e=Math.sqrt(r*r+o*o);let u=Math.atan2(o,r);return u=u>0?u:u+2*Math.PI,{l:n,c:e,h:u}}function I(t){const n=t.l,r=t.c,o=t.h;return{l:n,a:r*Math.cos(o),b:r*Math.sin(o)}}function P(t){return A(z(t))}function j(t){return m(C(t))}function q(t){return G(A(z(t)))}function D(t){return m(C(I(t)))}function F(t){const n=t.r,r=t.g,o=t.b,e=Math.max(n,r,o),u=e-Math.min(n,r,o);let c=e,i=u===0?0:e===n?(r-o)/u%6:e===r?(o-n)/u+2:(n-r)/u+4,s=u===0?0:u/c;return i<0&&(i+=6),i*=60,s*=100,c*=100/255,{h:i,s,v:c}}function N(t){const n=(t.h+360)%360/60,r=t.s/100,o=t.v/100*255,e=o*r,u=e*(1-Math.abs(n%2-1));let c;switch(Math.floor(n)){case 0:c={r:e,g:u,b:0};break;case 1:c={r:u,g:e,b:0};break;case 2:c={r:0,g:e,b:u};break;case 3:c={r:0,g:u,b:e};break;case 4:c={r:u,g:0,b:e};break;case 5:case 6:c={r:e,g:0,b:u};break;default:c={r:0,g:0,b:0}}return c.r=Math.round(c.r+o-e),c.g=Math.round(c.g+o-e),c.b=Math.round(c.b+o-e),c}function h(t){return L(t)?t:y(t)?D(t):k(t)?j(t):R(t)?m(t):x(t)?N(t):t}function S(t){return x(t)?t:F(h(t))}function T(t){return k(t)?t:P(h(t))}function Q(t){return y(t)?t:q(h(t))}function V(t,n){const{r,g:o,b:e}=t;return .2126*r+.7152*o+.0722*e}var M;function Y(t,n=M.High){return V(t)>n?new a([0,0,0,t.a]):new a([255,255,255,t.a])}function Z(t,n){const r=T(t);r.l*=1-n;const o=h(r),e=t.clone();return e.setColor(o),e.a=t.a,e}function _(t,n){const r=t.clone();return r.a*=n,r}function tt(t,n){const r=S(t);r.s*=n;const o=h(r),e=t.clone();return e.setColor(o),e.a=t.a,e}function rt(t){return a.toUnitRGBA(t)}function nt(t){return B(t[0],t[1],t[2],t.length>3?t[3]:1)}function ot(t,n){const r=a.toUnitRGBA(t);return r[3]*=n,r}function et(t,n,r={}){if(t.length===0||n<=0)return[];if((t=t.map(o=>typeof o=="string"?new a(o):o)).length===1||n===1){const o=[],e=t[0];for(let u=0;u<n;u++)o.push(e.clone());return o}if(r.shuffle&&(t=w(H(t),r.seed)),t.length>=n){const o=[],e=(t.length-1)/(n-1);for(let u=0;u<n;u++){const c=Math.round(u*e);o.push(t[c].clone())}return o}return W(t,n,r)}function W(t,n,r={}){const o=[],e=t.length-1,u=Math.ceil((n-t.length)/e);t:for(let c=0;c<e;c++){const i=t[c],s=t[c+1];for(let f=1;f<=u;f++){const l=f/(u+1);if(o.push(X(i,s,l,r)),o.length+t.length===n)break t}}return[...t.map(c=>c.clone()),...w(o,r.seed??1)]}(function(t){t[t.Low=160]="Low",t[t.High=225]="High"})(M||(M={}));const b=(t,n)=>{const r=Math.floor(10*n())-5;return Math.min(255,Math.max(0,t+r))};function X(t,n,r,o={}){const e=t.r,u=t.g,c=t.b,i=n.r,s=n.g,f=n.b,l=Math.round(e+(i-e)*r),d=Math.round(u+(s-u)*r),p=Math.round(c+(f-c)*r);if(!o.offset)return new a([l,d,p]);const g=$(o.seed);return new a([b(l,g),b(d,g),b(p,g)])}export{S as B,T as C,tt as D,Y as E,rt as F,Q as H,Z as I,nt as N,_ as P,M as R,ot as S,et as T,h as U,L as i};
