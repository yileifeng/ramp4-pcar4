const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-XVcMAUh1.js","./preload-helper-ExcqyqRp.js","./IdentityManager-bxJqy9Qo.js","./intl-D5myeBIL.js","./themeUtils-D3elnwh6.js","./uuid-Cl5lrJ4c.js","./substitute-g_d0oYmM.js","./QueueProcessor-CVaNJhFS.js","./Queue-B7j4i-p3.js","./ReactiveMap-CzqLFZz5.js","./signal-DOJnbrFR.js","./pe-wasm-CRA-qgEz.js","./_commonjsHelpers-DCkdB7M8.js","./WhereClauseCache-r_J0nv_k.js","./LRUCache-D1fsA-w6.js","./MemCache-DE3T9NBz.js","./WhereClause-Bsz5dHey.js","./TimeOnly-BOSrAlqL.js","./arcadeUtils-BIrES1E5.js","./arcade-DMdCNKon.js","./unitConversion-Ck-EQaC0.js","./ImmutableArray-BPVd6ESQ.js","./shared-CtViELyY.js","./Field-BLAoQZ_0.js","./fieldType-DNTeE9NS.js","./number-owTymi_G.js","./featureConversionUtils-pNtCHoNi.js","./OptimizedFeature-CYyXKDHx.js","./memoryEstimations-COo-dz1M.js","./OptimizedFeatureSet-Blu9Ckm7.js","./FieldsIndex-DW-5YYve.js","./timeZoneUtils-CfTu0PZq.js","./PortalItem-Nq3zGykG.js","./Basemap-CwXISLRi.js","./loadAll-9Cvy7tjC.js","./writeUtils-BnGVzhQw.js","./ElevationLayer-CpKyQjyJ.js","./MultiOriginJSONSupport-BgTEONJv.js","./HeightModelInfo-B7gpIaa-.js","./Layer-Bx8UpsMJ.js","./TimeExtent-tqAWy-Dv.js","./ArcGISCachedService-BKkP9ieL.js","./TileInfo-DFofX128.js","./TileKey-DZd6gJy7.js","./TileInfoTilemapCache-DeJSC_H0.js","./TilemapCache-DnOq6SNd.js","./ByteSizeUnit-BsxeN7wM.js","./ArcGISService-BpCkZU1v.js","./OperationalLayer-DTkZmy-B.js","./layerContainerType-C5CzMsLd.js","./commonProperties-BAQ0_iGY.js","./ElevationInfo-C-a3Y-El.js","./lengthUtils-GoFDlaqZ.js","./PortalLayer-D_hkWTMK.js","./portalItemUtils-BFogiphi.js","./projection-G6EI4E6A.js","./projectBuffer-Cx7kBt8y.js","./WorkerHandle-B3-ZLZMC.js","./workers-BJlMhhTk.js","./webStyleSymbolUtils-CYJhaNIn.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-seZ9SQXz.js","./webStyleAcceptedFormats-CG7ZQ6BV.js","./Map-BQqiVqnv.js","./CollectionFlattener-C2HA7kkf.js","./mat4f32-DcsiF_Rp.js","./mat4-BjwS19gr.js","./common-DQOJ18NT.js","./TablesMixin-I_JAQrAJ.js","./MapView-CdXdWR5g.js","./Cyclical-BtCZr1qb.js","./UpdatingHandles-gi6cfx1S.js","./GraphicsCollection-Cks0A0Ve.js","./Query-D7n22axe.js","./HighlightDefaults-D0LIiYIH.js","./ViewingMode-HRfKv6NR.js","./vec2-maR1OrZI.js","./vec2f64-DohEyf3f.js","./Tile-3ZPXJ-cN.js","./TileKey-tjz0o95w.js","./quickselect-QQC62dOK.js","./normalizeUtils-CQip1v0x.js","./normalizeUtilsCommon-B9hLdSv-.js","./utils-CO4HUuqg.js","./utils-CLKe2jGG.js","./mat3-CruJiiUv.js","./vec2f32-BbH2jxlN.js","./Scheduler-CssyMp54.js","./vec32-BzCy6cr7.js","./unitBezier-B1N-tmtC.js","./definitions-CPtb4TQS.js","./enums-Dk3osxpS.js","./Texture-DGW9aO8e.js","./getDataTypeBytes-DflDeYgv.js","./imageUtils-C_fUUBhQ.js","./capabilities-Du2wdNlQ.js","./Version-CCEYPWOm.js","./ColorBackground-CkNanFjv.js","./FeatureLayer-YXIhanP1.js","./FeatureLayerBase-B41Kn339.js","./labelingInfo-C6cu4L4_.js","./SimpleRenderer-CnXOtoBL.js","./commonProperties-BCStlC_N.js","./colorRamps-Dk7bz912.js","./ColorStop-DwDT8ygX.js","./visualVariableUtils-BKDBW5cJ.js","./UniqueValueRenderer-CNrg2TdL.js","./defaultCIMValues-BZQdnlbk.js","./enums-CD-fX3vU.js","./RendererLegendOptions-Bo7pHTmv.js","./RelationshipQuery-mAwq-K2B.js","./NormalizationBinParametersMixin-DMkoT-On.js","./labelUtils-D8QsMWGG.js","./LayerFloorInfo-zXk-Sqoy.js","./Relationship-Dzm_LU3_.js","./serviceCapabilitiesUtils-B4Pizcp2.js","./infoFor3D-DhzudQro.js","./editsZScale-Dmxsqw6m.js","./queryZScale-B6rpYzYS.js","./FeatureSet-BbkVLp0y.js","./APIKeyMixin-B_KGbN0h.js","./BlendLayer-DQc1-4op.js","./jsonUtils-id0_mGIh.js","./parser-Bpna5qKq.js","./CustomParametersMixin-B7XIjtWP.js","./DisplayFilteredLayer-Can002Zs.js","./scaleUtils-C76ebMnv.js","./displayFilterUtils-hwEJosKz.js","./EditBusLayer-iTsILf6K.js","./FeatureEffectLayer-B7oH4PZH.js","./FeatureEffect-B6uz554M.js","./FeatureFilter-BMGPBFnL.js","./FeatureReductionLayer-DBGKy5I4.js","./FeatureReductionSelection-595R3Jim.js","./jsonUtils-Bfgh5fRb.js","./typeUtils-CM8gcbcJ.js","./ClassBreaksRenderer-BsHgq2H0.js","./utils-Piv4JJl1.js","./heatmapUtils-OBh9qWh9.js","./vec42-CKs01hkn.js","./vec4f64-o2zAXfmz.js","./MD5-C9MwAd2G.js","./OrderedLayer-JMonx__F.js","./OrderByInfo-UxwmOVA6.js","./RefreshableLayer-D-fI9Hjo.js","./ScaleRangeLayer-59UbR5Hw.js","./TemporalLayer-3uOs5aS1.js","./TimeInfo-CoJs_xDI.js","./TrackableLayer-CDjzANUC.js","./FeatureTemplate-CBVgicZE.js","./FeatureType-CW4wVo0k.js","./fieldProperties-DO9v7LnS.js","./TitleCreator-D4Acd7vN.js","./versionUtils-BOdur6My.js","./styleUtils-oDcXDftb.js","./popupUtils-ChjfLide.js","./interfaces-CL2NbQte.js","./GraphicsLayer-CZo360Kr.js","./ImageryLayer-2xkWh4RT.js","./multidimensionalUtils-CiU1wuoV.js","./ImageHistogramParameters-Cu4-jinR.js","./dataUtils-DJt1u4TY.js","./RasterSymbolizer-IOW6lFnu.js","./colorUtils-unU6Ikhg.js","./ClassBreaksDefinition-CPFW_uod.js","./utils-CwuU6R9D.js","./cimSymbolUtils-CnrAdmVz.js","./imageBitmapUtils-X1nVYaaR.js","./RasterPresetRendererMixin-BFbLufg4.js","./executeForIds-jXaQQBlK.js","./query-C0jjDHEy.js","./pbfQueryUtils-DdSEDwwI.js","./pbf-BL-v7Nb6.js","./executeQueryJSON-QlSBPZbH.js","./MapImageLayer-3B4Z7G4E.js","./SublayersOwner-BiTlNLzn.js","./QueryTask-BG_wS24q.js","./executeQueryPBF-CCnYUyBs.js","./sublayerUtils-4mhX52-h.js","./ExportImageParameters-CqDfeJgs.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-CAl6rTG3.js","./WebTileLayer-CqfbUw02.js","./TileLayer-CajUOUqW.js","./WMSLayer-Dd8J5mv4.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-CTAfdJEg.js","./arcade-yp7yZgZn.js","./query-C3hjlLyL.js","./executeQuery-vN-_jiae.js","./AttachmentInfo-RfuhdsEf.js","./executeAttributeBinsQuery-YsHvT8qA.js","./AttributeBinsFeatureSet-VbNw80ga.js","./AttributeBinsQuery-BvUDuRHH.js","./queryUtils-Couy4cqn.js","./json-Wa8cmqdu.js","./FixedIntervalBinParameters-C4gUWlgN.js","./executeRelationshipQuery-pFnLWil9.js","./executeTopFeaturesQuery-DQNeRhmY.js","./queryTopFeatures-BQ2UbQn9.js","./TopFeaturesQuery--NAB4ar-.js","./executeForTopIds-bdCQyHYq.js","./executeForTopExtents-B985gztA.js","./executeForTopCount--4DJM82R.js","./shp.min-BZ7xNA5B.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-De0Ekcoc.js","./index-CakAWzkM.js","./index-C0BV8b1p.css","./index-RZDuK4v7.js","./screen.vue_vue_type_script_setup_true_lang-BhKBB9bx.js","./screen-Cea9pofX.css","./index-Bi05MaPk.js","./index-CapdxxGZ.js","./index-1X12IJY7.css","./index-154ghjpA.js","./hilight-defs-CqXQYtIh.js","./index-BqW5zpA_.js","./fabric-B06Gc5u1.js","./index-Ds4XCTGI.js","./index-DNjWLHkr.js","./index-CwDZkLER.js","./index-kLEev-X3.js","./index-Cc_3irdL.js","./index-CuMKft5_.js","./index-GjsFapYS.js","./screen.vue_vue_type_script_setup_true_lang-Cpl_nHui.js","./index-CGHvUzTq.js","./index-fF3wYaex.js","./index-nKOngkIK.js","./index-By2en9JS.js","./table-state-manager-BeyhKYxv.js","./index-noO6oNYn.js","./index-UFTU2GMQ.js","./index-Bnf-W5EX.js","./index-CSifV5s6.js","./index-D-RpA0o6.js","./index-CTZ1kO0r.css","./index-CBVxsjHn.js","./index-BpfT7kAk.js","./index-Cx7av860.js","./index-C1UMDyxT.css","./index-DlQ470l5.js","./index-D-3-S-HY.css","./index-D1j_L8ix.js","./index-Dti23dwS.css","./index-BgDinnZc.js","./index-D7aQlB_e.js","./index-Clk4QW4V.js","./screen-qYdcRks0.js","./screen-BckIrElU.js","./screen-B_KOI8ka.css","./screen-CNHMj0-Y.js","./screen-BD8e8MKL.js","./screen-CwbtZ41W.css","./screen-ClDYabXi.js","./screen-Cs7bH5d9.css","./screen-DeLgloCK.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-BXgSZd9Z.js","./vue.esm-bundler-F6veCkA-.js","./screen-DH2W8SRu.css","./screen-HBc3QLV1.js","./screen-i9nSludp.js","./screen-CkXxljnt.css","./screen-BM_KTUDi.js","./toggle-switch-control-CeHEe3jY.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-tUPZe1RM.js","./screen-D63VVkFy.css"])))=>i.map(i=>d[i]);
import{_ as _e}from"./preload-helper-ExcqyqRp.js";var Yo=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Yo||{}),Ro=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(Ro||{}),Wr=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(Wr||{}),LO=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(LO||{}),kO=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(kO||{}),RO=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(RO||{}),Ze=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ze||{}),I1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(I1||{}),Ne=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(Ne||{}),Ss=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(Ss||{}),nr=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(nr||{}),ci=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(ci||{}),Vi=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Vi||{}),Xt=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(Xt||{}),hi=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(hi||{}),Kr=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(Kr||{}),ch=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(ch||{}),Lr=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Lr||{}),gi=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(gi||{});class Sn{attributes;geometry;style;id;constructor(t,i,r){this.geometry=t,i?this.id=i:this.id=Mh.sharedUtils.generateUUID(),r?this.attributes=r:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const Hy={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function N7(e){return!!Hy[e]||!!Hy[e.toLowerCase()]}function DO(e){return Hy[e]??Hy[e.toLowerCase()]}function qde(e){return[...DO(e)]}function ab(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function P7(e,t,i,r=1){const s=(e%360+360)%360/360,n=i<=.5?i*(t+1):i+t-i*t,o=2*i-n;return[Math.round(255*ab(o,n,s+1/3)),Math.round(255*ab(o,n,s)),Math.round(255*ab(o,n,s-1/3)),r]}function Wde(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,s=t?1:17,n=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return n&&(l=o&r,o>>=i,a[3]=s*l/255),l=o&r,o>>=i,a[2]=s*l,l=o&r,o>>=i,a[1]=s*l,l=o&r,o>>=i,a[0]=s*l,a}const Hde=2.2,AA=new Float32Array(1);function Yde(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function O1(e,t,i){return Math.min(Math.max(e,t),i)}function Jde(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function L7(e,t,i){return e+(t-e)*i}function Zde(e,t,i,r,s){return L7(r,s,(e-t)/(i-t))}function Kde(e){return e*Math.PI/180}function Xde(e){return 180*e/Math.PI}function Qde(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function epe(e){return Math.acos(O1(e,-1,1))}function tpe(e){return Math.asin(O1(e,-1,1))}function uh(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function ipe(e,t,i=1e-6){return!uh(e,t,i)&&e>t}function rpe(e,t,i=1e-6){return!uh(e,t,i)&&e<t}function spe(e,t,i=1e-6){return uh(e,t,i)||e>t}const Yy=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function x_(e){return Yy.setFloat64(0,e),Yy.getBigInt64(0)}function k7(e){return Yy.setBigInt64(0,e),Yy.getFloat64(0)}const J0=BigInt("1000000"),R7=FO(1);function FO(e){const t=x_(e=Math.abs(e)),i=k7(t<=J0?J0:t-J0);return Math.abs(e-i)}function npe(e,t,i=R7){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&FO(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=x_(e),s=x_(t);return r<0!=s<0?!1:!((r<s?s-r:r-s)>J0)}function ope(e){return UO(Math.max(-TA,Math.min(e,TA)))}function UO(e){return AA[0]=e,AA[0]}function ape(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(uh(t,1)&&uh(i,1)&&uh(r,1))}const TA=UO(34028234663852886e22);function lpe(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let il;function re(e){return typeof il[e]=="function"?il[e]=il[e](globalThis):il[e]}il=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},re.add=(e,t,i,r)=>{(r||il[e]===void 0)&&(il[e]=t),i&&re(e)},re.cache=il,re.add("big-integer-warning-enabled",!0),re.add("esri-deprecation-warnings",!0),re.add("esri-tests-disable-screenshots",!1),re.add("esri-tests-use-full-window",!1),re.add("esri-tests-post-to-influx",!0),re.add("esri-cim-animations-enable-status","enabled"),re.add("esri-cim-animations-spotlight",!1),re.add("esri-cim-animations-freeze-time",!1),re.add("enable-feature:multiple-highlights",!0),(()=>{re.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(re.add("host-browser",e),re.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),re.add("dom",e),re("host-browser")){const t=navigator,i=t.userAgent,r=t.appVersion,s=parseFloat(r);if(re.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),re.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),re.add("khtml",r.includes("Konqueror")?s:void 0),re.add("edge",parseFloat(i.split("Edge/")[1])||void 0),re.add("opr",parseFloat(i.split("OPR/")[1])||void 0),re.add("webkit",!re("wp")&&!re("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),re.add("chrome",!re("edge")&&!re("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),re.add("android",!re("wp")&&parseFloat(i.split("Android ")[1])||void 0),re.add("safari",!r.includes("Safari")||re("wp")||re("chrome")||re("android")||re("edge")||re("opr")?void 0:parseFloat(r.split("Version/")[1])),re.add("mac",r.includes("Macintosh")),!re("wp")&&/(iPhone|iPod|iPad)/.test(i)){const n=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));re.add(n,a),re.add("ios",a)}re("webkit")||(!i.includes("Gecko")||re("wp")||re("khtml")||re("edge")||re.add("mozilla",s),re("mozilla")&&re.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&re.add("esri-mobile",t),i&&re.add("esri-iPhone",i),re.add("esri-geolocation",!!navigator.geolocation)}re.add("esri-wasm","WebAssembly"in globalThis),re.add("esri-performance-mode-frames-between-render",20),re.add("esri-force-performance-mode",!1),re.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),re.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),re.add("esri-atomics","Atomics"in globalThis),re.add("esri-workers","Worker"in globalThis),re.add("web-feat:cache","caches"in globalThis),re.add("esri-workers-arraybuffer-transfer",!re("safari")||Number(re("safari"))>=12),re.add("workers-pool-size",8),re.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),re.add("featurelayer-simplify-payload-size-factors",[1,1,4]),re.add("featurelayer-fast-triangulation-enabled",!0),re.add("featurelayer-animation-enabled",!0),re.add("featurelayer-snapshot-enabled",!0),re.add("featurelayer-snapshot-point-min-threshold",8e4),re.add("featurelayer-snapshot-point-max-threshold",4e5),re.add("featurelayer-snapshot-point-coverage",.1),re.add("featurelayer-query-max-depth",4),re.add("featurelayer-query-pausing-enabled",!1),re.add("featurelayer-advanced-symbols",!1),re.add("featurelayer-pbf",!0),re.add("featurelayer-pbf-statistics",!1),re.add("feature-layers-workers",!0),re.add("feature-polyline-generalization-factor",1),re.add("mapview-transitions-duration",200),re.add("mapview-essential-goto-duration",200),re.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),re.add("mapserver-pbf-version-support",10.81),re.add("mapservice-popup-identify-max-tolerance",20),re.add("request-queue-concurrency-hosted",16),re.add("request-queue-concurrency-non-hosted",4),re.add("curve-densification-coarse-segments",128),re.add("curve-densification-max-segments",2e3),re.add("curve-densification-min-segments",3),re.add("curve-densification-pixels-per-segment",16),re.add("view-readyState-waiting-delay",1e3),re.add("gradient-depth-bias",.01),re.add("gradient-depth-epsilon",1e-8),re("host-webworker")||re("host-browser")&&(re.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),re.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{re.add("esri-image-decode",!0,!0,!0)}).catch(()=>{re.add("esri-image-decode",!1,!0,!0)})}return!1}),re.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function cpe(e){}function upe(e){return()=>e}function hpe(e){return e}let Z0=class Xl{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Xl._m}getInt(){return this._seed=(Xl._a*this._seed+Xl._c)%Xl._m,this._seed}getFloat(){return this.getInt()/(Xl._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/Xl._m*r}};Z0._m=2147483647,Z0._a=48271,Z0._c=0;const D7=1.5,fpe=1/D7,dpe=.5;function ppe(e,t){return t?e.filter((i,r,s)=>s.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function $1(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function mpe(e,t,i){let r,s;return i?(r=t.filter(n=>!e.some(o=>i(o,n))),s=e.filter(n=>!t.some(o=>i(o,n)))):(r=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:r,removed:s}}function ype(e){return e&&typeof e.length=="number"}let jO=class{constructor(){this.last=0}};const VO=new jO;function S_(e,t,i,r){r=r||VO;const s=Math.max(0,r.last-10);for(let o=s;o<i;++o)if(e[o]===t)return r.last=o,o;const n=Math.min(s,i);for(let o=0;o<n;++o)if(e[o]===t)return r.last=o,o;return-1}function vpe(e,t,i,r){const s=e.length,n=S_(e,t,s,r);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const Ks=new Set;function F7(e,t,i=e.length,r=t.length,s,n){if(r===0||i===0)return i;Ks.clear();for(let a=0;a<r;++a)Ks.add(t[a]);s=s||VO;const o=Math.max(0,s.last-10);for(let a=o;a<i;++a)if(Ks.has(e[a])&&(n?.push(e[a]),Ks.delete(e[a]),e[a]=e[i-1],--i,--a,Ks.size===0||i===0))return Ks.clear(),i;for(let a=0;a<o;++a)if(Ks.has(e[a])&&(n?.push(e[a]),Ks.delete(e[a]),e[a]=e[i-1],--i,--a,Ks.size===0||i===0))return Ks.clear(),i;return Ks.clear(),i}function bpe(e,t,i){const r=e.length;if(t>=r)return e.slice();const s=BO(i),n=new Set,o=[];for(;o.length<t;){const a=Math.floor(s()*r);n.has(a)||(n.add(a),o.push(e[a]))}return o}function BO(e){return e?(MA.seed=e,()=>MA.getFloat()):Math.random}const MA=new Z0;function _pe(e,t){const i=BO(t);for(let r=e.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=e[r];e[r]=e[s],e[s]=n}return e}function U7(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function j7(e,t){return e!=null}const wpe=[];function xpe(e){return e instanceof ArrayBuffer}function Fx(e){return e?.constructor?.name==="Int8Array"}function GO(e){return e?.constructor?.name==="Uint8Array"}function zO(e){return e?.constructor?.name==="Uint8ClampedArray"}function Ux(e){return e?.constructor?.name==="Int16Array"}function qO(e){return e?.constructor?.name==="Uint16Array"}function jx(e){return e?.constructor?.name==="Int32Array"}function WO(e){return e?.constructor?.name==="Uint32Array"}function C1(e){return e?.constructor?.name==="Float32Array"}function N1(e){return e?.constructor?.name==="Float64Array"}function V7(e){return"buffer"in e}const HO=1024;function Spe(e){return N1(e)||C1(e)||jx(e)||Ux(e)||Fx(e)}function Epe(e){return N1(e)||C1(e)}function Ape(e){return N1(e)?179769e303:C1(e)?3402823e32:WO(e)?4294967295:qO(e)?65535:GO(e)||zO(e)?255:jx(e)?2147483647:Ux(e)?32767:Fx(e)?127:256}function Tpe(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=KO(e);if(t!=null)return t;if(YO(e))return e.clone();if(JO(e))return e.map(ge);if(ZO(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=ge(e[r]);return i}function E_(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=KO(e);if(t!=null)return t;if(JO(e)){let r=!0;const s=e.map(n=>{const o=E_(n);return n!=null&&o==null&&(r=!1),o});return r?s:null}if(YO(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(ZO(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const s=e[r],n=E_(s);if(s!=null&&n==null)return null;i[r]=n}return i}function YO(e){return typeof e.clone=="function"}function JO(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function ZO(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function IA(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function KO(e){if(Fx(e)||GO(e)||zO(e)||Ux(e)||qO(e)||jx(e)||WO(e)||C1(e)||N1(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,ge(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ge(i));return t}return null}function Vx(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function B7(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&$1(e,t):e instanceof Set?t instanceof Set&&z7(e,t):e instanceof Map?t instanceof Map&&q7(e,t):!!IA(e)&&IA(t)&&G7(e,t))}function G7(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function z7(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function q7(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const s=t.get(i);if(s!==r||s===void 0&&!t.has(i))return!1}return!0}function W7(e,t,i=!1){return QO(e,t,i)}function Bx(e,t){if(t!=null)return t[e]||XO(e.split("."),!1,t)}function df(e,t,i){const r=e.split("."),s=r.pop(),n=XO(r,!0,i);n&&s&&(n[s]=t)}function OA(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(OA(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(OA(e[i],t[i]))return!0;return!1}return e!==t}function XO(e,t,i){let r=i;for(const s of e){if(r==null)return;if(!(s in r)){if(!t)return;r[s]={}}r=r[s]}return r}function QO(e,t,i){return t?Object.keys(t).reduce((r,s)=>{let n=r[s],o=t[s];return n===o?r:n===void 0?(r[s]=ge(o),r):(Array.isArray(o)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{n.includes(a)||n.push(a)}):r[s]=o.slice())):o&&typeof o=="object"?r[s]=QO(n,o,i):r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[s]=o),r)},e||{}):e}const Ot={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(W7(Ot,globalThis.esriConfig,!0),delete Ot.has),!Ot.assetsPath){{const e="4.32";Ot.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Ot.defaultAssetsPath=Ot.assetsPath}const H7=/\{([^}]+)\}/g;function $A(e){return e??""}function Gx(e,t){return t?e.replaceAll(H7,typeof t=="object"?(i,r)=>$A(Bx(r,t)):(i,r)=>$A(t(r))):e}function Mpe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t?.includes(i)?i:`\\${i}`)}function e$(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let CA;function Ipe(e){return CA??=new DOMParser,CA.parseFromString(e||"","text/html").body.innerText||""}function Ope(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function $pe(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const NA={info:0,warn:1,error:2,none:3};let kt=class us{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,us._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=us.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,us._loggers.get(t)||new us({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!us._throttlingDisabled){const s=J7(r),n=this._loggedMessages[t].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=us._tickCounter)return;this._loggedMessages[t].set(s,us._tickCounter),us._scheduleTickCounterIncrement()}for(const s of Ot.log.interceptors)if(s(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const s=r[t];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",Y7)}_matchLevel(t){const i=Ot.log.level||"warn";return NA[this._parentWithMember("level",i)]<=NA[t]}static _scheduleTickCounterIncrement(){us._tickCounterScheduled||(us._tickCounterScheduled=!0,Promise.resolve().then(()=>{us._tickCounter++,us._tickCounterScheduled=!1}))}};function Y7(e,t,...i){console[e](`[${t}]`,...i)}function J7(...e){return e$(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}kt._loggers=new Map,kt._tickCounter=0,kt._tickCounterScheduled=!1,kt._throttlingDisabled=!1;function Cpe(e,t){for(const i of e.values())if(t(i))return!0;return!1}function Npe(e,t){for(const i of e.values())if(t(i))return i;return null}function t$(e,t,i){const r=e.get(t);if(r!==void 0)return r;const s=i();return e.set(t,s),s}function Ppe(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const hh=()=>kt.getLogger("esri.core.accessorSupport.ensureTypes");function Z7(e){return e==null?e:new Date(e)}function K7(e){return e==null?e:!!e}function X7(e){return e==null?e:e.toString()}function P1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function zx(e){return e==null?e:Math.round(parseFloat(e))}function Q7(e){return null}function eD(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function i$(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function Jy(e,t){return t!=null&&e&&!(t instanceof e)}function r$(e){return e&&"isCollection"in e}function PA(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function tD(e,t){if(!t?.constructor||!r$(t.constructor))return A_(e,t)?t:new e(t);const i=PA(e.prototype.itemType),r=PA(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(A_(e,t),t):new e(t):t}function A_(e,t){return!!i$(t)&&(hh().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+L1(e)+"'"),!0)}function iD(e,t){return t==null?t:r$(e)?tD(e,t):Jy(e,t)?A_(e,t)?t:new e(t):t}function L1(e){return e?.prototype?.declaredClass||"unknown"}const rD=new WeakMap;function sD(e){switch(e){case Number:return t=>P1(t);case Ni:return zx;case Boolean:return K7;case String:return X7;case Date:return Z7;case qx:return Q7;default:return t$(rD,e,()=>iD.bind(null,e))}}function En(e,t){const i=sD(e);return arguments.length===1?i:i(t)}function fp(e,t,i){return arguments.length===1?fp.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function nD(e,t){return arguments.length===1?fp(i=>En(e,i)):fp(i=>En(e,i),t)}function s$(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>s$(e,t-1,r)):e(i)}function Zy(e,t,i){if(arguments.length===2)return n=>Zy(e,t,n);if(!i)return i;i=s$(e,t,i);let r=t,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function oD(e,t,i){return arguments.length===2?Zy(r=>En(e,r),t):Zy(r=>En(e,r),t,i)}function n$(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function T_(e,t){if(arguments.length===2)return T_(e).call(null,t);const i=new Set,r=e.filter(a=>typeof a!="function"),s=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||i.add(a);let n=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(i.has(a)||s.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&s.some(d=>!Jy(a,d))?a:(f&&r.length?(n||(n=r.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),hh().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof a=="object"&&s.length?(o||(o=s.map(d=>L1(d)).join(", ")),hh().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):hh().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Ih(e,t){if(arguments.length===2)return Ih(e).call(null,t);const i={},r=[],s=[];for(const l in e.typeMap){const c=e.typeMap[l];i[l]=En(c),r.push(L1(c)),s.push(l)}const n=()=>`'${r.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Jy(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,f=i[c];if(!f)return hh().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Jy(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!i$(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return f(d)}return f(l)}}let Ni=class{},qx=class{};const Rpe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function aD(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function o$(e){switch(e.type){case"native":return En(e.value);case"array":return fp(o$(e.value));case"one-of":return lD(e);default:return null}}function lD(e){let t=null;return(i,r)=>I_(i,e)?i:(t==null&&(t=M_(e)),hh().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function M_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Ni:return"integer";case Date:return"date";case qx:return"null";default:return L1(e.value)}case"array":return`array of ${M_(e.value)}`;case"one-of":{const t=e.values.map(i=>M_(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function I_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Ni:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case qx:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!I_(i,t.value));case"one-of":return t.values.some(i=>I_(e,i))}}function Qm(e){return O1(zx(e),0,255)}function e0(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function t0(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let dt=class Fi{static blendColors(t,i,r,s=new Fi){return s.r=Math.round(t.r+(i.r-t.r)*r),s.g=Math.round(t.g+(i.g-t.g)*r),s.b=Math.round(t.b+(i.b-t.b)*r),s.a=t.a+(i.a-t.a)*r,s._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const s=r[2].split(/\s*,\s*/),n=r[1];if(n==="rgb"&&s.length===3||n==="rgba"&&s.length===4){const o=s[0];if(o.charAt(o.length-1)==="%"){const a=s.map(l=>2.56*parseFloat(l));return s.length===4&&(a[3]=parseFloat(s[3])),Fi.fromArray(a,i)}return Fi.fromArray(s.map(a=>parseFloat(a)),i)}if(n==="hsl"&&s.length===3||n==="hsla"&&s.length===4)return Fi.fromArray(P7(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new Fi){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Fi.fromArray([r+16*r,s+16*s,n+16*n,(o+16*o)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Fi.fromArray([r,s,n,o/255],i)}default:return null}}static fromArray(t,i=new Fi){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=N7(t)?DO(t):null;return r&&Fi.fromArray(r,i)||Fi.fromRgb(t,i)||Fi.fromHex(t,i)}static fromJSON(t){return t!=null?new Fi([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Fi.fromString(t,this):Array.isArray(t)?Fi.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Fi||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=t?.capitalize??!1,r=t?.digits??6,s=r===3||r===4,n=r===4||r===8,o=`#${t0(this.r,s)}${t0(this.g,s)}${t0(this.b,s)}${n?t0(Math.round(255*this.a),s):""}`;return i?o.toUpperCase():o}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Fi.AlphaMode.ALWAYS){const i=Qm(this.r),r=Qm(this.g),s=Qm(this.b);return t===Fi.AlphaMode.ALWAYS||this.a!==1?[i,r,s,Qm(255*this.a)]:[i,r,s]}clone(){return new Fi(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(e0(this.r,0,255)),this.g=Math.round(e0(this.g,0,255)),this.b=Math.round(e0(this.b,0,255)),this.a=e0(this.a,0,1),this}_set(t,i,r,s){this.r=t,this.g=i,this.b=r,this.a=s}};dt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(dt);function g(e,t,i,r){var s,n=arguments.length,o=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}function Dpe(e,t){return function(i,r){t(i,r,e)}}function Fpe(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function l(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?n(f.value):s(f.value).then(a,l)}c((r=r.apply(e,[])).next())})}function Upe(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:r,async:i})}return t}var cD=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function jpe(e){function t(n){e.error=e.hasError?new cD(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var i,r=0;function s(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}const LA=new WeakMap;function uD(e,t,i=!1){const r=`ðŸ›‘ DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=LA.get(e);s||(s=new Set,LA.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}function hD(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;dp(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function Vpe(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;dp(e,`Property: ${(r?r+"::":"")+t}`,i)}}function fD(e,t,i={}){re("esri-deprecation-warnings")&&dp(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function dp(e,t,i={}){if(re("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:o}=i;let a=t;if(r&&(a+=`
	ðŸ› ï¸ Replacement: ${r}`),s&&(a+=`
	âš™ï¸ Version: ${s}`),n)if(Array.isArray(n)){a+=`
	ðŸ”— See for more details:`;for(const l of n)a+=`
		${l}`}else a+=`
	ðŸ”— See ${n} for more details.`;uD(e,a,o)}}function Bpe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function Gpe(e,t){for(const i of e)if(i!=null&&t(i))return i}function kA(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Wx=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(kA(t)){const r=this._getOrCreateGroup(i);for(const s of t)DA(s)&&r.push(s)}else DA(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(i0(t))}remove(t){if(typeof t!="string"&&kA(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(RA(this._getGroup(t)),this._groups.delete(i0(t)),this):this}removeAll(){return this._groups.forEach(RA),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(i0(t),i),i}_getGroup(t){return this._groups.get(i0(t))}};function i0(e){return e||"_default_"}function RA(e){for(const t of e)t instanceof Wx?t.removeAll():t.remove()}function DA(e){return e!=null&&(!!e.remove||e instanceof Wx)}function dD(e,t){if(e==null)throw new Error(t??"value is None")}function K0(e){return e?.destroy(),null}function qpe(e){return e?.dispose(),null}function pf(e){return e?.remove(),null}function a$(e){return e?.abort(),null}function Wpe(e){return e?.release(),null}function Hpe(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function pD(e,t){let i;return e.some((r,s)=>(i=t(r,s),i!=null)),i??void 0}const l$=Symbol("Accessor-beforeDestroy"),mD={remove:()=>{}};function Ai(e){return e?{remove(){e&&(e(),e=void 0)}}:mD}function c$(e){e.forEach(t=>t?.remove())}function Ype(e){c$(e),e.length=0}function Hx(e){return Ai(()=>c$(e))}function Jpe(e){return Ai(()=>e()?.remove())}function Zpe(e){return Ai(()=>e?.abort())}function yD(e){return Ai(e!=null?()=>e.destroy():void 0)}function ml(e){return e.__accessor__??null}function gD(e,t){return e?.metadata?.[t]!=null}function X0(e,t,i){return i?Ky(e,t,{policy:i,path:""}):Ky(e,t,null)}function Ky(e,t,i){return t?Object.keys(t).reduce((r,s)=>{const n=s;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${s}`:s,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[n]))return r[n]=t[n],r;if(r[n]===void 0)return r[n]=ge(t[n]),r;let l=r[n],c=t[n];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[n]=l.slice():r[n]=[l]:r[n]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(i){const f=i.path;i.path=o,r[n]=Ky(l,c,i),i.path=f}else r[n]=Ky(l,c,null);else r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[n]=c);return r},e||{}):e}function u$(e){return Array.isArray(e)?e:e.split(".")}function FA(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function vD(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...FA(i));return t}return FA(e)}function h$(e,t,i,r){const s=vD(t);if(s.length!==1){const n=s.map(o=>r(e,o,i));return Hx(n)}return r(e,s[0],i)}function f$(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=ml(t);return gD(r,i)?r.get(i):t[i]}function d$(e,t,i){if(e==null)return e;const r=f$(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:d$(r,t,i+1)}function cm(e,t,i=0){return typeof t!="string"||t.includes(".")?d$(e,u$(t),i):f$(t,e)}function Oh(e,t){return cm(e,t)}function UA(e,t){return cm(t,e)!==void 0}var Jr;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Jr||(Jr={}));function um(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=ge(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function k1(e,t){const i=um(e);let r=i[t];return r||(r=i[t]={}),r}function bD(e,t){return X0(e,t,wD)}const _D=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function wD(e){return _D.test(e)?"replace":"merge"}function xD(e){return e?.release&&typeof e.release=="function"}function SD(e){return e?.acquire&&typeof e.acquire=="function"}let hm=class O_{constructor(t,i,r,s=1,n=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if(O_.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):SD(i)&&i.acquire(...t),i}release(t){t&&!O_.test.disabled&&(this._releaseFunction?this._releaseFunction(t):xD(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};hm.test={disabled:!1};let ED=class{constructor(t,i){this._observers=t,this._observer=i}remove(){U7(this._observers,this._observer)}},p$=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return AD;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let o=0;o<n;++o){const a=i[o];if(a.destroyed)s=!0;else if(a===t){r=!0;break}}return r||(i.push(t),s&&this._removeDestroyedObservers()),new ED(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&t[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;t[s]=t[s+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const AD=Ai();var ct;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(ct||(ct={}));const Qpe=ct.USER+1;function m$(e){switch(e){case"defaults":return ct.DEFAULTS;case"service":return ct.SERVICE;case"portal-item":return ct.PORTAL_ITEM;case"web-scene":return ct.WEB_SCENE;case"web-map":return ct.WEB_MAP;case"link-chart":return ct.LINK_CHART;case"user":return ct.USER;default:return null}}function $_(e){switch(e){case ct.DEFAULTS:return"defaults";case ct.SERVICE:return"service";case ct.PORTAL_ITEM:return"portal-item";case ct.WEB_SCENE:return"web-scene";case ct.WEB_MAP:return"web-map";case ct.LINK_CHART:return"link-chart";case ct.USER:return"user"}}function TD(e){return $_(e)}var gt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(gt||(gt={}));let R1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Xy=new R1,Xf=[];let Ld=Xy;function Ye(e){Ld.onAccessed(e)}let Q0=!1,ey=!1;function yl(e,t,i){if(Q0)return Yx(e,t,i);let r=null;return y$(e),r=t.call(i),g$(),r}function MD(e,t){return yl(Xy,e,t)}function Yx(e,t,i){const r=Q0;Q0=!0,y$(e);let s=null;try{s=t.call(i)}catch(n){ey&&kt.getLogger("esri.core.accessorSupport.tracking").error(n)}return g$(),Q0=r,s}function y$(e){Ld=e,Xf.push(e)}function g$(){const e=Xf.length;if(e>1){const t=Xf.pop();Ld=Xf[e-2],t.onTrackingEnd()}else if(e===1){const t=Xf.pop();Ld=Xy,t.onTrackingEnd()}else Ld=Xy}function v$(e,t){if(t.flags&gt.DepTrackingInitialized)return;t.flags|=gt.DepTrackingInitialized;const i=ey;ey=!1,t.flags&gt.AutoTracked?Yx(t.trackingTarget,t.metadata.get,e):b$(e,t),ey=i}const ID=[];function b$(e,t){t.flags&gt.ExplicitlyTracking||(t.flags|=gt.ExplicitlyTracking,Yx(t.trackingTarget,()=>{const i=t.metadata.dependsOn||ID;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=u$(r);for(let n=0,o=e;n<s.length&&o!=null&&typeof o=="object";++n)o=jA(o,s[n],n!==s.length-1)}else jA(e,r,!1)}),t.flags&=~gt.ExplicitlyTracking)}function jA(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=ml(e);if(s){const n=s.propertiesByName.get(r);n&&(Ye(n),v$(e,n))}return i?e[r]:void 0}let VA=class extends p${constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new R1(this),this.flags=0,this.flags=gt.Dirty|(i.nonNullable?gt.NonNullable:0)|(i.hasOwnProperty("value")?gt.HasDefaultValue:0)|(i.get===void 0?gt.DepTrackingInitialized:0)|(i.dependsOn===void 0?gt.AutoTracked:0)}destroy(){this.flags&gt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ye(this);const i=t.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&gt.Computing||~s&gt.Dirty&&i.has(r))return n;this.flags|=gt.Computing;const o=t.host;let a;s&gt.AutoTracked?a=yl(this.trackingTarget,this.metadata.get,o):(b$(o,this),a=this.metadata.get.call(o)),this.flags|=gt.DepTrackingInitialized,i.set(r,a,ct.COMPUTED);const l=i.get(r);return l===n?this.flags&=~gt.Dirty:MD(this.commit,this),this.flags&=~gt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~gt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&gt.Overridden&&(this.flags|=gt.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},OD=class _${constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new _$;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r))}),i}get(t){return this._values.get(t)}originOf(){return ct.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function r0(e,t,i){return e!==void 0}function BA(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&gt.NonNullable)||(r.lifecycle,Jr.INITIALIZING,!1))}let $D=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Jr.INITIALIZING,this.store=new OD,this.mutable=!0,this._origin=ct.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new VA(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=Jr.CONSTRUCTING}constructed(){this.lifecycle=Jr.CONSTRUCTED}destroy(){this.lifecycle=Jr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Jr.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Ye(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&gt.HasDefaultValue)return"defaults"}return $_(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(r0(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);r0(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const s=this.propertiesByName.get(i);if(!r0(s))return"";const n=new R1,o=yl(n,()=>s.metadata.get?.call(t));let a=`${r}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;const l=n.accessed??new Set;if(l.size===0)return a;r+="  ";for(const c of l)c instanceof VA&&(a+=`${r}${c.propertyName}: undefined
`);return a}setAtOrigin(t,i,r){const s=this.propertiesByName.get(t);if(r0(s))return this._setAtOrigin(s,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&gt.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&gt.Overridden&&(i.flags&=~gt.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!BA(r,t,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:o,value:a}=n;if(lb.release(n),!o)return;i=a}r.flags|=gt.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!BA(r,t,i,this))return;const s=r.metadata.cast;if(s){const o=this._cast(s,i),{valid:a,value:l}=o;if(lb.release(o),!a)return;i=l}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=m$(t)}getDefaultOrigin(){return $_(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==Jr.INITIALIZING?this._origin:ct.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const s=this.store,n=t.propertyName;s.has(n,r)&&Vx(i,s.get(n))&&~t.flags&gt.Overridden&&r===s.originOf(n)||(t.invalidate(),s.set(n,i,r),t.commit(),v$(this.host,t))}_cast(t,i){const r=lb.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},CD=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const lb=new hm(CD);function ND(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(Bx(r,t)??"").toString())}let w$=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&ND(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},ft=class x$ extends w${constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ge(i)}catch{return"[object]"}}))}}catch(t){throw kt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new x$(t.name,t.message,t.details)}};ft.prototype.type="error";function Qy(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))Qy(e,r,t[r]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void Qy(Oh(e,s),n,i)}const r=e.__accessor__;r!=null&&PD(t,r),e[t]=i}}function PD(e,t){if(re("esri-unknown-property-errors")&&!LD(e,t))throw new ft("set:unknown-property",kD(e,t))}function LD(e,t){return t.metadata[e]!=null}function kD(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let RD;function DD(){return RD}var GA;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(GA||(GA={}));function FD(e){e.length=0}let Ba=class{constructor(t=50,i=50){this._pool=new hm(Array,void 0,FD,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return cb.acquire()}static release(t){return cb.release(t)}static prune(){cb.prune()}};const cb=new Ba(100);let UD=class extends hm{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const s0=[];function S$(e){s0.push(e),s0.length===1&&queueMicrotask(()=>{const t=s0.slice();s0.length=0;for(const i of t)i()})}let E$=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var C_;(function(e){const t=(n,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=n[c-1];for(;f<=d;){f=c<<1,f<a&&l(n[f-1],n[f])<0&&++f;const y=n[f-1];if(l(y,p)<=0)break;n[c-1]=y,c=f}n[c-1]=p},i=(n,o)=>n<o?-1:n>o?1:0;function r(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l)}}function*s(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l),yield}}e.sort=r,e.iterableSort=s})(C_||(C_={}));const zA=C_,jD=1.5,VD=1.1;let A$=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new jO,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>qA(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,qA(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=S_(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(S_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=F7(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){zA.sort(this.data,0,this.length,t)}iterableSort(t){return zA.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(t.call(i,r[n]))return r[n]}filterInPlace(t,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)t.call(i,r[n],n,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=t.call(i,this.data[s],s,this.data);return r}reduce(t,i){let r=i;for(let s=0;s<this.length;++s)r=t(r,this.data[s],s,this.data);return r}has(t){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function qA(e){e.data.length>jD*e.length&&(e.data.length=Math.floor(e.length*VD))}function BD(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return Ai(()=>e.clearTimeout(r))}}}const GD=BD(globalThis);function Jx(e){return zD(e)||T$(e)}function zD(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function T$(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function M$(e,t,i){if(!Jx(e))throw new TypeError("target is not a Evented or EventTarget object");return T$(e)?qD(e,t,i):e.on(t,i)}function qD(e,t,i,r){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,i,r);return Ai(()=>{for(const n of s)e.removeEventListener(n,i,r)})}return e.addEventListener(t,i,r),Ai(()=>e.removeEventListener(t,i,r))}function I$(e,t,i){if(!Jx(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=M$(e,t,s=>{r.remove(),i.call(e,s)});return r}function Ur(e="Aborted"){return new ft("AbortError",e)}function pp(e,t="Aborted"){if(oa(e))throw Ur(t)}function D1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function oa(e){const t=D1(e);return t!=null&&t.aborted}function O$(e){if(fm(e))throw e}function cme(e){if(!fm(e))throw e}function kc(e,t){const i=D1(e);if(i!=null){if(!i.aborted)return I$(i,"abort",()=>t());t()}}function WD(e,t){const i=D1(e);if(i!=null)return pp(i),I$(i,"abort",()=>t(Ur()))}function ume(e,t){return D1(t)==null?e:new Promise((i,r)=>{let s=kc(t,()=>r(Ur()));const n=()=>{s=pf(s)};e.then(n,n),e.then(i,r)})}function fm(e){return e?.name==="AbortError"}async function WA(e){try{return await e}catch(t){if(!fm(t))throw t;return}}async function Zx(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(o=>e[o]),s=await Zx(r),n={};return i.map((o,a)=>n[o]=s[a]),n}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function hme(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function fme(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function HD(e,t=void 0,i){const r=new AbortController;return kc(i,()=>r.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(t)},e);kc(r,()=>{o&&(clearTimeout(o),n(Ur()))})})}function dme(e,t,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s?.abort()},t);const o=()=>r||new ft("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(n===0)throw o();return clearTimeout(n),a},a=>{throw clearTimeout(n),n===0?o():a})}function pme(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return kc(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function $$(e){return e&&typeof e.then=="function"}function HA(e){return $$(e)?e:Promise.resolve(e)}function mme(e,t=-1){let i,r,s,n,o=null;const a=(...l)=>{if(i){r=l,n&&n.reject(Ur()),n=mp();const p=n.promise;if(o){const y=o;o=null,y.abort()}return p}if(s=n||mp(),n=null,t>0){const p=new AbortController;i=HA(e(...l,p.signal));const y=i;HD(t).then(()=>{i===y&&(n?p.abort():o=p)})}else i=1,i=HA(e(...l));const c=()=>{const p=r;r=s=i=o=null,p!=null&&a(...p)},f=i,d=s;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function mp(){let e,t;const i=new Promise((s,n)=>{e=s,t=n}),r=s=>{e(s)};return r.resolve=s=>e(s),r.reject=s=>t(s),r.timeout=(s,n)=>GD.setTimeout(()=>r.reject(n),s),r.promise=i,r}async function yme(e){await Promise.resolve(),pp(e)}function gme(e){return e}function vme(e){return 1e3*e}function bme(e){return e}function _me(e){return .001*e}let YD=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},JD=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},N_=0;const Lf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},P_=["prepare","preRender","render","postRender","update","finish"],L_=[],Rc=new A$;let ZD=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,C$()}};function KD(){Ac!=null&&(cancelAnimationFrame(Ac),Ac=requestAnimationFrame(Kx))}function C$(){Ac==null&&(N_=performance.now(),Ac=requestAnimationFrame(Kx))}const eg={frameTasks:Rc,willDispatch:!1,clearFrameTasks:XD,dispatch:L$,executeFrameTasks:QD,reschedule:KD};function N$(e){const t=new JD(e);return L_.push(t),eg.willDispatch||(eg.willDispatch=!0,S$(L$)),t}function Eme(e){const t=new YD(e);return Rc.push(t),C$(),new ZD(t)}let Ac=null;function XD(e=!1){Rc.forAll(t=>{t.removed=!0}),e&&P$()}function Kx(){const e=performance.now();Ac=null,Ac=Rc.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(Kx):null,eg.executeFrameTasks(e)}function QD(e){const t=e-N_;N_=e;const i=1e3/60,r=Math.max(0,t-i);Lf.time=e,Lf.frameDuration=i-r;for(let s=0;s<P_.length;s++){const n=performance.now(),o=P_[s];Rc.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&(Lf.elapsedFrameTime=performance.now()-e,Lf.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,Lf)))}),iF[s].push(performance.now()-n)}P$(),rF.push(performance.now()-e)}const n0=new A$;function P$(){Rc.forAll(e=>{e.removed&&n0.push(e)}),Rc.removeUnorderedMany(n0.data,n0.length),n0.clear()}function L$(){for(;L_.length;){const e=L_.shift();e.isActive&&e.callback()}eg.willDispatch=!1}function eF(e=1,t){const i=mp(),r=()=>{oa(t)?i.reject(Ur()):e===0?i():(--e,S$(()=>r()))};return r(),i.promise}function tF(e){return eF(1,e)}async function Ame(e){await tF(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const iF=P_.map(e=>new E$(e)),rF=new E$("total");function sF(e,t){for(const i of e.values())if(t(i))return!0;return!1}function YA(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function Tme(e,t){return t!=null&&e.add(t),e}function Xx(e,t){const i=new Set;return YA(i,e),YA(i,t),i}function nF(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function Mme(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function Ime(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function oF(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function Ome(e,t){return oF(Xx(e,t),nF(e,t))}let aF=0;function ty(){return++aF}let Qx=class extends R1{constructor(t){super(new lF(t)),this._observer&&JA.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&JA.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},lF=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=cF}};const JA=new FinalizationRegistry(e=>{e.deref()?.destroy()});function cF(){}let fh=!1;const tg=[];function k$(e,t){let i=new Qx(n),r=null,s=!1;function n(){if(!i||s)return;if(fh)return void D$(n);const a=r;i.clear(),fh=!0,s=!0,r=yl(i,e),s=!1,fh=!1,t(r,a),F$()}function o(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=yl(i,e),s=!1,Ai(o)}function R$(e,t){let i=new Qx(s),r=null;function s(){t(r,o)}function n(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=yl(i,e),r):null}return o(),Ai(n)}function Nme(e,t){let i=!1,r=!1;const s=!!t?.sync;let n=new Qx(()=>{i||r||(r=!0,s?o():queueMicrotask(o))});function o(){r=!1,n&&!i&&(fh?D$(o):(n.clear(),fh=!0,i=!0,yl(n,e),i=!1,fh=!1,F$()))}function a(){n&&(n.destroy(),n=null)}return i=!0,yl(n,e),i=!1,Ai(a)}function D$(e){tg.includes(e)||tg.unshift(e)}function F$(){for(;tg.length;)tg.pop()()}var kd;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(kd||(kd={}));let yp=class{constructor(){this.uid=ty(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,s,n){return this.pool.acquire(kd.Untracked,t,i,r,s,n,Vx)}static acquireTracked(t,i,r,s){return this.pool.acquire(kd.Tracked,t,i,r,null,null,s)}notify(t,i){this.type===kd.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,s,n,o,a){this.uid=ty(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=ty(),this.removed=!0}};yp.pool=new UD(yp);const iy=new Ba,ra=new Set;let ig;function rg(e){ra.delete(e),ra.add(e),ig||(ig=N$(fF))}function uF(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function hF(e){for(const t of ra.values())t.target===e&&(t.removed=!0)}function fF(){let e=10;for(;ig&&e--;){ig=null;const t=dF(),i=iy.acquire();for(const r of t){const s=r.uid;uF(r),s===r.uid&&r.removed&&i.push(r)}for(const r of ra)r.removed&&(i.push(r),ra.delete(r));for(const r of i)yp.pool.release(r);iy.release(i),iy.release(t),k_.forEach(r=>r())}}function dF(){const e=iy.acquire();e.length=ra.size;let t=0;for(const i of ra)e[t]=i,++t;return ra.clear(),e}const k_=new Set;function Lme(e){return k_.add(e),Ai(()=>k_.delete(e))}function pF(e,t,i){let r=h$(e,t,i,(s,n,o)=>{let a,l,c=R$(()=>cm(s,n),(f,d)=>{s.__accessor__?.lifecycle===Jr.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=yp.acquireUntracked(f,o,d,s,n),l=a.uid),rg(a))});return Ai(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,rg(a)),a=null),r=c=null})});return r}function mF(e,t,i){const r=h$(e,t,i,(s,n,o)=>{let a=!1;return k$(()=>cm(s,n),(l,c)=>{s.__accessor__.lifecycle!==Jr.DESTROYED?a||(a=!0,Vx(c,l)||o.call(s,l,c,n,s),a=!1):r.remove()})});return r}function yF(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Jr.DESTROYED?r?mF(e,t,i):pF(e,t,i):Ai()}function gF(e,t,i){let r,s,n=R$(e,(o,a)=>{r&&r.uid!==s?n.remove():(r||(r=yp.acquireTracked(o,t,a,i),s=r.uid),rg(r))});return Ai(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,rg(r)),r=null),n=null})}function vF(e,t,i){let r=!1;return k$(e,(s,n)=>{r||(r=!0,i(n,s)||t(s,n),r=!1)})}function bF(e,t,i=!1,r=B7){return i?vF(e,t,r):gF(e,t,r)}function kme(e){return sF(ra,t=>t.oldValue===e)}function A(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),s=k1(t,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in e&&kt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=r.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const l=typeof n=="string"?n:n.source,c=typeof n=="string"?null:n.overridable===!0;let f;s.dependsOn=[l],s.get=function(){let d=Oh(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=Oh(this,f);p&&(d=d.bind(p))}return d},s.readOnly||(s.set=c?function(d){this._override(i,d)}:function(d){Qy(this,l,d)})}const o=e.type,a=e.types;if(!s.cast){let l;o?l=_F(o):a&&(l=Array.isArray(a)?fp(Ih(a[0])):Ih(a)),e.cast=wF(e.cast,l)}bD(s,e),e.range&&(s.cast=eD(s.cast,e.range))}}function U$(e,t,i){const r=k1(e,i);r.json||(r.json={});let s=r.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function _F(e){let t=0,i=e;if(aD(e))return o$(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(n$(r))return t===0?T_(r):Zy(T_(r),t);if(t===1)return nD(r);if(t>1)return oD(r,t);const s=e;return s.from?s.from:En(s)}function wF(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}function xF(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const s=t[r];i[r].forEach(n=>{t[n]=s}),delete t[r]}}}let gp=class extends w${constructor(t,i,r){super(t,i,r)}};gp.prototype.type="warning";function j$(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const R_=()=>kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function ZA(e,t,i){e&&(!i&&!t.read||t.read?.reader||t.read?.enabled===!1||AF(e)&&df("read.reader",V$(e),t))}function V$(e){const t=e.ndimArray??0;if(t>1)return EF(e);if(t===1)return KA(e);if("type"in e&&G$(e.type)){const i=e.type.prototype?.itemType?.Type,r=KA(typeof i=="function"?{type:i}:{types:i});return(s,n,o)=>{const a=r(s,n,o);return a&&new e.type(a)}}return eS(e)}function eS(e){return"type"in e?SF(e.type):TF(e.types)}function SF(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void R_().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,r),n}:e.fromJSON}function B$(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(s=>B$(e,s,i,r-1)):e(t,void 0,i)}function EF(e){const t=eS(e),i=B$.bind(null,t),r=e.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=i(s,o,r);let a=r,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function KA(e){const t=eS(e);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=t(a,void 0,s);l!==void 0&&o.push(l)}return o}const n=t(i,void 0,s);return n!==void 0?[n]:void 0}}function G$(e){if(!j$(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?tS(t.Type):z$(t.Type))}function AF(e){return"types"in e?z$(e.types):tS(e.type)}function tS(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||G$(e))}function z$(e){for(const t in e.typeMap)if(!tS(e.typeMap[t]))return!1;return!0}function TF(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(s,n,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void R_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=MF(e));const l=e.key;if(typeof l!="string")return;const c=s[l],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new gp(`${i}:unsupported`,p,{definition:s,context:o})),void R_().error(p)}const d=new f;return d.read(s,o),r?r(d):d}}function MF(e){const t={};for(const i in e.typeMap){const r=e.typeMap[i],s=um(r.prototype);if(typeof e.key=="function")continue;const n=s[e.key];if(!n)continue;if(n.json?.type&&Array.isArray(n.json.type)&&n.json.type.length===1&&typeof n.json.type[0]=="string"){t[n.json.type[0]]=r;continue}const o=n.json?.write;if(!o?.writer){t[i]=r;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(i,c,l),c[l]&&(t[c[l]]=r)}return t}function IF(e){if(e.json||(e.json={}),QA(e.json),eT(e.json),XA(e.json),e.json.origins)for(const t in e.json.origins)QA(e.json.origins[t]),eT(e.json.origins[t]),XA(e.json.origins[t]);return!0}function XA(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function QA(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function eT(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function tT(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=e?.ndimArray??0;e&&(i===1||"type"in e&&j$(e.type))?t.write.writer=NF:i>1?t.write.writer=PF(i):t.types?Array.isArray(t.types)?t.write.writer=$F(t.types[0]):t.write.writer=OF(t.types):t.write.writer=vp}function OF(e){return(t,i,r,s)=>t?q$(t,e,s)?vp(t,i,r,s):void 0:vp(t,i,r,s)}function q$(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i?.messages){const r=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new ft(`${r}:unsupported`,s,{definition:e,context:i})),kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function $F(e){return(t,i,r,s)=>!t||!Array.isArray(t)?vp(t,i,r,s):vp(t.filter(n=>q$(n,e,s)),i,r,s)}function vp(e,t,i,r){df(i,sg(e,r),t)}function sg(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?CF(e):e}function CF(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function NF(e,t,i,r){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>sg(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[sg(e,r)],df(i,s,t)}function W$(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>W$(r,t,i-1)):sg(e,t)}function PF(e){return(t,i,r,s)=>{let n;if(t===null)n=null;else{n=W$(t,s,e);let o=e,a=n;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)n=[n]}df(r,n,i)}}function LF(e,t){return iS(e,"any",t?.origin)}function D_(e,t){return iS(e,"read",t?.origin)}function H$(e,t){return iS(e,"write",t?.origin)}function iS(e,t,i){let r=e?.json;if(r?.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(t==="any"||t in s)&&(r=s)}return r}function kF(e){const t=RF(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],s=r.types?DF(r):t;ZA(s,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),tT(s,r)}ZA(t,e.json,!0),tT(t,e.json)}function RF(e){return e.json.types?F_(e.json):e.type?Y$(e):F_(e)}function DF(e){return e.type?Y$(e):F_(e)}function Y$(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!n$(i);)i=i[0],t++;return{type:i,ndimArray:t}}function F_(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function FF(e){IF(e)&&(xF(e),kF(e))}const ub=new Set,hb=new Set;function ie(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,jF(t);const i=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!ub.has(s.initialize)&&(ub.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!hb.has(s.destroy)&&(hb.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);ub.clear(),hb.clear();const n=class extends t{constructor(...a){if(super(...a),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const c=this[l$];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let f=0;f<r.length;f++)r[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=um(t.prototype),n.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function UF(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&Ye(r);const s=i.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function jF(e){const t=e.prototype,i=um(t),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];FF(n),r[s]={enumerable:!0,configurable:!0,get:UF(s,n),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&n.readOnly?iT("read-only",s):a.lifecycle===Jr.CONSTRUCTED&&n.constructOnly?iT("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,r)}const iT=(e,t)=>{kt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var J$,Z$;function VF(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Ma=Symbol("Accessor-Handles"),U_=Symbol("Accessor-Initialized");let Qi=class ry{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class o extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}um(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(n.prototype[a])return n.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:t[a]}for(const a in i){const l=VF(i[a]);A(l)(o.prototype,a)}return ie(r)(o)}static freeze(t){return t instanceof ry?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof ry?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[J$]=null,this[Z$]=!1,this.constructor===ry)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new $D(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[U_]=!0}initialize(){}[l$](){this[Ma]=K0(this[Ma])}destroy(){this.destroyed||(hF(this),this.__accessor__.destroy(),DD()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[U_]}get destroyed(){return this.__accessor__?.lifecycle===Jr.DESTROYED||!1}commitProperty(t){Oh(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return Qy(this,t,i),this}watch(t,i,r){return hD(kt.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),yF(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const s of r)s.remove();return}(this[Ma]??=new Wx).add(t,i)}removeHandles(t){this[Ma]?.remove(t)}removeAllHandles(){this[Ma]?.removeAll()}removeHandlesReference(t){this[Ma]?.removeReference(t)}hasHandles(t){return this[Ma]?.has(t)===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};J$=Ma,Z$=U_;function Dme(e,t,i){return Zx(e.map((r,s)=>t.apply(i,[r,s])))}async function Fme(e,t,i){return(await Zx(e.map((r,s)=>t.apply(i,[r,s])))).map(r=>r.value)}function rS(e){return{ok:!0,value:e}}function sS(e){return{ok:!1,error:e}}function BF(e){return e!=null&&e.ok===!0?e.value:null}function GF(e){return e!=null&&e.ok===!1?e.error:null}async function Ume(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return rS(await e)}catch(t){return sS(t)}}async function jme(e){try{return rS(await e)}catch(t){return O$(t),sS(t)}}function zF(e,t){return new Ia(e,t)}let Ia=class extends Qi{get value(){return BF(this._result)}get error(){return GF(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=a$(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(s=>{this._result=rS(s),this._cleanup()},s=>{this._result=sS(s),this._cleanup()}),this._abortHandle=kc(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=pf(this._abortHandle),this._abortController=null}};g([A()],Ia.prototype,"value",null),g([A()],Ia.prototype,"error",null),g([A()],Ia.prototype,"finished",null),g([A()],Ia.prototype,"promise",void 0),g([A()],Ia.prototype,"_result",void 0),Ia=g([ie("esri.core.asyncUtils.ReactiveTask")],Ia);let j_=class K${constructor(){this._emitter=new K$.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){let o=this._listenersMap?.get(s);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,n):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const a=s.map(l=>this.on(l,n));return Hx(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),Ai(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(n)??-1;l>=0&&a.splice(l,1)})}once(s,n){const o=this.on(s,a=>{o.remove(),("deref"in n?n.deref():n)?.call(null,a)});return o}hasEventListener(s){const n=this._listenersMap?.get(s);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,o){return this._emitter.emit(n,o)}on(n,o){return this._emitter.on(n,o)}once(n,o){return this._emitter.once(n,o)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=g([ie("esri.core.Evented")],s),s};let i=class extends Qi{constructor(){super(...arguments),this._emitter=new j_.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=g([ie("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(j_);var pt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(pt||(pt={}));function qF(e){return(t,i)=>{t[i]=e}}let WF=class extends p${notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var Jo;let HF=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},YF=class{constructor(t,i,r,s,n){this.target=t,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const Ts=new hm(HF,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function rT(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function fb(e){return e?e instanceof qo?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function db(e){if(e?.length)return e[0]}function JF(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let n=0;for(;n<s&&e[i+n]===t[r+n];)n++;return n}function X$(e,t,i,r){t&&t.forEach((s,n,o)=>{e.push(s),X$(e,i.call(r,s,n,o),i,r)})}const ya=new Set,ga=new Set,va=new Set,pb=new Map;let ZF=0,qo=Jo=class extends j_.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Jo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new WF,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:ZF++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Jo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ye(this._observable),this._items}set items(e){this._emitBeforeChanges(pt.ADD)||(this._splice(0,this.length,fb(e)),this._emitAfterChanges(pt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Ai();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Ai(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,s=>{i()?.call(null,s),r.remove()});return r}add(e,t){if(Ye(this._observable),this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(pt.ADD),this}addMany(e,t=this._items.length){if(Ye(this._observable),!e?.length)return this;if(this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,fb(e)),this._emitAfterChanges(pt.ADD),this}at(e){if(Ye(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(pt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ye(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Ye(this._observable);const t=e.map(fb);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(pt.REMOVE)}destroyAll(){this.drain(rT)}destroyMany(e){const t=this.removeMany(e);return t.forEach(rT),t}every(e,t){return Ye(this._observable),this._items.every(e,t)}filter(e,t){Ye(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return Ye(this._observable),this._items.find(e,t)}findIndex(e,t){return Ye(this._observable),this._items.findIndex(e,t)}flatten(e,t){Ye(this._observable);const i=[];return X$(i,this,e,t),new Jo(i)}forEach(e,t){return Ye(this._observable),this._items.forEach(e,t)}getItemAt(e){return Ye(this._observable),this._items[e]}getNextIndex(e){Ye(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Ye(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Ye(this._observable),this._items.indexOf(e,t)}join(e=","){return Ye(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Ye(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Ye(this._observable);const i=this._items.map(e,t);return new Jo({items:i})}reorder(e,t=this.length-1){Ye(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(pt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(pt.MOVE)}return e}}pop(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=db(this._splice(this.length-1,1));return this._emitAfterChanges(pt.REMOVE),e}push(...e){return Ye(this._observable),this._emitBeforeChanges(pt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(pt.ADD)),this.length}reduce(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Ye(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ye(this._observable),e<0||e>=this.length||this._emitBeforeChanges(pt.REMOVE))return;const t=db(this._splice(e,1));return this._emitAfterChanges(pt.REMOVE),t}removeMany(e){if(Ye(this._observable),!e?.length||this._emitBeforeChanges(pt.REMOVE))return[];const t=e instanceof Jo?e.toArray():e,i=this._items,r=[],s=t.length;for(let n=0;n<s;n++){const o=t[n],a=i.indexOf(o);if(a>-1){const l=1+JF(t,i,n+1,a+1),c=this._splice(a,l);c&&c.length>0&&r.push.apply(r,c),n+=l-1}}return this._emitAfterChanges(pt.REMOVE),r}reverse(){if(Ye(this._observable),this._emitBeforeChanges(pt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(pt.MOVE),this}shift(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=db(this._splice(0,1));return this._emitAfterChanges(pt.REMOVE),e}slice(e=0,t=this.length){return Ye(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Ye(this._observable),this._items.some(e,t)}sort(e){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(pt.MOVE),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){Ye(this._observable);const r=(t?pt.REMOVE:0)|(i.length?pt.ADD:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(r),s}toArray(){return Ye(this._observable),this._items.slice()}toJSON(){return Ye(this._observable),this.toArray()}toLocaleString(){return Ye(this._observable),this._items.toLocaleString()}toString(){return Ye(this._observable),this._items.toString()}unshift(...e){return Ye(this._observable),!e.length||this._emitBeforeChanges(pt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(pt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=N$(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const a=Ts.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)n=o[l],a.reset(n),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(e,0,n),e+=1,l-=1,c-=1);Ts.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Ts.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Ts.release(a)}}if(i?.length){if(s){const f=[];for(const d of i){const p=s.ensureType(d);p==null&&d!=null||f.push(p)}i=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const f=Ts.acquire();f.target=this,f.cancellable=!0;const d=Ts.acquire();d.target=this,d.cancellable=!1;for(const p of i)a?(f.reset(p),this.emit("before-add",f),f.defaultPrevented||(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),d.reset(p),this.emit("after-add",d));Ts.release(d),Ts.release(f)}else{if(c)for(const f of i)r.push(f);else r.splice(e,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new YF(this,i,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Ts.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Ts.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ts.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ts.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;ya.clear(),ga.clear(),va.clear();for(const{added:l,removed:c}of i){if(l)if(va.size===0&&ga.size===0)for(const f of l)ya.add(f);else for(const f of l)ga.has(f)?(va.add(f),ga.delete(f)):va.has(f)||ya.add(f);if(c)if(va.size===0&&ya.size===0)for(const f of c)ga.add(f);else for(const f of c)ya.has(f)?ya.delete(f):(va.delete(f),ga.add(f))}const r=Ba.acquire();ya.forEach(l=>{r.push(l)});const s=Ba.acquire();ga.forEach(l=>{s.push(l)});const n=this._items,o=t.items,a=Ba.acquire();if(va.forEach(l=>{o.indexOf(l)!==n.indexOf(l)&&a.push(l)}),t.listeners&&(r.length||s.length||a.length)){const l={target:this,added:r,removed:s,moved:a},c=t.listeners.length;for(let f=0;f<c;f++){const d=t.listeners[f];d.removed||d.callback.call(this,l)}}Ba.release(r),Ba.release(s),Ba.release(a)}ya.clear(),ga.clear(),va.clear()}};qo.ofType=e=>{if(!e)return Jo;if(pb.has(e))return pb.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends Jo{};return g([qF({Type:e,ensureType:typeof e=="function"?En(e):Ih(e)})],i.prototype,"itemType",void 0),i=g([ie(`esri.core.Collection<${t}>`)],i),pb.set(e,i),i},g([A()],qo.prototype,"_updating",void 0),g([A()],qo.prototype,"length",void 0),g([A()],qo.prototype,"items",null),g([A({readOnly:!0})],qo.prototype,"updating",null),qo=Jo=g([ie("esri.core.Collection")],qo);const Ct=qo;function ps(e,t,i={}){return nS(e,t,i,eC)}function sT(e,t,i={}){return nS(e,t,i,tC)}function nS(e,t,i={},r){let s=null;const n=i.once?(o,a)=>{r(o)&&(pf(s),t(o,a))}:(o,a)=>{r(o)&&t(o,a)};if(s=bF(e,n,i.sync,i.equals),i.initial){const o=e();n(o,o)}return s}function Q$(e,t,i,r={}){let s=null,n=null,o=null;function a(){s&&n&&(n.remove(),r.onListenerRemove?.(s),s=null,n=null)}function l(f){r.once&&r.once&&pf(o),i(f)}const c=ps(e,(f,d)=>{a(),Jx(f)&&(s=f,n=M$(f,t,l),r.onListenerAdd?.(f))},{sync:r.sync,initial:!0});return o=Ai(()=>{c.remove(),a()}),o}function qme(e,t){return KF(e,tC,t)}function KF(e,t,i){if(oa(i))return Promise.reject(Ur());const r=e();if(t?.(r))return Promise.resolve(r);let s=null;function n(){s=pf(s)}return new Promise((o,a)=>{s=Hx([kc(i,()=>{n(),a(Ur())}),nS(e,l=>{n(),o(l)},{sync:!1,once:!0},t??eC)])})}function eC(e){return!0}function tC(e){return!!e}function Wme(e,t,i={}){let r=!1;const s=ps(e,(n,o)=>{r||t(n,o)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function XF(e,t){const i=new Ct,r=Q$(e,"after-splice",({added:s,start:n,deleteCount:o})=>{const a=i.splice(n,o);for(const l of a)l.remove();if(s?.length){const l=s.map(t);i.addMany(l,n)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(r),i}function Hme(e,t){const i=new Ct,r=XF(e,a=>zF(async l=>{const c=await t(a,l);if(oa(l))throw c.remove(),Ur();return c})),s=()=>null,n=async a=>{const l=await a.promise,c=r.indexOf(a);c<0||i.splice(c,1,l)};i.addMany(r.items.map(s));for(const a of r)WA(n(a));const o=r.on("after-splice",({added:a,start:l,deleteCount:c})=>{const f=i.splice(l,c);for(const d of f)d?.remove();if(a?.length){i.addMany(a.map(s),l);for(const d of a)WA(n(d))}});return i.addHandles([yD(r),o]),i}const QF={sync:!0},Yme={initial:!0},Jme={sync:!0,initial:!0};let eU=class iC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new iC;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||r?.origin===i?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??ct.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>this._values.get(r)?.origin===t)}set(t,i,r){if((r=this._normalizeOrigin(r))===ct.DEFAULTS){const s=this._values.get(t);if(s?.origin!=null&&s.origin>r)return}this._values.set(t,new tU(i,r))}delete(t,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(t)?.origin!==i||this._values.delete(t)}has(t,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(t)?.origin===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===ct.DEFAULTS?t:ct.USER}},tU=class{constructor(t,i){this.value=t,this.origin=i}};function iU(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),ct.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),ct.DEFAULTS)})}function rU(e,t,i){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&UA(r,i))return!0}else for(const s of r)if(s===t||s.includes(".")&&s.indexOf(t)===0&&UA(s,i))return!0;return!1}function sU(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function nU(e,t,i,r,s){let n=D_(t[i],s);sU(n)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))n=D_(t[o],s),rU(n,i,r)&&(e[o]=!0)}function oU(e,t,i,r){const s=i.metadata,n=LF(s[t],r),o=n?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,r):o;a!==void 0&&i.set(t,a)}const rC={origin:"service"};function aU(e,t,i=rC){if(!t||typeof t!="object")return;const r=ml(e),s=r.metadata,n={};for(const o of Object.getOwnPropertyNames(t))nU(n,s,o,t,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(n)){const a=D_(s[o],i).read,l=a?.source;let c;c=l&&typeof l=="string"?cm(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,i)),c!==void 0&&r.set(o,c)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||oU(e,o,r,i)}r.setDefaultOrigin("user")}function Kme(e,t,i,r=rC){const s={...r,messages:[]};i(s),s.messages?.forEach(n=>{n.type!=="warning"||e.loaded?r?.messages&&r.messages.push(n):e.loadWarnings.push(n)})}function lU(e,t,i,r,s){const n={};return t.write?.writer?.call(e,r,n,i,s),n}function sC(e,t,i,r,s,n){if(!r?.write)return!1;const o=Oh(e,i);if(!s&&r.write.overridePolicy){const a=r.write.overridePolicy.call(e,o,i,n??void 0);a!==void 0&&(s=a)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&n?.layerContainerType&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new ft("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return a&&n?.messages?n.messages.push(a):a&&!n&&kt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===ct.DEFAULTS)&&cU(e,i,n,r,o)||!s.ignoreOrigin&&n?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<m$(n.origin))}function cU(e,t,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(e,t,i??void 0);return $1(o,s)}return!1}return n===s}function Xme(e,t,i,r){const s=ml(e),n=s.metadata,o=H$(n[t],r);return!!o&&sC(e,s,t,o,i,r)}function uU(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return X0(t,e.toJSON(i));const r=ml(e),s=r.metadata;for(const n in s){const o=H$(s[n],i);if(!sC(e,r,n,o,void 0,i))continue;const a=Oh(e,n),l=lU(e,o,o.write&&typeof o.write.target=="string"?o.write.target:n,a,i);Object.keys(l).length>0&&(t=X0(t,l),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>X0(t,l,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:e,propName:n,oldOrigin:TD(r.store.originOf(n)),newOrigin:i.origin}))}return t}const nC=e=>{let t=class extends e{constructor(...i){super(...i);const r=ml(this),s=r.store,n=new eU;r.store=n,iU(r,s,n)}read(i,r){aU(this,i,r)}write(i,r){return uU(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return hU.call(this,i,r)}};return t=g([ie("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function hU(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let Qf=class extends nC(Qi){};Qf=g([ie("esri.core.JSONSupport")],Qf),function(e){function t(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}e.JSONSupportMixin=nC,e.isSerializable=t}(Qf||(Qf={}));const et=Qf;function Xi(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;r.forEach(l=>{const c=U$(n,l,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],i&&(c.read.source=(c.read.source||[]).concat(i))})}}let go=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=fU(t),this.apiValues=nT(this._apiToJSON),this.jsonValues=nT(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const o=this.toJSON(r);o!==void 0&&df(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function fU(e){const t={};for(const i in e)t[e[i]]=i;return t}function nT(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Nn(){return function(e,t){return new go(e,{ignoreUnknown:!0,...t})}}let oS=class{constructor(t,i,r,s,n,o){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const An=new oS(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),bp=new oS(3396190,1/169.8944472236118,23e4,6e4,.111),F1=new oS(1737400,0,0,0,0),dU=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,pU={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function oT(e){const t=e?.match(dU);if(!t)return null;const[,i,r,s]=t;if(!i)return null;let n=null,o=null,a=null;const{devext:l,qaext:c,www:f}=pU;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:n}}function mU(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function oC(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function yU(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function gU(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const vU=()=>kt.getLogger("esri.core.urlUtils"),mf=Ot.request,aT="esri/config: esriConfig.request.proxyUrl is not set.",aC=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,lC=/^\s*http:/i,bU=/^\s*https:/i,_U=/^\s*file:/i,wU=/:\d+$/,xU=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,SU=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),EU=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let dh=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(SU);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(EU),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const o0={},AU=new dh(Ot.applicationUrl);let _r=AU;const TU=MU();let aS=TU;const lS=()=>_r,r0e=()=>aS;function MU(){const e=_r.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${_r.scheme}://${_r.host}${_r.port!=null?`:${_r.port}`:""}`}${t}`}function To(e){if(!e)return null;const t={path:null,query:null},i=new dh(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=cS(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function cS(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const s=r.indexOf("=");let n,o;s<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,s)),o=decodeURIComponent(r.slice(s+1)));let a=i[n];typeof a=="string"&&(a=i[n]=[a]),Array.isArray(a)?a.push(o):i[n]=o}return i}function _p(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",n=t?.[i];return n?s+encodeURIComponent(n(r)):Array.isArray(r)?r.map(o=>et.isSerializable(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):et.isSerializable(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function cC(e=!1){let t,i=mf.proxyUrl;if(typeof e=="string"){t=PU(e);const r=U1(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw vU().warn(aT),new ft("urlUtils:proxy-not-set",aT);return t&&V_()&&(i=pS(i)),To(i)}function s0e(e,t=!1){const i=U1(e);let r,s;if(i){const n=uS(i.proxyUrl);r=n.path,s=n.query?cS(n.query):null}else if(t){const n=cC(e);r=n.path,s=n.query}if(r){const n=To(e);e=r+"?"+n.path;const o=_p({...s,...n.query});o&&(e=`${e}?${o}`)}return e}const kf={path:"",query:""};function uS(e){const t=e.indexOf("?");return t!==-1?(kf.path=e.slice(0,t),kf.query=e.slice(t+1)):(kf.path=e,kf.query=null),kf}function uC(e){return e=(e=og(e=FU(e=uS(e).path),!0)).toLowerCase()}function IU(e){const t={proxyUrl:e.proxyUrl,urlPrefix:uC(e.urlPrefix)},i=mf.proxyRules,r=t.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const o=i[n].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;s=n;break}o.indexOf(r)===0&&(s=n+1)}return i.splice(s,0,t),s}function U1(e){const t=mf.proxyRules,i=uC(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function n0e(e,t){if(!e||!t)return!1;e=ng(e),t=ng(t);const i=oT(e),r=oT(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&$h(e,t,!0)}function OU(e,t){return e=ng(e),t=ng(t),og(e)===og(t)}function ng(e){const t=(e=al(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function lT(e,t=mf.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function $h(e,t,i=!1){if(!e||!t)return!1;const r=G_(e),s=G_(t);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function hS(e){if(typeof e=="string"){if(!vn(e))return!0;e=G_(e)}if($h(e,_r))return!0;const t=mf.trustedServers||[];for(let i=0;i<t.length;i++){const r=$U(t[i]);for(let s=0;s<r.length;s++)if($h(e,r[s]))return!0}return!1}function $U(e){return o0[e]||(dS(e)||Sl(e)?o0[e]=[new dh(dm(e))]:o0[e]=[new dh(`http://${e}`),new dh(`https://${e}`)]),o0[e]}function dm(e,t=aS,i){return Sl(e)?i?.preserveProtocolRelative?e:_r.scheme==="http"&&_r.authority===gs(e).slice(2)?`http:${e}`:`https:${e}`:dS(e)?e:j1(e[0]==="/"?DU(t):t,e)}function hC(e,t=aS,i){if(e==null||!vn(e))return e;const r=al(e),s=r.toLowerCase(),n=al(t).toLowerCase().replace(/\/+$/,""),o=i?al(i).toLowerCase().replace(/\/+$/,""):null;if(o&&n.indexOf(o)!==0)return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(c===-1||o&&c<o.length)return e;e=r.slice(c);const f=n.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)e=`../${e}`;else e=`./${e}`;return e}function al(e){return e=VU(e=jU(e=UU(e=dm(e=e.trim()))))}function j1(...e){const t=e.filter(j7);if(!t?.length)return;const i=[];if(vn(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),kU(t[0])&&(i[0]+="/"),t[0]=s.slice(n+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function gs(e,t=!1){if(e==null||fS(e)||yf(e))return null;let i=e.indexOf("://");if(i===-1&&Sl(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=og(e,!0)),e}function vn(e){return Sl(e)||dS(e)}function fS(e){return e!=null&&e.slice(0,5)==="blob:"}function yf(e){return e!=null&&e.slice(0,5)==="data:"}function CU(e){const t=wp(e);return t?.isBase64?yU(t.data):null}function o0e(e){return gU(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const NU=/^data:(.*?)(;base64)?,(.*)$/;function wp(e){const t=e.match(NU);if(!t)return null;const[,i,r,s]=t;return{mediaType:i,isBase64:!!r,data:s}}function fC(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function a0e(e){return(await fetch(e)).blob()}function l0e(e){const t=CU(e);if(!t)return null;const i=wp(e);return new Blob([t],{type:i.mediaType})}function Sl(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function dS(e){return e!=null&&aC.test(e)}function PU(e){return e!=null&&bU.test(e)||_r.scheme==="https"&&Sl(e)}function LU(e){return e!=null&&lC.test(e)||_r.scheme==="http"&&Sl(e)}function kU(e){return e!=null&&_U.test(e)}function pS(e){return Sl(e)?`https:${e}`:e.replace(lC,"https:")}function RU(){return _r.scheme==="http"}function V_(){return _r.scheme==="https"}function og(e,t=!1){return Sl(e)?e.slice(2):(e=e.replace(aC,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function DU(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function c0e(e){let t=0;if(vn(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function u0e(e,t){if(!e)return"";const i=To(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!t?.length)return r;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(s,"")}function FU(e){return e.endsWith("/")?e:`${e}/`}function dC(e){return e.replace(/\/+$/,"")}function UU(e){if(/^https?:\/\//i.test(e)){const t=uS(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function jU(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function VU(e){const t=mf.httpsDomains;if(!LU(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),wU.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return RU()&&r===_r.authority&&!xU.test(e)||(V_()&&r===_r.authority||t&&t.some(s=>r===s||r.endsWith(`.${s}`))||V_()&&!U1(e))&&(e=pS(e)),e}function B_(e,t,i){if(!(t&&i&&e&&vn(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),n=e.indexOf(":",r+2),o=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(o)}`}function G_(e){return typeof e=="string"?new dh(dm(e)):(e.scheme||(e.scheme=_r.scheme),e)}function h0e(e){return GU.test(e)}function pC(e,t){const i=To(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function BU(e,t,i){const r=To(e),s=r.query||{};return s[t]=String(i),`${r.path}?${_p(s)}`}function mb(e,t){if(!t)return e;const i=To(e),r=i.query||{};for(const[n,o]of Object.entries(t))o!=null&&(r[n]=o);const s=_p(r);return s?`${i.path}?${s}`:i.path}function f0e(e){if(e==null)return null;const t=e.match(mC);return t?t[2]:null}function cT(e){if(e==null)return null;const t=e.match(mC);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function d0e(e){return typeof e=="string"?wp(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(wp(r.result)),r.onerror=s=>i(s)})}const mC=/([^.]*)\.([^/]*)$/,GU=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const zU="4.32";let Yt,qU=zU;qU="4.32.10";function p0e(e){Yt=e}function m0e(e){const t=Yt?.findCredential(e);return t?.token?BU(e,"token",t.token):e}re("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),re("host-webworker");function pm(e,t){const i=t?.url?.path;if(e&&i&&(e=dm(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=hC(e,t.portalItem.itemUrl);r!=null&&WU.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=z_(e,t?.portal))&&B1.test(e)?gC(e):e}function V1(e,t,i=xp.YES){if((e=e&&B1.test(e)?vC(e):e)==null)return e;!vn(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=dm(e);if(t){const s=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(s){const n=z_(s,t.portal),o=z_(r,t.portal);r=hC(o,n,n),r!=null&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=yC(r,t?.portal),vn(r)&&(r=al(r)),t?.resources&&t?.portalItem&&!vn(r)&&!yf(r)&&i===xp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function mS(e,t,i){return pm(e,i)}function Ch(e,t,i,r){const s=V1(e,r);s!==void 0&&(t[i]=s)}const B1=/\/items\/([^/]+)\/resources\/(.*)/,WU=/^\.\/resources\//;function HU(e){return(e?.match(B1)??null)?.[1]??null}function YU(e){const t=e?.match(B1)??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=cT(i);return{prefix:null,filename:o,extension:a}}const{path:s,extension:n}=cT(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function yC(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?B_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function z_(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=lS();return $h(r,`${r.scheme}://${i}`)?B_(e,t.portalHostname,i):B_(e,i,t.portalHostname)}function gC(e){if(!e)return e||null;let t=e;return t&&Yt&&!Yt.findCredential(t)&&(t=oC(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function vC(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Yt&&!Yt.findCredential(t)&&(t=oC(t)),t}var xp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(xp||(xp={}));const y0e=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return xp},ensureMainOnlineDomain:yC,fromCDNUrl:vC,fromJSON:pm,itemIdFromResourceUrl:HU,prefixAndFilenameFromResourceUrl:YU,read:mS,toCDNUrl:gC,toJSON:V1,write:Ch},Symbol.toStringTag,{value:"Module"})),bC={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},_C=Object.values(bC),wC=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${_C.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),JU=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${_C.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),ZU=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function g0e(e){return wC.test(e)}function xC(e){if(e==null)return null;const t=To(e),i=t?.path.match(wC)||t?.path.match(JU);if(!i)return null;const[,r,s,n,o]=i,a=s.indexOf("/");return{title:SC(a!==-1?s.slice(a+1):s),serverType:bC[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function KU(e){const t=To(e).path.match(ZU);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function SC(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function v0e(e,t){const i=[];if(e){const r=xC(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=SC(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function uT(e){let t=gs(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function b0e(e,t){return e&&dC(pC(e,t))}function _0e(e){let{url:t}=e;if(!t)return{url:t};t=pC(t,e.logger);const i=To(t),r=xC(i.path);let s;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(s=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const n=KU(i.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:dC(t),layerId:s}}function w0e(e,t,i,r,s){Ch(t,r,"url",s),r.url&&e.layerId!=null&&(r.url=j1(r.url,i,e.layerId.toString()))}function x0e(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return i&&(r||s||n)}const XU=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function QU(e){const t=gs(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!XU.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function EC(e,t){return!(!Ot.apiKey||!QU(e))}function ej(e,t,i=!1,r){return new Promise((s,n)=>{if(oa(r))return void n(hT());let o=()=>{c(),n(new Error(`Unable to load ${t}`))},a=()=>{const f=e;c(),s(f)},l=()=>{if(!e)return;const f=e;c(),f.src="",n(hT())};const c=()=>{re("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,r?.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};r?.addEventListener("abort",l),re("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function hT(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const AC="Timeout exceeded";function tj(){return new Error(AC)}function S0e(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===AC}function ij(e){Ot.request.crossOriginNoCorsDomains||(Ot.request.crossOriginNoCorsDomains={});const t=Ot.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[gs(i)??""]=0:(t[gs("http://"+i)??""]=0,t[gs("https://"+i)??""]=0)}function rj(e){const t=Ot.request.crossOriginNoCorsDomains;if(t){let i=gs(e);if(i)return i=i.toLowerCase(),!$h(i,lS())&&t[i]<Date.now()-36e5}return!1}async function sj(e){const t=To(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=Ot.request.crossOriginNoCorsDomains,r=gs(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function Pi(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=cS(t.query.toString().replaceAll("+"," ")));const i=yf(e),r=fS(e);r||i||(e=al(e));const s={url:e,requestOptions:{...t}},n=y=>({data:y,getAllHeaders:Nh,getHeader:Nh,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=lT(e,Rs.internalInterceptors);if(o){const y=await dT(o,s);if(y!=null)return n(y)}let a=lT(e);if(a){const y=await dT(a,s);if(y!=null)return n(y);a.after||a.error||(a=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(re("host-webworker")||re("host-node")))throw bn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw bn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw bn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await cj(),ag)return ag.execute(e,t);const l=new AbortController,c=kc(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:Rs.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=t.useRequestQueue?pj(f):W_(f),p=await d.finally(()=>c?.remove());return a?.after?.(p),p}let ag;const Rs=Ot.request,TC="FormData"in globalThis,nj=new Set([499,498,403,401]),oj=new Set(["COM_0056","COM_0057","SB_0008"]),aj=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Nh=()=>null,lg=Symbol();function lj(e){const t=gs(e);t&&!Pi._corsServers.includes(t)&&Pi._corsServers.push(t)}function fT(e){const t=gs(e);return!t||t.endsWith(".arcgis.com")||Pi._corsServers.includes(t)||hS(t)}function bn(e,t,i,r){let s="Error";const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Nh,getHeader:Nh,ssl:!1};if(t instanceof ft)return t.details?(t.details=ge(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=n,t;if(t){const o=r&&(()=>Array.from(r.headers)),a=r&&(f=>r.headers.get(f)),l=r?.status,c=t.message;c&&(s=c),o&&a&&(n.getAllHeaders=o,n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=lg in t?t[lg]:t}return fm(t)?Ur():new ft(e,s,n)}async function cj(){re("host-webworker")&&!ag&&(ag=await _e(()=>import("./request-XVcMAUh1.js"),__vite__mapDeps([0,1]),import.meta.url))}async function q_(){Yt||await _e(()=>import("./IdentityManager-bxJqy9Qo.js"),__vite__mapDeps([2,1,3,4,5,6]),import.meta.url)}async function uj(e){const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let n=null,o=null;if(TC&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Rs.priority,redirect:"follow",signal:r},(n||o)&&(e.fetchOptions.body=n||o),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query?.token||n?.get("token")),!e.hasToken&&EC(t)&&(i.query||(i.query={}),i.query.token=Ot.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!MC(t)&&!oa(r)){let a;i.authMode==="immediate"?(await q_(),a=await Yt.getCredential(t,{signal:r}),e.credential=a):i.authMode==="no-prompt"?(await q_(),a=await Yt.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=a):Yt&&(a=Yt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function MC(e){return aj.some(t=>t.test(e))}async function hj(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},s=fS(t)||yf(t),n=i.responseType||"json",o=s?0:i.timeout!=null?i.timeout:Rs.timeout;let a=!1;if(!s){e.useSSL&&(t=pS(t));let p={...i.query};e.credentialToken&&(p.token=e.credentialToken);let y=_p(p);re("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const v=t.length+1+y.length;let b;a=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||v>Rs.maxUrlLength;const E=i.useProxy||!!U1(t);if(E){const S=cC(t);b=S.path,!a&&b.length+1+v>Rs.maxUrlLength&&(a=!0),S.query&&(p={...S.query,...p})}if(r.method==="HEAD"&&(a||E)){if(a)throw v>Rs.maxUrlLength?bn("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):bn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(E)throw bn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=mb(t,p):(r.body=_p(p),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=mb(t,p),E&&(e.useProxy=!0,t=`${b}?${t}`),p.token&&TC&&r.body instanceof FormData&&!mU(t)&&r.body.set("token",p.token),i.hasOwnProperty("withCredentials")?e.withCredentials=i.withCredentials:$h(t,lS())||(hS(t)||Yt&&Yt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(r.credentials="include",rj(t)&&await sj(a?mb(t,p):t))}let l,c,f=0,d=!1;o>0&&(f=setTimeout(()=>{d=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")c=r,c.url=t,i.signal?c.signal=i.signal:delete c.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||a||fj(i.headers)||!s&&!e.useProxy&&Rs.proxyUrl&&!fT(t)){if(Pi._beforeFetch&&await Pi._beforeFetch(t,r),l=await fetch(t,r),Pi._afterFetch&&await Pi._afterFetch(l),e.useProxy||lj(t),i.responseType==="native")c=l;else if(r.method!=="HEAD")if(l.ok){switch(n){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(f&&(clearTimeout(f),f=0),n==="json"||n==="xml"||n==="document")if(c)switch(n){case"json":c=JSON.parse(c);break;case"xml":c=pT(c,"application/xml");break;case"document":c=pT(c,"text/html")}else c=null;if(c){if(n==="array-buffer"||n==="blob"){const p=l.headers.get("Content-Type");if(p&&/application\/json|text\/plain/i.test(p)&&c[n==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}n==="image"&&c instanceof Blob&&(c=await mT(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await mT(t,e)}catch(p){if(p.name==="AbortError")throw d?tj():Ur("Request canceled");if(!(!l&&p instanceof TypeError&&Rs.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||fT(t))throw p;e.redoRequest=!0,IU({proxyUrl:Rs.proxyUrl,urlPrefix:gs(t)??""})}finally{f&&clearTimeout(f)}return[l,c]}async function dT(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(s){i=bn("request:interceptor",s,t)}if((r instanceof Error||r instanceof ft)&&(i=bn("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function fj(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function pT(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Pi._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Pi._beforeFetch=void 0,Pi._afterFetch=void 0;const dj=new Map;async function pj(e){const t=yj(e.params.url);if(!t)return W_(e);const{QueueProcessor:i}=await _e(()=>import("./QueueProcessor-CVaNJhFS.js"),__vite__mapDeps([7,8,9,10,1]),import.meta.url);return t$(dj,t.origin,()=>{const s=t.isHosted?re("request-queue-concurrency-hosted"):re("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(oa(n.params.requestOptions))throw bn("",Ur("Request canceled"),n.params);return W_(n)}})}).push(e)}async function W_(e){let t,i;await uj(e);try{do[t,i]=await hj(e);while(!await mj(e,t,i))}catch(n){const o=bn("request:server",n,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&i.user?.username&&!hS(r)){const n=gs(r,!0);n&&Rs.trustedServers.push(n)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&ij(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Yt){let o=Yt.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Yt.findCredential(o,s.userId);a&&Yt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Nh,getHeader:t?n=>t.headers.get(n):Nh,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function mj(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[lg]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[lg]=i,s;let o,a=null;s&&(n=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=r.authMode;if(n===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&nj.has(n)&&!MC(e.params.url)&&(n!==403||(!o||!oj.has(o))&&(a==null||a===2&&e.credentialToken))){await q_();try{const c=await Yt.getCredential(e.params.url,{error:bn("request:server",s,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=c}}if(s)throw s;return!0}function mT(e,t,i=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Rs.priority,s.src=e,ej(s,e,i,r)}function yj(e){let t,i;return typeof e=="string"?(t=gs(e,!0),i=uT(e)):(t=e.origin,i=uT(e.toString())),t==null?null:{origin:t,isHosted:i}}function gj(e){if(!Ot.assetsPath)throw kt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ft("assets:path-not-set","config.assetsPath is not set");return j1(Ot.assetsPath,e)}let yb,z=null;function vj(){return!!z}function bj(){return!!re("esri-wasm")}function _j(){return yb||(yb=_e(()=>import("./pe-wasm-CRA-qgEz.js"),__vite__mapDeps([11,12]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>gj(`esri/geometry/support/${t}`)})).then(e=>{$C(e)}),yb)}var H_,Ht;(function(e){function t(n,o,a){z.ensureCache.prepare();const l=mc(a),c=a===l,f=z.ensureFloat64(l),d=z._pe_geog_to_proj(z.getPointer(n),o,f);return d&&Xa(a,o,f,c),d}function i(n,o,a,l){switch(l){case Ht.PE_TRANSFORM_P_TO_G:return r(n,o,a);case Ht.PE_TRANSFORM_G_TO_P:return t(n,o,a)}return 0}function r(n,o,a){return s(n,o,a,0)}function s(n,o,a,l){z.ensureCache.prepare();const c=mc(a),f=a===c,d=z.ensureFloat64(c),p=z._pe_proj_to_geog_center(z.getPointer(n),o,d,l);return p&&Xa(a,o,d,f),p}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=s})(H_||(H_={})),function(e){function t(){e.PE_BUFFER_MAX=z.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=z.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=z.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=z.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=z.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=z.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=z.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=z.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=z.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=z.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=z.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=z.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=z.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=z.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=z.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=z.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=z.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=z.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=z.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=z.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=z.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=z.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=z.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=z.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=z.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=z.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=z.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=z.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Ht||(Ht={}));let IC=null;var Y_;(function(e){const t={},i={},r=y=>{const v=y.getType();switch(v){case Ht.PE_TYPE_GEOGCS:y=z.castObject(y,z.PeGeogcs);break;case Ht.PE_TYPE_PROJCS:y=z.castObject(y,z.PeProjcs);break;case Ht.PE_TYPE_GEOGTRAN:y=z.castObject(y,z.PeGeogtran);break;default:v&Ht.PE_TYPE_UNIT&&(y=z.castObject(y,z.PeUnit))}return y};function s(){z.PeFactory.prototype.initialize(null)}function n(y){return o(Ht.PE_TYPE_COORDSYS,y)}function o(y,v){let b=null,E=t[y];if(E||(E={},t[y]=E),E.hasOwnProperty(String(v))&&(b=E[v],z.compare(b,z.NULL)&&(b=null)),!b){const S=z.PeFactory.prototype.factoryByType(y,v);z.compare(S,z.NULL)||(b=r(S),E[v]=b)}return b}function a(y,v){let b=null,E=i[y];if(E||(E={},i[y]=E),E.hasOwnProperty(v)&&(b=E[v],z.compare(b,z.NULL)&&(b=null)),!b){const S=z.PeFactory.prototype.fromString(y,v);z.compare(S,z.NULL)||(b=r(S),E[v]=b)}return b}function l(y){return o(Ht.PE_TYPE_GEOGCS,y)}function c(y){return o(Ht.PE_TYPE_GEOGTRAN,y)}function f(y){return z.PeFactory.prototype.getCode(y)}function d(y){return o(Ht.PE_TYPE_PROJCS,y)}function p(y){return o(Ht.PE_TYPE_UNIT,y)}e.initialize=s,e.coordsys=n,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=f,e.projcs=d,e.unit=p})(Y_||(Y_={}));let OC=null;var cg,J_,Z_,K_,X_,Q_,ug,e2,hg,fg,t2;function $C(e){function t(n,o,a){n[o]=a(n[o])}z=e,Ht.init(),cg.init(),ug.init(),hg.init(),fg.init(),IC=class extends z.PeDouble{constructor(n=NaN){super(n)}destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}},OC=class extends z.PeGCSExtent{destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[z.PeAngunit,z.PeDatum,z.PeGeogcs,z.PeGeogtran,z.PeObject,z.PeParameter,z.PePrimem,z.PeProjcs,z.PeSpheroid,z.PeUnit];for(const n of i)t(n.prototype,"getName",o=>function(){return o.call(this,new Array(Ht.PE_NAME_MAX))});for(const n of[z.PeGeogtran,z.PeProjcs])t(n.prototype,"getParameters",o=>function(){const a=new Array(Ht.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=z.getValue(l,"*");a[c]=f?z.wrapPointer(f,z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(z.PeHorizon.prototype,"getCoord",n=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Xa(l,a,n.call(this),o),l}),t(z.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+o*d,z.PeGTlistExtendedGTs))}}return a}});const r=z._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=l.getNump();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+r*d,z.PeHorizon))}}return o.set(n,a),a};t(z.PeProjcs.prototype,"horizonGcsGenerate",s),t(z.PeProjcs.prototype,"horizonPcsGenerate",s),z.PeObject.prototype.toString=function(n=Ht.PE_STR_OPTS_NONE){z.ensureCache.prepare();const o=z.getPointer(this),a=z.ensureInt8(new Array(Ht.PE_BUFFER_MAX));return z.UTF8ToString(z._pe_object_to_string_ext(o,n,a))},z.PeGeogcs.prototype.destroy=function(){this.Delete(),cn(this),this.ptr=0},z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},z.PeProjcs.prototype.destroy=function(){this.Delete(),cn(this),this.ptr=0},z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function cn(e){if(!e)return;const t=z.getClass(e);if(!t)return;const i=z.getCache(t);if(!i)return;const r=z.getPointer(e);r&&delete i[r]}function a0(e,t){const i=[],r=new Array(t);for(let s=0;s<e;s++)i.push(z.ensureInt8(r));return i}function mc(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Xa(e,t,i,r=!1){if(r)for(let s=0;s<2*t;s++)e[s]=z.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=z.getValue(i,"double"),e[n][1]=z.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=z._pe_getPeGTlistExtendedEntrySize()}function r(s,n,o,a,l,c){let f=null;const d=new z.PeInteger(c);try{const p=z.PeGTlistExtended.prototype.getGTlist(s,n,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=z.getPointer(p);for(let v=1;v<c;v++)f.push(z.wrapPointer(y+t*v,z.PeGTlistExtendedEntry))}}finally{z.destroy(d)}return f}e.init=i,e.getGTlist=r})(cg||(cg={})),function(e){function t(i){if(i?.length){for(const r of i)cn(r),r.getEntries().forEach(s=>{cn(s);const n=s.getGeogtran();cn(n),n.getParameters().forEach(cn),[n.getGeogcs1(),n.getGeogcs2()].forEach(o=>{cn(o);const a=o.getDatum();cn(a),cn(a.getSpheroid()),cn(o.getPrimem()),cn(o.getUnit())})});z.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(J_||(J_={})),function(e){function t(i,r,s,n,o){z.ensureCache.prepare();const a=mc(s),l=s===a,c=z.ensureFloat64(a);let f=0;n&&(f=z.ensureFloat64(n));const d=z._pe_geog_to_geog(z.getPointer(i),r,c,f,o);return d&&Xa(s,r,c,l),d}e.geogToGeog=t}(Z_||(Z_={})),function(e){function t(n,o,a,l,c,f,d,p){z.PeLineType.prototype.geodesic_coordinate(n,o,a,l,c,f,d,p)}function i(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.geodetic_coordinate(n,o,a,l,c,f,d,p,y)}function r(n,o,a,l,c,f,d,p,y,v){z.PeLineType.prototype.geodetic_distance(n,o,a,l,c,f,d,p,y,v)}function s(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.great_elliptic_distance(n,o,a,l,c,f,d,p,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=s}(K_||(K_={})),function(e){function t(o,a){return z.PeMath.prototype.phi_to_eta(o,a)}function i(o,a){return z.PeMath.prototype.eta_to_phi(o,a)}function r(o,a){return z.PeMath.prototype.phi_to_phig(o,a)}function s(o,a,l){return z.PeMath.prototype.q(o,a,l)}function n(o,a){return z.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=s,e.q90=n}(X_||(X_={})),function(e){const t=(c,f,d,p,y,v)=>{let b,E;switch(z.ensureCache.prepare(),c){case"dd":b=z._pe_geog_to_dd,E=Ht.PE_DD_MAX;break;case"ddm":b=z._pe_geog_to_ddm,E=Ht.PE_DDM_MAX;break;case"dms":b=z._pe_geog_to_dms,E=Ht.PE_DMS_MAX}let S=0;f&&(S=z.getPointer(f));const T=mc(p),w=z.ensureFloat64(T),_=a0(d,E),M=b(S,d,w,y,z.ensureInt32(_));if(M)for(let I=0;I<d;I++)v[I]=z.UTF8ToString(_[I]);return M},i=(c,f,d,p,y)=>{let v;switch(z.ensureCache.prepare(),c){case"dd":v=z._pe_dd_to_geog;break;case"ddm":v=z._pe_ddm_to_geog;break;case"dms":v=z._pe_dms_to_geog}let b=0;f&&(b=z.getPointer(f));const E=p.map(_=>z.ensureString(_)),S=z.ensureInt32(E),T=z.ensureFloat64(new Array(2*d)),w=v(b,d,S,T);return w&&Xa(y,d,T),w};function r(c,f,d,p,y){return t("dms",c,f,d,p,y)}function s(c,f,d,p){return i("dms",c,f,d,p)}function n(c,f,d,p,y){return t("ddm",c,f,d,p,y)}function o(c,f,d,p){return i("ddm",c,f,d,p)}function a(c,f,d,p,y){return t("dd",c,f,d,p,y)}function l(c,f,d,p){return i("dd",c,f,d,p)}e.geogToDms=r,e.dmsToGeog=s,e.geogToDdm=n,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(Q_||(Q_={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,n,o,a,l,c,f){z.ensureCache.prepare();let d=0;s&&(d=z.getPointer(s));const p=mc(o),y=z.ensureFloat64(p),v=a0(n,Ht.PE_MGRS_MAX),b=z.ensureInt32(v),E=z._pe_geog_to_mgrs_extended(d,n,y,a,l,c,b);if(E)for(let S=0;S<n;S++)f[S]=z.UTF8ToString(v[S]);return E}function r(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_mgrs_to_geog_extended(c,n,d,a,p);return y&&Xa(l,n,p),y}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(ug||(ug={})),function(e){function t(r,s,n,o,a,l,c){z.ensureCache.prepare();let f=0;r&&(f=z.getPointer(r));const d=mc(n),p=z.ensureFloat64(d),y=a0(s,Ht.PE_MGRS_MAX),v=z.ensureInt32(y),b=z._pe_geog_to_usng(f,s,p,o,a,l,v);if(b)for(let E=0;E<s;E++)c[E]=z.UTF8ToString(y[E]);return b}function i(r,s,n,o){z.ensureCache.prepare();let a=0;r&&(a=z.getPointer(r));const l=n.map(p=>z.ensureString(p)),c=z.ensureInt32(l),f=z.ensureFloat64(new Array(2*s)),d=z._pe_usng_to_geog(a,s,c,f);return d&&Xa(o,s,f),d}e.geogToUsng=t,e.usngToGeog=i}(e2||(e2={})),function(e){function t(){e.PE_UTM_OPTS_NONE=z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=mc(o),d=z.ensureFloat64(f),p=a0(n,Ht.PE_UTM_MAX),y=z.ensureInt32(p),v=z._pe_geog_to_utm(c,n,d,a,y);if(v)for(let b=0;b<n;b++)l[b]=z.UTF8ToString(p[b]);return v}function r(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_utm_to_geog(c,n,d,a,p);return y&&Xa(l,n,p),y}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(hg||(hg={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=z.PePCSInfo.prototype.PE_POLE_POINT}function r(s,n=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(s)&&(a=t.get(s),a[n]&&(o=a[n])),o||(o=z.PePCSInfo.prototype.generate(s,n),a||(a=[],t.set(s,a)),a[n]=o),o}e.init=i,e.generate=r}(fg||(fg={})),function(e){function t(){return z.PeVersion.prototype.version_string()}e.versionString=t}(t2||(t2={}));const E0e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return H_},get PeDefs(){return Ht},get PeDouble(){return IC},get PeFactory(){return Y_},get PeGCSExtent(){return OC},get PeGTTransformations(){return Z_},get PeGTlistExtended(){return cg},get PeGTlistExtendedEntry(){return J_},get PeLineType(){return K_},get PeMath(){return X_},get PeNotationDms(){return Q_},get PeNotationMgrs(){return ug},get PeNotationUsng(){return e2},get PeNotationUtm(){return hg},get PePCSInfo(){return fg},get PeVersion(){return t2},_init:$C,get _pe(){return z},isLoaded:vj,isSupported:bj,load:_j},Symbol.toStringTag,{value:"Module"}));var Ph;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Ph||(Ph={}));let u;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(u=2e3;u<=2045;u++)O[u]=0;for(u=2056;u<=2065;u++)O[u]=0;for(u=2067;u<=2135;u++)O[u]=0;for(u=2137;u<=2154;u++)O[u]=0;for(u=2161;u<=2170;u++)O[u]=0;for(u=2172;u<=2193;u++)O[u]=0;for(u=2195;u<=2198;u++)O[u]=0;for(u=2200;u<=2203;u++)O[u]=0;for(u=2205;u<=2217;u++)O[u]=0;for(u=2222;u<=2224;u++)O[u]=1;for(u=2225;u<=2250;u++)O[u]=2;for(u=2251;u<=2253;u++)O[u]=1;for(u=2257;u<=2264;u++)O[u]=2;for(u=2274;u<=2279;u++)O[u]=2;for(u=2280;u<=2282;u++)O[u]=1;for(u=2283;u<=2289;u++)O[u]=2;for(u=2290;u<=2292;u++)O[u]=0;for(u=2308;u<=2313;u++)O[u]=0;for(u=2315;u<=2491;u++)O[u]=0;for(u=2494;u<=2866;u++)O[u]=0;for(u=2867;u<=2869;u++)O[u]=1;for(u=2870;u<=2888;u++)O[u]=2;for(u=2891;u<=2895;u++)O[u]=2;for(u=2896;u<=2898;u++)O[u]=1;for(u=2902;u<=2908;u++)O[u]=2;for(u=2915;u<=2920;u++)O[u]=2;for(u=2921;u<=2923;u++)O[u]=1;for(u=2924;u<=2930;u++)O[u]=2;for(u=2931;u<=2962;u++)O[u]=0;for(u=2964;u<=2968;u++)O[u]=2;for(u=2969;u<=2973;u++)O[u]=0;for(u=2975;u<=2991;u++)O[u]=0;for(u=2995;u<=3051;u++)O[u]=0;for(u=3054;u<=3079;u++)O[u]=0;for(u=3081;u<=3088;u++)O[u]=0;for(u=3092;u<=3101;u++)O[u]=0;for(u=3106;u<=3138;u++)O[u]=0;for(u=3146;u<=3151;u++)O[u]=0;for(u=3153;u<=3166;u++)O[u]=0;for(u=3168;u<=3172;u++)O[u]=0;for(u=3174;u<=3203;u++)O[u]=0;for(u=3294;u<=3358;u++)O[u]=0;for(u=3367;u<=3403;u++)O[u]=0;for(u=3408;u<=3416;u++)O[u]=0;for(u=3417;u<=3438;u++)O[u]=2;for(u=3441;u<=3446;u++)O[u]=2;for(u=3447;u<=3450;u++)O[u]=0;for(u=3451;u<=3459;u++)O[u]=2;for(u=3460;u<=3478;u++)O[u]=0;for(u=3554;u<=3559;u++)O[u]=0;for(u=3560;u<=3570;u++)O[u]=2;for(u=3571;u<=3581;u++)O[u]=0;for(u=3594;u<=3597;u++)O[u]=0;for(u=3601;u<=3604;u++)O[u]=0;for(u=3637;u<=3639;u++)O[u]=0;for(u=3665;u<=3667;u++)O[u]=0;for(u=3693;u<=3695;u++)O[u]=0;for(u=3701;u<=3727;u++)O[u]=0;for(u=3728;u<=3739;u++)O[u]=2;for(u=3740;u<=3751;u++)O[u]=0;for(u=3753;u<=3760;u++)O[u]=2;for(u=3761;u<=3773;u++)O[u]=0;for(u=3775;u<=3777;u++)O[u]=0;for(u=3779;u<=3781;u++)O[u]=0;for(u=3783;u<=3785;u++)O[u]=0;for(u=3788;u<=3791;u++)O[u]=0;for(u=3797;u<=3802;u++)O[u]=0;for(u=3814;u<=3816;u++)O[u]=0;for(u=3825;u<=3829;u++)O[u]=0;for(u=3832;u<=3841;u++)O[u]=0;for(u=3844;u<=3852;u++)O[u]=0;for(u=3873;u<=3885;u++)O[u]=0;for(u=3890;u<=3893;u++)O[u]=0;for(u=3907;u<=3912;u++)O[u]=0;for(u=3942;u<=3950;u++)O[u]=0;for(u=3968;u<=3970;u++)O[u]=0;for(u=3973;u<=3976;u++)O[u]=0;for(u=3986;u<=3989;u++)O[u]=0;for(u=3994;u<=3997;u++)O[u]=0;for(u=4048;u<=4051;u++)O[u]=0;for(u=4056;u<=4063;u++)O[u]=0;for(u=4093;u<=4096;u++)O[u]=0;for(u=4390;u<=4398;u++)O[u]=0;for(u=4399;u<=4413;u++)O[u]=2;for(u=4418;u<=4433;u++)O[u]=2;for(u=4455;u<=4457;u++)O[u]=2;for(u=4484;u<=4489;u++)O[u]=0;for(u=4491;u<=4554;u++)O[u]=0;for(u=4568;u<=4589;u++)O[u]=0;for(u=4652;u<=4656;u++)O[u]=0;for(u=4766;u<=4800;u++)O[u]=0;for(u=5014;u<=5016;u++)O[u]=0;for(u=5069;u<=5072;u++)O[u]=0;for(u=5105;u<=5130;u++)O[u]=0;for(u=5167;u<=5188;u++)O[u]=0;for(u=5253;u<=5259;u++)O[u]=0;for(u=5269;u<=5275;u++)O[u]=0;for(u=5292;u<=5311;u++)O[u]=0;for(u=5329;u<=5331;u++)O[u]=0;for(u=5343;u<=5349;u++)O[u]=0;for(u=5355;u<=5357;u++)O[u]=0;for(u=5387;u<=5389;u++)O[u]=0;for(u=5459;u<=5463;u++)O[u]=0;for(u=5479;u<=5482;u++)O[u]=0;for(u=5518;u<=5520;u++)O[u]=0;for(u=5530;u<=5539;u++)O[u]=0;for(u=5550;u<=5552;u++)O[u]=0;for(u=5562;u<=5583;u++)O[u]=0;for(u=5623;u<=5625;u++)O[u]=2;for(u=5631;u<=5639;u++)O[u]=0;for(u=5649;u<=5653;u++)O[u]=0;for(u=5663;u<=5680;u++)O[u]=0;for(u=5682;u<=5685;u++)O[u]=0;for(u=5875;u<=5877;u++)O[u]=0;for(u=5896;u<=5899;u++)O[u]=0;for(u=5921;u<=5940;u++)O[u]=0;for(u=6050;u<=6125;u++)O[u]=0;for(u=6244;u<=6275;u++)O[u]=0;for(u=6328;u<=6348;u++)O[u]=0;for(u=6350;u<=6356;u++)O[u]=0;for(u=6366;u<=6372;u++)O[u]=0;for(u=6381;u<=6387;u++)O[u]=0;for(u=6393;u<=6404;u++)O[u]=0;for(u=6480;u<=6483;u++)O[u]=0;for(u=6511;u<=6514;u++)O[u]=0;for(u=6579;u<=6581;u++)O[u]=0;for(u=6619;u<=6624;u++)O[u]=0;for(u=6625;u<=6627;u++)O[u]=2;for(u=6628;u<=6632;u++)O[u]=0;for(u=6634;u<=6637;u++)O[u]=0;for(u=6669;u<=6692;u++)O[u]=0;for(u=6707;u<=6709;u++)O[u]=0;for(u=6720;u<=6723;u++)O[u]=0;for(u=6732;u<=6738;u++)O[u]=0;for(u=6931;u<=6933;u++)O[u]=0;for(u=6956;u<=6959;u++)O[u]=0;for(u=7005;u<=7007;u++)O[u]=0;for(u=7057;u<=7070;u++)O[u]=2;for(u=7074;u<=7082;u++)O[u]=0;for(u=7109;u<=7118;u++)O[u]=0;for(u=7119;u<=7127;u++)O[u]=1;for(u=7374;u<=7376;u++)O[u]=0;for(u=7528;u<=7586;u++)O[u]=0;for(u=7587;u<=7645;u++)O[u]=2;for(u=7692;u<=7696;u++)O[u]=0;for(u=7755;u<=7787;u++)O[u]=0;for(u=7791;u<=7795;u++)O[u]=0;for(u=7799;u<=7801;u++)O[u]=0;for(u=7803;u<=7805;u++)O[u]=0;for(u=7825;u<=7831;u++)O[u]=0;for(u=7845;u<=7859;u++)O[u]=0;for(u=8013;u<=8032;u++)O[u]=0;for(u=8065;u<=8068;u++)O[u]=1;for(u=8518;u<=8529;u++)O[u]=2;for(u=8533;u<=8536;u++)O[u]=2;for(u=8538;u<=8540;u++)O[u]=2;for(u=8677;u<=8679;u++)O[u]=0;for(u=8836;u<=8840;u++)O[u]=0;for(u=8857;u<=8859;u++)O[u]=0;for(u=8908;u<=8910;u++)O[u]=0;for(u=9154;u<=9159;u++)O[u]=0;for(u=9205;u<=9218;u++)O[u]=0;for(u=9271;u<=9273;u++)O[u]=0;for(u=9295;u<=9297;u++)O[u]=0;for(u=9356;u<=9360;u++)O[u]=0;for(u=9404;u<=9407;u++)O[u]=0;for(u=9476;u<=9482;u++)O[u]=0;for(u=9487;u<=9494;u++)O[u]=0;for(u=9697;u<=9699;u++)O[u]=0;for(u=9821;u<=9865;u++)O[u]=0;for(u=10285;u<=10291;u++)O[u]=0;for(u=10314;u<=10317;u++)O[u]=0;for(u=10448;u<=10465;u++)O[u]=0;for(u=10731;u<=10733;u++)O[u]=0;for(u=11114;u<=11118;u++)O[u]=0;for(u=20004;u<=20032;u++)O[u]=0;for(u=20047;u<=20049;u++)O[u]=0;for(u=20062;u<=20092;u++)O[u]=0;for(u=20135;u<=20138;u++)O[u]=0;for(u=20248;u<=20258;u++)O[u]=0;for(u=20348;u<=20358;u++)O[u]=0;for(u=20436;u<=20440;u++)O[u]=0;for(u=20822;u<=20824;u++)O[u]=0;for(u=20904;u<=20932;u++)O[u]=0;for(u=20934;u<=20936;u++)O[u]=0;for(u=21004;u<=21032;u++)O[u]=0;for(u=21035;u<=21037;u++)O[u]=0;for(u=21095;u<=21097;u++)O[u]=0;for(u=21148;u<=21150;u++)O[u]=0;for(u=21207;u<=21264;u++)O[u]=0;for(u=21307;u<=21364;u++)O[u]=0;for(u=21413;u<=21423;u++)O[u]=0;for(u=21453;u<=21463;u++)O[u]=0;for(u=21473;u<=21483;u++)O[u]=0;for(u=21780;u<=21782;u++)O[u]=0;for(u=21891;u<=21894;u++)O[u]=0;for(u=21896;u<=21899;u++)O[u]=0;for(u=22171;u<=22177;u++)O[u]=0;for(u=22181;u<=22187;u++)O[u]=0;for(u=22191;u<=22197;u++)O[u]=0;for(u=22207;u<=22222;u++)O[u]=0;for(u=22229;u<=22232;u++)O[u]=0;for(u=22234;u<=22236;u++)O[u]=0;for(u=22243;u<=22250;u++)O[u]=0;for(u=22262;u<=22265;u++)O[u]=0;for(u=22307;u<=22322;u++)O[u]=0;for(u=22348;u<=22357;u++)O[u]=0;for(u=22407;u<=22422;u++)O[u]=0;for(u=22462;u<=22465;u++)O[u]=0;for(u=22521;u<=22525;u++)O[u]=0;for(u=22607;u<=22622;u++)O[u]=0;for(u=22641;u<=22646;u++)O[u]=0;for(u=22648;u<=22657;u++)O[u]=0;for(u=22707;u<=22722;u++)O[u]=0;for(u=22762;u<=22765;u++)O[u]=0;for(u=22807;u<=22822;u++)O[u]=0;for(u=22991;u<=22994;u++)O[u]=0;for(u=23028;u<=23038;u++)O[u]=0;for(u=23301;u<=23333;u++)O[u]=2;for(u=23830;u<=23853;u++)O[u]=0;for(u=23866;u<=23872;u++)O[u]=0;for(u=23877;u<=23884;u++)O[u]=0;for(u=23886;u<=23894;u++)O[u]=0;for(u=23946;u<=23948;u++)O[u]=0;for(u=24311;u<=24313;u++)O[u]=0;for(u=24342;u<=24347;u++)O[u]=0;for(u=24370;u<=24374;u++)O[u]=10;for(u=24375;u<=24381;u++)O[u]=0;for(u=24718;u<=24721;u++)O[u]=0;for(u=24817;u<=24821;u++)O[u]=0;for(u=24877;u<=24882;u++)O[u]=0;for(u=24891;u<=24893;u++)O[u]=0;for(u=25391;u<=25395;u++)O[u]=0;for(u=25828;u<=25838;u++)O[u]=0;for(u=26191;u<=26195;u++)O[u]=0;for(u=26391;u<=26393;u++)O[u]=0;for(u=26701;u<=26722;u++)O[u]=0;for(u=26729;u<=26799;u++)O[u]=2;for(u=26801;u<=26803;u++)O[u]=2;for(u=26811;u<=26813;u++)O[u]=2;for(u=26847;u<=26870;u++)O[u]=2;for(u=26891;u<=26899;u++)O[u]=0;for(u=26901;u<=26923;u++)O[u]=0;for(u=26929;u<=26946;u++)O[u]=0;for(u=26948;u<=26998;u++)O[u]=0;for(u=27037;u<=27040;u++)O[u]=0;for(u=27205;u<=27232;u++)O[u]=0;for(u=27258;u<=27260;u++)O[u]=0;for(u=27391;u<=27398;u++)O[u]=0;for(u=27561;u<=27564;u++)O[u]=0;for(u=27571;u<=27574;u++)O[u]=0;for(u=27581;u<=27584;u++)O[u]=0;for(u=27591;u<=27594;u++)O[u]=0;for(u=27700;u<=27707;u++)O[u]=0;for(u=28191;u<=28193;u++)O[u]=0;for(u=28348;u<=28358;u++)O[u]=0;for(u=28402;u<=28432;u++)O[u]=0;for(u=28462;u<=28492;u++)O[u]=0;for(u=29118;u<=29122;u++)O[u]=0;for(u=29168;u<=29172;u++)O[u]=0;for(u=29177;u<=29185;u++)O[u]=0;for(u=29187;u<=29195;u++)O[u]=0;for(u=29900;u<=29903;u++)O[u]=0;for(u=30161;u<=30179;u++)O[u]=0;for(u=30491;u<=30494;u++)O[u]=0;for(u=30729;u<=30732;u++)O[u]=0;for(u=31251;u<=31259;u++)O[u]=0;for(u=31265;u<=31268;u++)O[u]=0;for(u=31275;u<=31279;u++)O[u]=0;for(u=31281;u<=31297;u++)O[u]=0;for(u=31461;u<=31469;u++)O[u]=0;for(u=31491;u<=31495;u++)O[u]=0;for(u=31917;u<=31922;u++)O[u]=0;for(u=31965;u<=32e3;u++)O[u]=0;for(u=32001;u<=32003;u++)O[u]=2;for(u=32005;u<=32031;u++)O[u]=2;for(u=32033;u<=32060;u++)O[u]=2;for(u=32064;u<=32067;u++)O[u]=2;for(u=32074;u<=32077;u++)O[u]=2;for(u=32081;u<=32086;u++)O[u]=0;for(u=32107;u<=32130;u++)O[u]=0;for(u=32133;u<=32159;u++)O[u]=0;for(u=32164;u<=32167;u++)O[u]=2;for(u=32180;u<=32199;u++)O[u]=0;for(u=32201;u<=32260;u++)O[u]=0;for(u=32301;u<=32360;u++)O[u]=0;for(u=32401;u<=32460;u++)O[u]=0;for(u=32501;u<=32560;u++)O[u]=0;for(u=32601;u<=32662;u++)O[u]=0;for(u=32664;u<=32667;u++)O[u]=2;for(u=32701;u<=32761;u++)O[u]=0;for(u=53001;u<=53004;u++)O[u]=0;for(u=53008;u<=53019;u++)O[u]=0;for(u=53021;u<=53032;u++)O[u]=0;for(u=53034;u<=53037;u++)O[u]=0;for(u=53042;u<=53046;u++)O[u]=0;for(u=53074;u<=53080;u++)O[u]=0;for(u=54001;u<=54004;u++)O[u]=0;for(u=54008;u<=54019;u++)O[u]=0;for(u=54021;u<=54032;u++)O[u]=0;for(u=54034;u<=54037;u++)O[u]=0;for(u=54042;u<=54046;u++)O[u]=0;for(u=54048;u<=54053;u++)O[u]=0;for(u=54074;u<=54080;u++)O[u]=0;for(u=54098;u<=54101;u++)O[u]=0;for(u=102001;u<=102040;u++)O[u]=0;for(u=102042;u<=102063;u++)O[u]=0;for(u=102065;u<=102067;u++)O[u]=0;for(u=102070;u<=102117;u++)O[u]=0;for(u=102122;u<=102216;u++)O[u]=0;for(u=102221;u<=102377;u++)O[u]=0;for(u=102382;u<=102388;u++)O[u]=0;for(u=102389;u<=102398;u++)O[u]=2;for(u=102399;u<=102444;u++)O[u]=0;for(u=102445;u<=102447;u++)O[u]=2;for(u=102448;u<=102458;u++)O[u]=0;for(u=102459;u<=102468;u++)O[u]=2;for(u=102469;u<=102499;u++)O[u]=0;for(u=102500;u<=102519;u++)O[u]=1;for(u=102520;u<=102524;u++)O[u]=0;for(u=102525;u<=102529;u++)O[u]=2;for(u=102530;u<=102588;u++)O[u]=0;for(u=102590;u<=102598;u++)O[u]=0;for(u=102601;u<=102603;u++)O[u]=0;for(u=102605;u<=102628;u++)O[u]=0;for(u=102629;u<=102646;u++)O[u]=2;for(u=102648;u<=102700;u++)O[u]=2;for(u=102701;u<=102703;u++)O[u]=0;for(u=102707;u<=102730;u++)O[u]=2;for(u=102733;u<=102758;u++)O[u]=2;for(u=102767;u<=102900;u++)O[u]=0;for(u=102901;u<=102933;u++)O[u]=2;for(u=102934;u<=102950;u++)O[u]=13;for(u=102951;u<=102963;u++)O[u]=0;for(u=102965;u<=102969;u++)O[u]=0;for(u=102971;u<=102973;u++)O[u]=0;for(u=102975;u<=102989;u++)O[u]=0;for(u=102990;u<=102992;u++)O[u]=1;for(u=102997;u<=103002;u++)O[u]=0;for(u=103003;u<=103008;u++)O[u]=2;for(u=103009;u<=103011;u++)O[u]=0;for(u=103012;u<=103014;u++)O[u]=2;for(u=103019;u<=103021;u++)O[u]=0;for(u=103022;u<=103024;u++)O[u]=2;for(u=103029;u<=103031;u++)O[u]=0;for(u=103032;u<=103034;u++)O[u]=2;for(u=103065;u<=103068;u++)O[u]=0;for(u=103074;u<=103076;u++)O[u]=0;for(u=103077;u<=103079;u++)O[u]=1;for(u=103080;u<=103082;u++)O[u]=0;for(u=103083;u<=103085;u++)O[u]=2;for(u=103090;u<=103093;u++)O[u]=0;for(u=103097;u<=103099;u++)O[u]=0;for(u=103100;u<=103102;u++)O[u]=2;for(u=103107;u<=103109;u++)O[u]=0;for(u=103110;u<=103112;u++)O[u]=2;for(u=103113;u<=103116;u++)O[u]=0;for(u=103117;u<=103120;u++)O[u]=2;for(u=103153;u<=103157;u++)O[u]=0;for(u=103158;u<=103162;u++)O[u]=2;for(u=103163;u<=103165;u++)O[u]=0;for(u=103166;u<=103168;u++)O[u]=1;for(u=103169;u<=103171;u++)O[u]=2;for(u=103186;u<=103188;u++)O[u]=0;for(u=103189;u<=103191;u++)O[u]=2;for(u=103192;u<=103195;u++)O[u]=0;for(u=103196;u<=103199;u++)O[u]=2;for(u=103200;u<=103224;u++)O[u]=0;for(u=103225;u<=103227;u++)O[u]=1;for(u=103232;u<=103237;u++)O[u]=0;for(u=103238;u<=103243;u++)O[u]=2;for(u=103244;u<=103246;u++)O[u]=0;for(u=103247;u<=103249;u++)O[u]=2;for(u=103254;u<=103256;u++)O[u]=0;for(u=103257;u<=103259;u++)O[u]=2;for(u=103264;u<=103266;u++)O[u]=0;for(u=103267;u<=103269;u++)O[u]=2;for(u=103300;u<=103375;u++)O[u]=0;for(u=103381;u<=103383;u++)O[u]=0;for(u=103384;u<=103386;u++)O[u]=1;for(u=103387;u<=103389;u++)O[u]=0;for(u=103390;u<=103392;u++)O[u]=2;for(u=103397;u<=103399;u++)O[u]=0;for(u=103400;u<=103471;u++)O[u]=2;for(u=103476;u<=103478;u++)O[u]=0;for(u=103479;u<=103481;u++)O[u]=2;for(u=103486;u<=103488;u++)O[u]=0;for(u=103489;u<=103491;u++)O[u]=2;for(u=103492;u<=103495;u++)O[u]=0;for(u=103496;u<=103499;u++)O[u]=2;for(u=103528;u<=103543;u++)O[u]=0;for(u=103544;u<=103548;u++)O[u]=2;for(u=103549;u<=103551;u++)O[u]=0;for(u=103552;u<=103554;u++)O[u]=1;for(u=103555;u<=103557;u++)O[u]=2;for(u=103558;u<=103560;u++)O[u]=0;for(u=103571;u<=103573;u++)O[u]=0;for(u=103574;u<=103576;u++)O[u]=2;for(u=103577;u<=103580;u++)O[u]=0;for(u=103581;u<=103583;u++)O[u]=2;for(u=103595;u<=103694;u++)O[u]=0;for(u=103696;u<=103699;u++)O[u]=0;for(u=103700;u<=103793;u++)O[u]=2;for(u=103794;u<=103890;u++)O[u]=0;for(u=103891;u<=103896;u++)O[u]=2;for(u=103900;u<=103971;u++)O[u]=2;for(u=103972;u<=103977;u++)O[u]=0;for(u=112e3;u<=112101;u++)O[u]=0;const CC=[102100,102113,3857,3785,900913],wj=[104905,104971],xj=[4326,...CC,...wj],Sp=[-20037508342788905e-9,20037508342788905e-9],i2=[-20037508342787e-6,20037508342787e-6],gb={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Sp,origin:i2,dx:1e-5},NC={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Sp,origin:i2,dx:1e-5},102100:gb,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Sp,origin:i2,dx:1e-5},3857:gb,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:gb};function Dc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Fc(e)&&Fc(t))return!0;const o=e.latestWkid;if(o!=null&&r===o)return!0;const a=t.latestWkid;return a!=null&&i===a}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function Rd(e){const t=e?.wkid;return t!=null&&t>=2e3&&NC[t]||null}function A0e(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function mm(e){if(!PC(e))return!1;const{wkid:t}=e;if(t)return O[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function Sj(e){return!(Ej(e)||Aj(e))}function dg(e){return e?.wkid===4326}function T0e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function M0e(e){return e?.wkid===Ph.CGCS2000}function Fc(e){const t=e?.wkid;return t!=null&&t>=2e3&&CC.includes(t)}function I0e(e){return e?.wkid===32662}function G1(e){return e===Ph.GCSMARS2000||e===Ph.GCSMARS2000_SPHERE}function Ej(e){return G1(e?.wkid)}function z1(e){return e===Ph.GCSMOON2000}function Aj(e){return z1(e?.wkid)}function Tj(e){const t=e?.wkid;return t!=null&&t>=2e3&&xj.includes(t)}function PC(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const LC={wkid:4326,wkt:Gx(NC[4326].wkTemplate,{Central_Meridian:"0.0"})},kC={wkid:102100,latestWkid:3857},Mj={wkid:32662};function yS(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Ij=yS(An),RC=yS(bp),DC=yS(F1),O0e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${An.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Oj=RC.wkt.toUpperCase(),$j=DC.wkt.toUpperCase();function Cj(e){if(e!=null&&PC(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(G1(t))return bp;const r=i?.toUpperCase();if(i&&r===Oj)return bp;if(z1(t)||r&&r===$j)return F1}return An}function $0e(e){return G1(e)?bp:z1(e)?F1:An}function Nj(e){return Dc(e,Ij)}function C0e(e){return Nj(e)||Dc(e,RC)||Dc(e,DC)}const N0e=39.37,Pj=An.radius*Math.PI/200,FC=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Lh=O,UC=/UNIT\[([^\]]+)]/i,Lj=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),kj=Nn()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Xs=e=>e*e,ba=e=>e*e*e,Ep={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Xs(.001)},"square-centimeters":{inBaseUnits:Xs(.01)},"square-decimeters":{inBaseUnits:Xs(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Xs(1e3)},"square-inches":{inBaseUnits:Xs(.0254)},"square-feet":{inBaseUnits:Xs(.3048)},"square-yards":{inBaseUnits:Xs(.9144)},"square-miles":{inBaseUnits:Xs(1609.344)},"square-nautical-miles":{inBaseUnits:Xs(1852)},"square-us-feet":{inBaseUnits:Xs(1200/3937)},acres:{inBaseUnits:.0015625*Xs(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*ba(.001)},"cubic-centimeters":{inBaseUnits:1e3*ba(.01)},"cubic-decimeters":{inBaseUnits:1e3*ba(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*ba(1e3)},"cubic-inches":{inBaseUnits:1e3*ba(.0254)},"cubic-feet":{inBaseUnits:1e3*ba(.3048)},"cubic-yards":{inBaseUnits:1e3*ba(.9144)},"cubic-miles":{inBaseUnits:1e3*ba(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Rj=(()=>{const e={};for(const t in Ep)for(const i in Ep[t].units)e[i]=t;return e})();function Dj(e,t,i){return e*Ep[i].units[t].inBaseUnits}function Fj(e,t,i){return e/Ep[i].units[t].inBaseUnits}const jC=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],Uj=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function r2(e){const t=Rj[e];if(!t)throw new Error("unknown type");return t}function yT(e,t=null){return t=t||r2(e),Ep[t].baseUnit===e}function Tn(e,t,i){if(t===i)return e;const r=r2(t);if(r!==r2(i))throw new Error("incompatible units");const s=yT(t,r)?e:Dj(e,t,r);return yT(i,r)?s:Fj(s,i,r)}function P0e(e,t,i,r=!1){if(!r&&mm(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=eu(t);return s!==i&&(e=s?Tn(e,s,i):Tn(e*=gf(t),"meters",i)),e}function L0e(e,t,i,r=!1){if(!r&&mm(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=eu(i);return t!==s&&(e=s?Tn(e,t,s):Tn(e,t,"meters")/gf(i)),e}function jj(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function k0e(e){return jj(e)}function R0e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function D0e(e,t){const i=Tn(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function F0e(e,t){const i=Tn(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function U0e(e,t){const i=Tn(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function j0e(e,t){const i=Tn(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function V0e(e,t){const i=Tn(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function B0e(e,t){const i=Tn(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function G0e(e,t,i){return Tn(e,t,"meters")/(i*Math.PI/180)}function VC(e){return kj.fromJSON(e.toLowerCase())||null}function z0e(e){if(e!=null&&!Sj(e))return 1;const t=gf(e);return t>1e5?1:t}function Vj(e){return gf(e)>=Cj(e).metersPerDegree?"meters":eu(e)}function gf(e,t=An.metersPerDegree){return Bj(e,!0)??t}function Bj(e,t=!1){const i=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let s=null;if(i){if(G1(i))return bp.metersPerDegree;if(z1(i))return F1.metersPerDegree;s=Lh.values[Lh[i]],!s&&t&&Lj.has(i)&&(s=Pj)}else r&&(zC(r)?s=gT(FC.exec(r),s):GC(r)&&(s=gT(UC.exec(r),s)));return s}function q0e(e){return mm(e)?1:gf(e)}function gT(e,t){return e?.[1]?BC(e[1]):t}function BC(e){return parseFloat(e.split(",")[1])}function eu(e){const t=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(t)r=Lh.units[Lh[t]];else if(i){const s=zC(i)?FC:GC(i)?UC:null;if(s){const n=s.exec(i);n?.[1]&&(r=zj(n[1]))}}return r!=null?VC(r):null}function W0e(e){const t=eu(e);return t!=null&&jC.includes(t)?t:null}function H0e(e){const t=Vj(e);return t!=null&&jC.includes(t)?t:null}function Y0e(e){const t=eu(e);return t==null?null:Uj.get(t)}function GC(e){return/^GEOCCS/i.test(e)}function zC(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Gj=1e-7;function zj(e){let i=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!i||!VC(i)){const r=BC(e);i=null;const s=Lh.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<Gj){i=Lh.units[n];break}}return i}function J0e(e){const t=eu(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const qj={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Wj={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Hj={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Z0e=Nn()(qj),K0e=Nn()(Wj),X0e=Nn()(Hj);function Jt(e,t,i){let r,s;return t===void 0?(s=e,r=[void 0]):typeof t!="string"?(s=e,r=[void 0],i=t):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;for(const l of r){const c=U$(n,l,s);c.write&&typeof c.write=="object"||(c.write={}),i&&(c.write.target=i),c.write.writer=a[o]}}}var Vn;let _t=Vn=class extends et{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return Vn.WebMercator;if(e?.wkid===4326)return Vn.WGS84;const t=new Vn;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return dg(this)}get isWebMercator(){return Fc(this)}get isGeographic(){return mm(this)}get isWrappable(){return Tj(this)}get metersPerUnit(){return gf(this)}get unit(){return eu(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Vn.WGS84)return new Vn(LC);if(this===Vn.WebMercator)return new Vn(kC);const e=new Vn;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||r?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return Dc(this,e)}toJSON(e){return this.write(void 0,e)}};_t.GCS_NAD_1927=null,_t.WGS84=null,_t.WebMercator=null,_t.PlateCarree=null,g([A({readOnly:!0})],_t.prototype,"isWGS84",null),g([A({readOnly:!0})],_t.prototype,"isWebMercator",null),g([A({readOnly:!0})],_t.prototype,"isGeographic",null),g([A({readOnly:!0})],_t.prototype,"isWrappable",null),g([A({type:Ni,json:{write:!0}})],_t.prototype,"latestWkid",void 0),g([A({readOnly:!0})],_t.prototype,"metersPerUnit",null),g([A({readOnly:!0})],_t.prototype,"unit",null),g([A({type:Ni,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],_t.prototype,"wkid",void 0),g([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],_t.prototype,"wkt",void 0),g([Jt("wkt"),Jt("web-scene","wkt")],_t.prototype,"writeWkt",null),g([A({type:String,json:{write:!1}})],_t.prototype,"wkt2",void 0),g([A({type:Ni,json:{write:!0}})],_t.prototype,"vcsWkid",void 0),g([A({type:Ni,json:{write:!0}})],_t.prototype,"latestVcsWkid",void 0),g([A()],_t.prototype,"imageCoordinateSystem",void 0),_t=Vn=g([ie("esri.geometry.SpatialReference")],_t),_t.prototype.toJSON.isDefaultToJSON=!0,_t.GCS_NAD_1927=Qi.freeze(new _t({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),_t.WGS84=Qi.freeze(new _t(LC)),_t.WebMercator=Qi.freeze(new _t(kC)),_t.PlateCarree=Qi.freeze(new _t(Mj));const qi=_t;let Bn=class extends et{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=qi.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof qi)return t;if(t!=null){const r=new qi;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};g([A()],Bn.prototype,"type",void 0),g([A({readOnly:!0})],Bn.prototype,"cache",null),g([A({readOnly:!0})],Bn.prototype,"extent",null),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bn.prototype,"hasM",void 0),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bn.prototype,"hasZ",void 0),g([A({type:qi,json:{write:!0},value:qi.WGS84})],Bn.prototype,"spatialReference",void 0),g([Xi("spatialReference")],Bn.prototype,"readSpatialReference",null),Bn=g([ie("esri.geometry.Geometry")],Bn);const tu=Bn,Yj=Object.prototype.toString;function Jj(e){const t="__accessorMetadata__"in e?En(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Zj.apply(this,i)}}function Zj(e,t,i,r){k1(e,t).cast=r}function Kj(e){return(t,i)=>{k1(t,e).cast=t[i]}}function ym(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Yj.call(e[0])==="[object Function]"?Jj(e[0]):e.length===1&&typeof e[0]=="string"?Kj(e[0]):void 0}function Ap(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new ft("Mesh geometries are not supported for this operation")}function eye(e){e.forEach(Ap)}const Xj=57.29577951308232,Qj=.017453292519943;function vT(e){return e*Xj}function bT(e){return e*Qj}function tye(e){return Math.PI/2-2*Math.atan(Math.exp(-e/An.radius))}function s2(e){return e.wkid!=null||e.wkt!=null}const vb=[0,0];function pg(e,t,i,r,s){const n=e,o=s;if(o.spatialReference=i,"x"in n&&"x"in o)[o.x,o.y]=t(n.x,n.y,vb,r);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=t(n.xmin,n.ymin,vb,r),[o.xmax,o.ymax]=t(n.xmax,n.ymax,vb,r);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const a="paths"in n?n.paths:n.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],r)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in n&&"points"in o){const a=n.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],r),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return s}function sy(e,t){const i=e&&(s2(e)?e:e.spatialReference),r=t&&(s2(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Dc(r,i)||Fc(r)&&dg(i)||Fc(i)&&dg(r))}function qC(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(s2(t)?t:t.spatialReference);return sy(i,r)?Dc(i,r)?ge(e):Fc(r)?pg(e,Ju,qi.WebMercator,!1,ge(e)):dg(r)?pg(e,q1,qi.WGS84,!1,ge(e)):null:null}function Ju(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=bT(t);return i[0]=bT(e)*An.radius,i[1]=An.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function q1(e,t,i=[0,0],r=!1){if(e===Sp[0])i[0]=-180;else if(e===Sp[1])i[0]=180;else{const s=vT(e/An.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=vT(Math.PI/2-2*Math.atan(Math.exp(-t/An.radius))),i}function bb(e,t=!1,i=ge(e)){return Ap(e),Ap(i),pg(e,Ju,qi.WebMercator,t,i)}function l0(e,t=!1,i=ge(e)){return Ap(e),Ap(i),pg(e,q1,qi.WGS84,t,i)}function eV(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}function tV(e){return WC(e,HC)?.[0]??null}function iV(e){return WC(e,HC)?.[1]??null}function WC({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(Fc(i))return q1(e,t,r);if(mm(i))return r[0]=e,r[1]=t,r}return null}const HC=[0,0];var ny;const _b=[0,0];function _T(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Tr=ny=class extends tu{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Qi.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],i=n[2],r=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new qi(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)kt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)kt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s?.isWebMercator){const a=Ju(n.longitude,n.latitude,_b);e=a[0],t=a[1]}}}else _T(i)?(s=i,i=null):_T(r)&&(s=r,r=null);const o={x:e,y:t};return o.x==null&&o.y!=null?kt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&kt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return iV(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Ju(i,e,_b)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return tV(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",Ju(e,t,_b)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new ny;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return ny.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:n}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:f}=e;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[l,c]=Ju(l,c),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[l,c]=q1(l,c),f=n}return t===l&&i===c&&r===o&&s===a&&n.wkid===f.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=Rd(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let n;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s),this._set("x",t),this}distance(e){return eV(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Tr.prototype,"cache",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Tr.prototype,"hasM",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Tr.prototype,"hasZ",null),g([A({type:Number})],Tr.prototype,"latitude",null),g([A({type:Number})],Tr.prototype,"longitude",null),g([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ym(e=>isNaN(e)?e:P1(e))],Tr.prototype,"x",void 0),g([Jt("x")],Tr.prototype,"writeX",null),g([Xi("x")],Tr.prototype,"readX",null),g([A({type:Number,json:{write:!0}})],Tr.prototype,"y",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Tr.prototype,"z",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Tr.prototype,"m",void 0),Tr=ny=g([ie("esri.geometry.Point")],Tr),Tr.prototype.toJSON.isDefaultToJSON=!0;const Ci=Tr,wb=[0,0];function YC(e,t){return t!=null&&Or(e,t.x,t.y,t.z)}function iye(e,t){if(!t.points?.length)return!1;for(const i of t.points)if(!kh(e,i))return!1;return!0}function rV(e,t){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Or(e,i,r,s)&&Or(e,i,o,s)&&Or(e,n,o,s)&&Or(e,n,r,s)&&Or(e,i,r,a)&&Or(e,i,o,a)&&Or(e,n,o,a)&&Or(e,n,r,a):Or(e,i,r)&&Or(e,i,o)&&Or(e,n,o)&&Or(e,n,r)}function kh(e,t){return Or(e,t[0],t[1])}function sV(e,t){return Or(e,t[0],t[1],t[2])}function Or(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function nV(e,t){return wb[1]=t.y,wb[0]=t.x,oV(e,wb)}function oV(e,t){return JC(e.rings,t)}function JC(e,t){if(!e)return!1;if(aV(e))return wT(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=wT(i,e[r],t);return i}function aV(e){return!Array.isArray(e[0][0])}function wT(e,t,i){const[r,s]=i;let n=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=t[a],[d,p]=t[o];(f<s&&p>=s||p<s&&f>=s)&&c+(s-f)/(p-f)*(d-c)<r&&(n=!n)}return n}function lV(e,t){return YC(e,t)}function cV(e,t){const i=e.hasZ&&t.hasZ;let r,s,n;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function uV(e,t){const{points:i,hasZ:r}=t,s=r?sV:kh;for(const n of i)if(s(e,n))return!0;return!1}const Uc=[0,0],jc=[0,0],Vc=[0,0],Bc=[0,0],hV=[Uc,jc,Vc,Bc],ZC=[[Vc,Uc],[Uc,jc],[jc,Bc],[Bc,Vc]];function fV(e,t){return dV(e,t.rings)}function dV(e,t){Uc[0]=e.xmin,Uc[1]=e.ymax,jc[0]=e.xmax,jc[1]=e.ymax,Vc[0]=e.xmin,Vc[1]=e.ymin,Bc[0]=e.xmax,Bc[1]=e.ymin;for(const i of hV)if(JC(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(kh(e,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(kh(e,n)||KC(r,n,ZC))return!0;r=n}}return!1}function pV(e,t){Uc[0]=e.xmin,Uc[1]=e.ymax,jc[0]=e.xmax,jc[1]=e.ymax,Vc[0]=e.xmin,Vc[1]=e.ymin,Bc[0]=e.xmax,Bc[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(kh(e,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(kh(e,o)||KC(s,o,ZC))return!0;s=o}}return!1}const Zi=[0,0];function mV(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const n=i[s],o=i[s+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],f=e[a][l+1];if(n2(n,o,c,f,Zi)&&!(Zi[0]===n[0]&&Zi[1]===n[1]||Zi[0]===c[0]&&Zi[1]===c[1]||Zi[0]===o[0]&&Zi[1]===o[1]||Zi[0]===f[0]&&Zi[1]===f[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const o=i[s],a=i[s+1];for(let l=s+2;l<n;l++){const c=i[l],f=i[l+1];if(n2(o,a,c,f,Zi)&&!(Zi[0]===o[0]&&Zi[1]===o[1]||Zi[0]===c[0]&&Zi[1]===c[1]||Zi[0]===a[0]&&Zi[1]===a[1]||Zi[0]===f[0]&&Zi[1]===f[1]))return!0}}}return!1}function KC(e,t,i){for(let r=0;r<i.length;r++)if(n2(e,t,i[r][0],i[r][1]))return!0;return!1}function n2(e,t,i,r,s){const[n,o]=e,[a,l]=t,[c,f]=i,[d,p]=r,y=d-c,v=n-c,b=a-n,E=p-f,S=o-f,T=l-o,w=E*b-y*T;if(w===0)return!1;const _=(y*S-E*v)/w,M=(b*S-T*v)/w;return _>=0&&_<=1&&M>=0&&M<=1&&(s&&(s[0]=n+_*(a-n),s[1]=o+_*(l-o)),!0)}function yV(e){switch(e){case"esriGeometryEnvelope":case"extent":return cV;case"esriGeometryMultipoint":case"multipoint":return uV;case"esriGeometryPoint":case"point":return lV;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return fV;case"esriGeometryPolyline":case"polyline":return pV}}var rn;function gV(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function _a(e,t,i){return t==null?i:i==null?t:e(t,i)}let Ui=rn=class extends tu{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return gV(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?qi.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??qi.WGS84}}static fromPoint(e){return new rn({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Ci({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new rn;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&sy(t,i)&&(e=t.isWebMercator?bb(e):l0(e,!0)),e.type==="point"?YC(this,e):e.type==="extent"&&rV(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&sy(t,i)&&(e=t.isWebMercator?bb(e):l0(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Dc(t,i)&&sy(t,i)&&(e=t.isWebMercator?bb(e):l0(e,!0)),yV(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=_a(Math.min,this.zmin,e.zmin),this.zmax=_a(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=_a(Math.min,this.mmin,e.mmin),this.mmax=_a(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=_a(Math.max,this.zmin,e.zmin),this.zmax=_a(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=_a(Math.max,this.mmin,e.mmin),this.mmax=_a(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Rd(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?l0(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=xb(r.x,e).x),this.spatialReference=new qi(Gx((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??Rd(r);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let o=!0,a=!0;return n.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:n.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;e=e||Rd(o);const[d,p]=e.valid;f=xb(this.xmin,e);const y=f.x,v=f.frameId;f=xb(this.xmax,e);const b=f.x,E=f.frameId,S=y===b&&a>0;if(a>2*p){const T=new rn(l<c?y:b,s,p,n,o),w=new rn(d,s,l<c?b:y,n,o),_=new rn(0,s,p,n,o),M=new rn(d,s,0,n,o),I=[],C=[];T.contains(_)&&I.push(v),T.contains(M)&&C.push(v),w.contains(_)&&I.push(E),w.contains(M)&&C.push(E);for(let P=v+1;P<E;P++)I.push(P),C.push(P);t.push({extent:T,frameIds:[v]},{extent:w,frameIds:[E]},{extent:_,frameIds:I},{extent:M,frameIds:C})}else y>b||S?t.push({extent:new rn(y,s,p,n,o),frameIds:[v]},{extent:new rn(d,s,b,n,o),frameIds:[E]}):t.push({extent:new rn(y,s,b,n,o),frameIds:[v]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function xb(e,t){const[i,r]=t.valid,s=2*r;let n,o=0;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s,o=n):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s,o=-n),{x:e,frameId:o}}g([A({readOnly:!0})],Ui.prototype,"cache",null),g([A({readOnly:!0})],Ui.prototype,"center",null),g([A({readOnly:!0})],Ui.prototype,"extent",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ui.prototype,"hasM",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ui.prototype,"hasZ",null),g([A({readOnly:!0})],Ui.prototype,"height",null),g([A({readOnly:!0})],Ui.prototype,"width",null),g([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ui.prototype,"xmin",void 0),g([A({type:Number,json:{write:!0}})],Ui.prototype,"ymin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ui.prototype,"mmin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ui.prototype,"zmin",void 0),g([A({type:Number,json:{write:!0}})],Ui.prototype,"xmax",void 0),g([A({type:Number,json:{write:!0}})],Ui.prototype,"ymax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ui.prototype,"mmax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ui.prototype,"zmax",void 0),Ui=rn=g([ie("esri.geometry.Extent")],Ui),Ui.prototype.toJSON.isDefaultToJSON=!0;const Ws=Ui;function Rh(e,t,i=!1){let{hasM:r,hasZ:s}=e;Array.isArray(t)?t.length!==4||r||s?t.length===3&&i&&!r?(s=!0,r=!1):t.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=r}var o2;function xT(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function vV(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Oa=o2=class extends tu{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):vV(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=i.points?.[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Ws,i=this.hasZ,r=this.hasM,s=i?3:2,n=e[0],o=xT(Math.min),a=xT(Math.max);let l,c,f,d,[p,y]=n,[v,b]=n;for(let E=0,S=e.length;E<S;E++){const T=e[E],[w,_]=T;if(p=o(p,w),y=o(y,_),v=a(v,w),b=a(b,_),i&&T.length>2){const M=T[2];l=o(l,M),f=a(f,M)}if(r&&T.length>s){const M=T[s];c=o(c,M),d=a(d,M)}}return t.xmin=p,t.ymin=y,t.xmax=v,t.ymax=b,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=c,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ge(this.points)}addPoint(e){return Rh(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new o2(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Ci(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Ci(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Rh(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};g([A({readOnly:!0})],Oa.prototype,"cache",null),g([A()],Oa.prototype,"extent",null),g([A({type:[[Number]],json:{write:{isRequired:!0}}})],Oa.prototype,"points",void 0),g([Jt("points")],Oa.prototype,"writePoints",null),Oa=o2=g([ie("esri.geometry.Multipoint")],Oa),Oa.prototype.toJSON.isDefaultToJSON=!0;const W1=Oa;function rye(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function bV(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var mg;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(mg||(mg={}));function sye(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),r.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function H1(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function XC(e,t,i){const r=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,s,e[2]+i*(t[2]-e[2])]:[r,s]}function nye(e,t,i,r){return _V(e,t,i[r],i[r+1])}function _V(e,t,i,r){const[s,n]=t,[o,a]=i,[l,c]=r,f=l-o,d=c-a,p=f*f+d*d,y=(s-o)*f+(n-a)*d,v=Math.min(1,Math.max(0,y/p));return e[0]=o+f*v,e[1]=a+d*v,e}function oye(e,t,i,r,s,n){let o=i,a=r,l=s-o,c=n-a;if(l!==0||c!==0){const f=((e-o)*l+(t-a)*c)/(l*l+c*c);f>1?(o=s,a=n):f>0&&(o+=l*f,a+=c*f)}return l=e-o,c=t-a,l*l+c*c}function QC(e,t){return XC(e,t,.5)}function aye(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=H1(e[r],e[r+1]);return i}function lye(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let s=0;s<i-1;++s){const n=H1(e[s],e[s+1]);if(t-r<n){const o=(t-r)/n;return XC(e[s],e[s+1],o)}r+=n}return e[i-1]}function e5(e,t=mg.X,i=mg.Y){let r=0;const s=e.length;let n=e[0];for(let o=1;o<s;o++){const a=e[o];r+=(a[t]-n[t])*(a[i]+n[i]),n=a}if(!t5(e)){const o=e[0];r+=(o[t]-n[t])*(o[i]+n[i])}return r>=0}function t5(e){const t=e.length;return t<3||$1(e[0],e[t-1])}function cye(e){"rings"in e&&(wV(e),xV(e))}function wV(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)t5(i)||(i.push(i[0].slice()),t=!0);return t}function xV(e){if(!("rings"in e)||e.rings.length===0||e5(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function uye(e){return e.type!=="polygon"&&e.type!=="polyline"||SV(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function SV(e,t){const i=Rd(t);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const o of e){let a=1/0,l=-1/0;for(const f of o){const d=EV(f[0],r,s);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;n-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=n)})}}function EV(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function hye(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function fye(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function AV(e){return e?TV(e.rings,e.hasZ??!1):null}function TV(e,t){if(!e?.length)return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=e.length;n<o;n++){const a=i5(e[n],t,s);a&&r.push(a)}if(r.sort((n,o)=>{let a=n[2]-o[2];return a===0&&t&&(a=n[4]-o[4]),a}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=e[0]&&e[0].length?MV(e[0],t):null;if(!n)return null;i[0]=n[0],i[1]=n[1],t&&n.length>2&&(i[2]=n[2])}return i}function i5(e,t,i){let r=0,s=0,n=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],v=e[(p+1)%e.length],[b,E,S]=y,T=b-l,w=E-c,[_,M,I]=v,C=_-l,P=M-c,N=T*P-C*w;if(o+=N,r+=(T+C)*N,s+=(w+P)*N,t&&y.length>2&&v.length>2){const U=S-f,j=I-f,F=T*j-C*U;n+=(U+j)*F,a+=F}b<i[0]&&(i[0]=b),b>i[1]&&(i[1]=b),E<i[2]&&(i[2]=E),E>i[3]&&(i[3]=E),t&&(S<i[4]&&(i[4]=S),S>i[5]&&(i[5]=S))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[r/(6*o)+l,s/(6*o)+c,o];return t&&(i[4]===i[5]||a===0?(d[3]=(i[4]+i[5])/2,d[4]=0):(d[3]=n/(6*a)+f,d[4]=a)),d}function dye(e,t){let i=0,r=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[f,d]=l,p=f-n,y=d-o,[v,b]=c,E=v-n,S=b-o,T=p*S-E*y;s+=T,i+=(p+E)*T,r+=(y+S)*T,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+o,s]):null}function MV(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const f=e[l],d=e[l+1];if(f&&d){i[0]=f[0],i[1]=f[1],r[0]=d[0],r[1]=d[1],t&&f.length>2&&d.length>2&&(i[2]=f[2],r[2]=d[2]);const p=H1(i,r);if(p){s+=p;const y=QC(f,d);n+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.length?e[0]:null}function IV(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=i5(bV(e),e.hasZ,n);o&&s.push(o)}if(s.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const o=e.pathSize?OV(e):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function OV(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,f=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;i[0]=l,i[1]=c,r[0]=d,r[1]=p,t&&(i[2]=f,r[2]=y);const v=H1(i,r);if(v){s+=v;const b=QC(i,r);n+=v*b[0],o+=v*b[1],t&&b.length>2&&(a+=v*b[2])}l=d,c=p,f=y}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const $V=1e-6;function pye(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<$V){const s=IV(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)NV(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const CV=1/3;function NV(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,o=i.x-r,a=i.y-s,l=0,c=0;for(;i.nextPoint();)l=i.x-r,c=i.y-s,n=.5*CV*(l*a-c*o),e[0]+=n*(o+l),e[1]+=n*(a+c),o=l,a=c;const f=i.getCurrentRingArea(),d=[r,s];return d[0]-=t[0],d[1]-=t[1],d[0]*=f,d[1]*=f,e[0]+=d[0],e[1]+=d[1],e}function vf(e=LV){return[e[0],e[1],e[2],e[3]]}function r5(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function mye(e,t,i,r,s=vf()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function yye(e,t=vf()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function gye(e,t,i=new Ws){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function vye(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function bye(e,t,i){if(t!=null)if("length"in t)a2(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else r5(i,e)}function _ye(e,t,i=e){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3];for(let l=0;l<r;l++){const c=t[l];s=Math.min(s,c[0]),n=Math.min(n,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return i[0]=s,i[1]=n,i[2]=o,i[3]=a,i}function wye(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function s5(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function n5(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function xye(e){return s5(e)*n5(e)}function Sye(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function Eye(e){const t=s5(e),i=n5(e);return Math.sqrt(t*t+i*i)}function Aye(e,t){return PV(e,t.x,t.y)}function PV(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function Tye(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Mye(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function Iye(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Oye(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function $ye(e){return e?r5(e,ST):vf(ST)}function a2(e){return e!=null&&e.length===4}function Cye(e,t){return a2(e)&&a2(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const ST=[1/0,1/0,-1/0,-1/0],LV=[0,0,0,0];function o5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function a5(e){return e.points!==void 0}function l5(e){return e.x!==void 0&&e.y!==void 0}function c5(e){return e.paths!==void 0}function u5(e){return e.rings!==void 0}function h5(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const rl=h5(Math.min),sl=h5(Math.max);function Nye(e,t){return c5(t)?Dh(e,t.paths,!1,!1):u5(t)?Dh(e,t.rings,!1,!1):a5(t)?gS(e,t.points,!1,!1,!1,!1):o5(t)?f5(e,t):(l5(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Pye(e){let t,i,r,s;for(e.reset(),t=r=1/0,i=s=-1/0;e.nextPath();){const n=kV(e);t=Math.min(n[0],t),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return vf([t,r,i,s])}function kV(e){let t,i,r,s;for(t=r=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),s=Math.max(e.y,s);return vf([t,r,i,s])}function Lye(e,t){return c5(t)?Dh(e,t.paths,!0,!1):u5(t)?Dh(e,t.rings,!0,!1):a5(t)?gS(e,t.points,!0,!1,!0,!1):o5(t)?f5(e,t,!0,!1,!0,!1):(l5(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Dh(e,t,i,r){const s=i?3:2;if(!t.length||!t[0].length)return null;let n,o,a,l,[c,f]=t[0][0],[d,p]=t[0][0];for(let y=0;y<t.length;y++){const v=t[y];for(let b=0;b<v.length;b++){const E=v[b],[S,T]=E;if(c=rl(c,S),f=rl(f,T),d=sl(d,S),p=sl(p,T),i&&E.length>2){const w=E[2];n=rl(n,w),o=sl(o,w)}if(r&&E.length>s){const w=E[s];a=rl(n,w),l=sl(o,w)}}}return i?r?(e[0]=c,e[1]=f,e[2]=n,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=f,e[2]=n,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):r?(e[0]=c,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function f5(e,t,i,r,s,n){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let f=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return s?(f=f||0,d=d||0,n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=d,e)):n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function gS(e,t,i,r,s,n){const o=i?3:2,a=r&&n,l=i&&s;if(!t.length||!t[0].length)return null;let c,f,d,p,[y,v]=t[0],[b,E]=t[0];for(let S=0;S<t.length;S++){const T=t[S],[w,_]=T;if(y=rl(y,w),v=rl(v,_),b=sl(b,w),E=sl(E,_),l&&T.length>2){const M=T[2];c=rl(c,M),f=sl(f,M)}if(a&&T.length>o){const M=T[o];d=rl(c,M),p=sl(f,M)}}return s?(c=c||0,f=f||0,n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=c,e[3]=d,e[4]=b,e[5]=E,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=v,e[2]=c,e[3]=b,e[4]=E,e[5]=f,e)):n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=d,e[3]=b,e[4]=E,e[5]=p,e):(e[0]=y,e[1]=v,e[2]=b,e[3]=E,e)}function RV(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function DV(e){return e.points!==void 0}function FV(e){return e.x!==void 0&&e.y!==void 0}function UV(e){return e.paths!==void 0}function jV(e){return e.rings!==void 0}const vS=[];function d5(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function p5(e,t,i,r,s,n){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:s,zmax:n}}function m5(e,t,i,r,s,n){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:s,mmax:n}}function y5(e,t,i,r,s,n,o,a){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:s,ymax:n,zmax:o,mmax:a}}function bS(e,t=!1,i=!1){return t?i?y5(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):p5(e[0],e[1],e[2],e[3],e[4],e[5]):i?m5(e[0],e[1],e[2],e[3],e[4],e[5]):d5(e[0],e[1],e[2],e[3])}function kye(e){return e?RV(e)?e:FV(e)?BV(e):jV(e)?g5(e):UV(e)?v5(e):DV(e)?VV(e):null:null}function VV(e){const{hasZ:t,hasM:i,points:r}=e;return bS(gS(vS,r,t??!1,i??!1),t,i)}function BV(e){const{x:t,y:i,z:r,m:s}=e,n=s!=null;return r!=null?n?y5(t,i,r,s,t,i,r,s):p5(t,i,r,t,i,r):n?m5(t,i,s,t,i,s):d5(t,i,t,i)}function g5(e){const{hasZ:t,hasM:i,rings:r}=e,s=Dh(vS,r,t??!1,i??!1);return s?bS(s,t,i):null}function v5(e){const{hasZ:t,hasM:i,paths:r}=e,s=Dh(vS,r,t??!1,i??!1);return s?bS(s,t,i):null}var oy;function ET(e){return!Array.isArray(e[0])}function GV(e){return typeof e[0]?.[0]=="number"}function zV(e){if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],GV(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=qi.WGS84,{...e,hasM:i,hasZ:r,rings:t,spatialReference:s}}let Ps=oy=class extends tu{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,s=!1;for(const o of t)o.hasZ&&(r=!0),o.hasM&&(s=!0);const n={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new oy(n)}constructor(e){super(zV(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=AV(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Ci;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=ge(e)}get extent(){const e=g5(this),{spatialReference:t}=this;return e?new Ws({...e,spatialReference:t}):null}get isSelfIntersecting(){return mV(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(ET(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new oy;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.curveRings=ge(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([s,n,o,a],[l,c,f,d])=>s===l&&n===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=e.rings[s];if(!$1(n,o,r))return!1}return!0}contains(e){if(!e)return!1;const t=qC(e,this.spatialReference);return nV(this,t??e)}isClockwise(e){const t=ET(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return e5(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Ci(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Ci(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Ci(i[0],i[1],i[2],i[3],this.spatialReference):new Ci(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ci(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Ci(s,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Ps.prototype,"cache",null),g([A({readOnly:!0})],Ps.prototype,"centroid",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Ps.prototype,"curveRings",void 0),g([Jt("curveRings")],Ps.prototype,"writeCurveRings",null),g([A({readOnly:!0})],Ps.prototype,"extent",null),g([A({readOnly:!0})],Ps.prototype,"isSelfIntersecting",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ps.prototype,"rings",void 0),g([Jt("rings")],Ps.prototype,"writeRings",null),Ps=oy=g([ie("esri.geometry.Polygon")],Ps);const Gc=Ps;Ps.prototype.toJSON.isDefaultToJSON=!0;var l2;function qV(e){return!Array.isArray(e[0])}function WV(e){return typeof e[0]?.[0]=="number"}function HV(e){if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],WV(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=qi.WGS84,{...e,hasM:i,hasZ:r,paths:t,spatialReference:s}}let Jn=l2=class extends tu{constructor(e){super(HV(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=ge(e)}get extent(){const e=v5(this),{spatialReference:t}=this;return e?new Ws({...e,spatialReference:t}):null}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(qV(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new l2;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.curvePaths=ge(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Ci(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Ci(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Ci(i[0],i[1],i[2],i[3],this.spatialReference):new Ci(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Ci(s,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ci(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Jn.prototype,"cache",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Jn.prototype,"curvePaths",void 0),g([Jt("curvePaths")],Jn.prototype,"writeCurvePaths",null),g([A({readOnly:!0})],Jn.prototype,"extent",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Jn.prototype,"paths",void 0),g([Jt("paths")],Jn.prototype,"writePaths",null),Jn=l2=g([ie("esri.geometry.Polyline")],Jn);const gm=Jn;Jn.prototype.toJSON.isDefaultToJSON=!0;function b5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function _5(e){return e.points!==void 0}function w5(e){return e.x!==void 0&&e.y!==void 0}function x5(e){return e.paths!==void 0||e.curvePaths!==void 0}function S5(e){return e.rings!==void 0||e.curveRings!==void 0}function _S(e){return e==null?null:e instanceof tu?e:w5(e)?Ci.fromJSON(e):x5(e)?gm.fromJSON(e):S5(e)?Gc.fromJSON(e):_5(e)?W1.fromJSON(e):b5(e)?Ws.fromJSON(e):null}function Rye(e){return e?w5(e)?"esriGeometryPoint":x5(e)?"esriGeometryPolyline":S5(e)?"esriGeometryPolygon":b5(e)?"esriGeometryEnvelope":_5(e)?"esriGeometryMultipoint":null:null}const YV={esriGeometryPoint:Ci,esriGeometryPolyline:gm,esriGeometryPolygon:Gc,esriGeometryEnvelope:Ws,esriGeometryMultipoint:W1,esriGeometryMultiPatch:Gc};function Dye(e){return e&&YV[e]||null}const E5=e=>{let t=class extends e{clone(){const i=ml(this);dD(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,n={},o=new Map;for(const l in r){const c=r[l],f=s?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==ct.USER&&f!==ct.DEFAULTS&&f!==ct.WEB_MAP&&f!==ct.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:E_(p),p!=null&&y==null||(f===ct.DEFAULTS?o.set(l,y):n[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(n);if(o.size){const l=ml(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,ct.DEFAULTS)}return a}};return t=g([ie("esri.core.Clonable")],t),t};let ed=class extends E5(Qi){};ed=g([ie("esri.core.Clonable")],ed),function(e){e.ClonableMixin=E5}(ed||(ed={}));const Mo=ed;let Sb;async function JV(){return Sb==null&&(Sb=_e(()=>import("./WhereClauseCache-r_J0nv_k.js"),__vite__mapDeps([13,14,15,16,17,1]),import.meta.url).then(e=>new e.WhereClauseCache(500,500))),Sb}async function ZV(e,t){const i=await JV(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function Uye(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function jye(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function Vye(e,t){return t.length===0?null:`${e} IN (${KV(t)})`}function KV(e){return e.map(t=>typeof t=="string"?XV(t):t).join(",")}function XV(e){return`'${e.replaceAll("'","''")}'`}function Bye(e){return typeof e=="number"}function Gye(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function zye(e){return typeof e=="boolean"}function vm(e){return typeof e=="string"||e instanceof String}function QV(e){return e==null||vm(e)}function qye(e){return Array.isArray(e)}function Wye(e){return e?.declaredClass==="esri.Graphic"}function Hye(e){return e instanceof Date}class iu extends Error{}class eB extends iu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class tB extends iu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class iB extends iu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Zu extends iu{}class A5 extends iu{constructor(t){super(`Invalid unit ${t}`)}}class mr extends iu{}class wa extends iu{constructor(){super("Zone is an abstract class")}}const ve="numeric",Mn="short",vs="long",yg={year:ve,month:ve,day:ve},T5={year:ve,month:Mn,day:ve},rB={year:ve,month:Mn,day:ve,weekday:Mn},M5={year:ve,month:vs,day:ve},I5={year:ve,month:vs,day:ve,weekday:vs},O5={hour:ve,minute:ve},$5={hour:ve,minute:ve,second:ve},C5={hour:ve,minute:ve,second:ve,timeZoneName:Mn},N5={hour:ve,minute:ve,second:ve,timeZoneName:vs},P5={hour:ve,minute:ve,hourCycle:"h23"},L5={hour:ve,minute:ve,second:ve,hourCycle:"h23"},k5={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:Mn},R5={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:vs},D5={year:ve,month:ve,day:ve,hour:ve,minute:ve},F5={year:ve,month:ve,day:ve,hour:ve,minute:ve,second:ve},U5={year:ve,month:Mn,day:ve,hour:ve,minute:ve},j5={year:ve,month:Mn,day:ve,hour:ve,minute:ve,second:ve},sB={year:ve,month:Mn,day:ve,weekday:Mn,hour:ve,minute:ve},V5={year:ve,month:vs,day:ve,hour:ve,minute:ve,timeZoneName:Mn},B5={year:ve,month:vs,day:ve,hour:ve,minute:ve,second:ve,timeZoneName:Mn},G5={year:ve,month:vs,day:ve,weekday:vs,hour:ve,minute:ve,timeZoneName:vs},z5={year:ve,month:vs,day:ve,weekday:vs,hour:ve,minute:ve,second:ve,timeZoneName:vs};class ru{get type(){throw new wa}get name(){throw new wa}get ianaName(){return this.name}get isUniversal(){throw new wa}offsetName(t,i){throw new wa}formatOffset(t,i){throw new wa}offset(t){throw new wa}equals(t){throw new wa}get isValid(){throw new wa}}let Eb=null;class Y1 extends ru{static get instance(){return Eb===null&&(Eb=new Y1),Eb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Q5(t,i,r)}formatOffset(t,i){return Dd(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let ay={};function nB(e){return ay[e]||(ay[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ay[e]}const oB={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function aB(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,o,a,l,c,f]=r;return[o,s,n,a,l,c,f]}function lB(e,t){const i=e.formatToParts(t),r=[];for(let s=0;s<i.length;s++){const{type:n,value:o}=i[s],a=oB[n];n==="era"?r[a]=o:Be(a)||(r[a]=parseInt(o,10))}return r}let c0={};class In extends ru{static create(t){return c0[t]||(c0[t]=new In(t)),c0[t]}static resetCache(){c0={},ay={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=In.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Q5(t,i,r,this.name)}formatOffset(t,i){return Dd(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=nB(this.name);let[s,n,o,a,l,c,f]=r.formatToParts?lB(r,i):aB(r,i);a==="BC"&&(s=-Math.abs(s)+1);const p=Z1({year:s,month:n,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+i;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let AT={};function cB(e,t={}){const i=JSON.stringify([e,t]);let r=AT[i];return r||(r=new Intl.ListFormat(e,t),AT[i]=r),r}let c2={};function u2(e,t={}){const i=JSON.stringify([e,t]);let r=c2[i];return r||(r=new Intl.DateTimeFormat(e,t),c2[i]=r),r}let h2={};function uB(e,t={}){const i=JSON.stringify([e,t]);let r=h2[i];return r||(r=new Intl.NumberFormat(e,t),h2[i]=r),r}let f2={};function hB(e,t={}){const{base:i,...r}=t,s=JSON.stringify([e,r]);let n=f2[s];return n||(n=new Intl.RelativeTimeFormat(e,t),f2[s]=n),n}let td=null;function fB(){return td||(td=new Intl.DateTimeFormat().resolvedOptions().locale,td)}let TT={};function dB(e){let t=TT[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,TT[e]=t}return t}function pB(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,s;try{r=u2(e).resolvedOptions(),s=e}catch{const l=e.substring(0,i);r=u2(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:o}=r;return[s,n,o]}}function mB(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function yB(e){const t=[];for(let i=1;i<=12;i++){const r=Ce.utc(2009,i,1);t.push(e(r))}return t}function gB(e){const t=[];for(let i=1;i<=7;i++){const r=Ce.utc(2016,11,13+i);t.push(e(r))}return t}function u0(e,t,i,r){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):r(t)}function vB(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class bB{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...o}=r;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=uB(t,a)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):AS(t,3);return $i(i,this.padTo)}}}class _B{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&In.create(a).valid?(s=a,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=u2(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class wB{constructor(t,i,r){this.opts={style:"long",...r},!i&&K5()&&(this.rtf=hB(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):zB(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const xB={firstDay:1,minimalDays:4,weekend:[6,7]};class St{static fromOpts(t){return St.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,s,n=!1){const o=t||ui.defaultLocale,a=o||(n?"en-US":fB()),l=i||ui.defaultNumberingSystem,c=r||ui.defaultOutputCalendar,f=d2(s)||ui.defaultWeekSettings;return new St(a,l,c,f,o)}static resetCache(){td=null,c2={},h2={},f2={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return St.create(t,i,r,s)}constructor(t,i,r,s,n){const[o,a,l]=pB(t);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=r||l||null,this.weekSettings=s,this.intl=mB(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=vB(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:St.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,d2(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return u0(this,t,i6,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=yB(n=>this.extract(n,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return u0(this,t,n6,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=gB(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return u0(this,void 0,()=>o6,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ce.utc(2016,11,13,9),Ce.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return u0(this,t,a6,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ce.utc(-40,1,1),Ce.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const s=this.dtFormatter(t,i),n=s.formatToParts(),o=n.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(t={}){return new bB(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new _B(t,this.intl,i)}relFormatter(t={}){return new wB(this.intl,this.isEnglish(),t)}listFormatter(t={}){return cB(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:X5()?dB(this.locale):xB}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Ab=null;class xr extends ru{static get utcInstance(){return Ab===null&&(Ab=new xr(0)),Ab}static instance(t){return t===0?xr.utcInstance:new xr(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new xr(K1(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Dd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Dd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Dd(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class SB extends ru{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Qa(e,t){if(Be(e)||e===null)return t;if(e instanceof ru)return e;if(OB(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?Y1.instance:i==="utc"||i==="gmt"?xr.utcInstance:xr.parseSpecifier(i)||In.create(e)}else return ll(e)?xr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new SB(e)}const wS={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­™]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼™]",gujr:"[à«¦-à«¯]",hanidec:"[ã€‡|ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹]",khmr:"[áŸ -áŸ©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»™]",limb:"[á¥†-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ™]",mymr:"[á€-á‰]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹™]",tibt:"[à¼ -à¼©]",latn:"\\d"},MT={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},EB=wS.hanidec.replace(/[\[|\]]/g,"").split("");function AB(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(wS.hanidec)!==-1)t+=EB.indexOf(e[i]);else for(const s in MT){const[n,o]=MT[s];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}else return t}let Lu={};function TB(){Lu={}}function Qs({numberingSystem:e},t=""){const i=e||"latn";return Lu[i]||(Lu[i]={}),Lu[i][t]||(Lu[i][t]=new RegExp(`${wS[i]}${t}`)),Lu[i][t]}let IT=()=>Date.now(),OT="system",$T=null,CT=null,NT=null,PT=60,LT,kT=null;class ui{static get now(){return IT}static set now(t){IT=t}static set defaultZone(t){OT=t}static get defaultZone(){return Qa(OT,Y1.instance)}static get defaultLocale(){return $T}static set defaultLocale(t){$T=t}static get defaultNumberingSystem(){return CT}static set defaultNumberingSystem(t){CT=t}static get defaultOutputCalendar(){return NT}static set defaultOutputCalendar(t){NT=t}static get defaultWeekSettings(){return kT}static set defaultWeekSettings(t){kT=d2(t)}static get twoDigitCutoffYear(){return PT}static set twoDigitCutoffYear(t){PT=t%100}static get throwOnInvalid(){return LT}static set throwOnInvalid(t){LT=t}static resetCaches(){St.resetCache(),In.resetCache(),Ce.resetCache(),TB()}}class dn{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const q5=[0,31,59,90,120,151,181,212,243,273,304,334],W5=[0,31,60,91,121,152,182,213,244,274,305,335];function Us(e,t){return new dn("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function xS(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function H5(e,t,i){return i+(bm(e)?W5:q5)[t-1]}function Y5(e,t){const i=bm(e)?W5:q5,r=i.findIndex(n=>n<t),s=t-i[r];return{month:r+1,day:s}}function SS(e,t){return(e-t+7)%7+1}function gg(e,t=4,i=1){const{year:r,month:s,day:n}=e,o=H5(r,s,n),a=SS(xS(r,s,n),i);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=r-1,l=Tp(c,t,i)):l>Tp(r,t,i)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...X1(e)}}function RT(e,t=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=e,o=SS(xS(r,1,t),i),a=ph(r);let l=s*7+n-o-7+t,c;l<1?(c=r-1,l+=ph(c)):l>a?(c=r+1,l-=ph(r)):c=r;const{month:f,day:d}=Y5(c,l);return{year:c,month:f,day:d,...X1(e)}}function Tb(e){const{year:t,month:i,day:r}=e,s=H5(t,i,r);return{year:t,ordinal:s,...X1(e)}}function DT(e){const{year:t,ordinal:i}=e,{month:r,day:s}=Y5(t,i);return{year:t,month:r,day:s,...X1(e)}}function FT(e,t){if(!Be(e.localWeekday)||!Be(e.localWeekNumber)||!Be(e.localWeekYear)){if(!Be(e.weekday)||!Be(e.weekNumber)||!Be(e.weekYear))throw new Zu("Cannot mix locale-based week fields with ISO-based week fields");return Be(e.localWeekday)||(e.weekday=e.localWeekday),Be(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Be(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function MB(e,t=4,i=1){const r=J1(e.weekYear),s=js(e.weekNumber,1,Tp(e.weekYear,t,i)),n=js(e.weekday,1,7);return r?s?n?!1:Us("weekday",e.weekday):Us("week",e.weekNumber):Us("weekYear",e.weekYear)}function IB(e){const t=J1(e.year),i=js(e.ordinal,1,ph(e.year));return t?i?!1:Us("ordinal",e.ordinal):Us("year",e.year)}function J5(e){const t=J1(e.year),i=js(e.month,1,12),r=js(e.day,1,vg(e.year,e.month));return t?i?r?!1:Us("day",e.day):Us("month",e.month):Us("year",e.year)}function Z5(e){const{hour:t,minute:i,second:r,millisecond:s}=e,n=js(t,0,23)||t===24&&i===0&&r===0&&s===0,o=js(i,0,59),a=js(r,0,59),l=js(s,0,999);return n?o?a?l?!1:Us("millisecond",s):Us("second",r):Us("minute",i):Us("hour",t)}function Be(e){return typeof e>"u"}function ll(e){return typeof e=="number"}function J1(e){return typeof e=="number"&&e%1===0}function OB(e){return typeof e=="string"}function $B(e){return Object.prototype.toString.call(e)==="[object Date]"}function K5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function X5(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function CB(e){return Array.isArray(e)?e:[e]}function UT(e,t,i){if(e.length!==0)return e.reduce((r,s)=>{const n=[t(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function NB(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function Fh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d2(e){if(e==null)return null;if(typeof e!="object")throw new mr("Week settings must be an object");if(!js(e.firstDay,1,7)||!js(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!js(t,1,7)))throw new mr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function js(e,t,i){return J1(e)&&e>=t&&e<=i}function PB(e,t){return e-t*Math.floor(e/t)}function $i(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Ga(e){if(!(Be(e)||e===null||e===""))return parseInt(e,10)}function Bl(e){if(!(Be(e)||e===null||e===""))return parseFloat(e)}function ES(e){if(!(Be(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function AS(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function bm(e){return e%4===0&&(e%100!==0||e%400===0)}function ph(e){return bm(e)?366:365}function vg(e,t){const i=PB(t-1,12)+1,r=e+(t-i)/12;return i===2?bm(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function Z1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function jT(e,t,i){return-SS(xS(e,1,t),i)+t-1}function Tp(e,t=4,i=1){const r=jT(e,t,i),s=jT(e+1,t,i);return(ph(e)-r+s)/7}function p2(e){return e>99?e:e>ui.twoDigitCutoffYear?1900+e:2e3+e}function Q5(e,t,i,r=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const o={timeZoneName:t,...n},a=new Intl.DateTimeFormat(i,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function K1(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function e6(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new mr(`Invalid unit value ${e}`);return t}function bg(e,t){const i={};for(const r in e)if(Fh(e,r)){const s=e[r];if(s==null)continue;i[t(r)]=e6(s)}return i}function Dd(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${$i(i,2)}:${$i(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${$i(i,2)}${$i(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function X1(e){return NB(e,["hour","minute","second","millisecond"])}const LB=["January","February","March","April","May","June","July","August","September","October","November","December"],t6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],kB=["J","F","M","A","M","J","J","A","S","O","N","D"];function i6(e){switch(e){case"narrow":return[...kB];case"short":return[...t6];case"long":return[...LB];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const r6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s6=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],RB=["M","T","W","T","F","S","S"];function n6(e){switch(e){case"narrow":return[...RB];case"short":return[...s6];case"long":return[...r6];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const o6=["AM","PM"],DB=["Before Christ","Anno Domini"],FB=["BC","AD"],UB=["B","A"];function a6(e){switch(e){case"narrow":return[...UB];case"short":return[...FB];case"long":return[...DB];default:return null}}function jB(e){return o6[e.hour<12?0:1]}function VB(e,t){return n6(t)[e.weekday-1]}function BB(e,t){return i6(t)[e.month-1]}function GB(e,t){return a6(t)[e.year<0?0:1]}function zB(e,t,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&n){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${s[e][0]}`;case-1:return d?"yesterday":`last ${s[e][0]}`;case 0:return d?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=s[e],f=r?l?c[1]:c[2]||c[1]:l?s[e][0]:e;return o?`${a} ${f} ago`:`in ${a} ${f}`}function VT(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const qB={D:yg,DD:T5,DDD:M5,DDDD:I5,t:O5,tt:$5,ttt:C5,tttt:N5,T:P5,TT:L5,TTT:k5,TTTT:R5,f:D5,ff:U5,fff:V5,ffff:G5,F:F5,FF:j5,FFF:B5,FFFF:z5};class wr{static create(t,i={}){return new wr(t,i)}static parseFormat(t){let i=null,r="",s=!1;const n=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||a===i?r+=a:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=a,i=a)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(t){return qB[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return $i(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,v)=>this.loc.extract(t,y,v),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>r?jB(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>r?BB(t,y):n(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>r?VB(t,y):n(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const v=wr.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(t,v):y},d=y=>r?GB(t,y):n({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return VT(wr.parseFormat(i),p)}formatDurationFromString(t,i){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{const f=r(c);return f?this.num(l.get(f),c.length):c},n=wr.parseFormat(i),o=n.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=t.shiftTo(...o.map(r).filter(l=>l));return VT(n,s(a))}}const l6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function bf(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function _f(...e){return t=>e.reduce(([i,r,s],n)=>{const[o,a,l]=n(t,s);return[{...i,...o},a||r,l]},[{},null,1]).slice(0,2)}function wf(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const s=i.exec(e);if(s)return r(s)}return[null,null]}function c6(...e){return(t,i)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=Ga(t[i+s]);return[r,null,i+s]}}const u6=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,WB=`(?:${u6.source}?(?:\\[(${l6.source})\\])?)?`,TS=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,h6=RegExp(`${TS.source}${WB}`),MS=RegExp(`(?:T${h6.source})?`),HB=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,YB=/(\d{4})-?W(\d\d)(?:-?(\d))?/,JB=/(\d{4})-?(\d{3})/,ZB=c6("weekYear","weekNumber","weekDay"),KB=c6("year","ordinal"),XB=/(\d{4})-(\d\d)-(\d\d)/,f6=RegExp(`${TS.source} ?(?:${u6.source}|(${l6.source}))?`),QB=RegExp(`(?: ${f6.source})?`);function mh(e,t,i){const r=e[t];return Be(r)?i:Ga(r)}function eG(e,t){return[{year:mh(e,t),month:mh(e,t+1,1),day:mh(e,t+2,1)},null,t+3]}function xf(e,t){return[{hours:mh(e,t,0),minutes:mh(e,t+1,0),seconds:mh(e,t+2,0),milliseconds:ES(e[t+3])},null,t+4]}function _m(e,t){const i=!e[t]&&!e[t+1],r=K1(e[t+1],e[t+2]),s=i?null:xr.instance(r);return[{},s,t+3]}function wm(e,t){const i=e[t]?In.create(e[t]):null;return[{},i,t+1]}const tG=RegExp(`^T?${TS.source}$`),iG=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function rG(e){const[t,i,r,s,n,o,a,l,c]=e,f=t[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&f)?-y:y;return[{years:p(Bl(i)),months:p(Bl(r)),weeks:p(Bl(s)),days:p(Bl(n)),hours:p(Bl(o)),minutes:p(Bl(a)),seconds:p(Bl(l),l==="-0"),milliseconds:p(ES(c),d)}]}const sG={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function IS(e,t,i,r,s,n,o){const a={year:t.length===2?p2(Ga(t)):Ga(t),month:t6.indexOf(i)+1,day:Ga(r),hour:Ga(s),minute:Ga(n)};return o&&(a.second=Ga(o)),e&&(a.weekday=e.length>3?r6.indexOf(e)+1:s6.indexOf(e)+1),a}const nG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function oG(e){const[,t,i,r,s,n,o,a,l,c,f,d]=e,p=IS(t,s,r,i,n,o,a);let y;return l?y=sG[l]:c?y=0:y=K1(f,d),[p,new xr(y)]}function aG(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const lG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,cG=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,uG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function BT(e){const[,t,i,r,s,n,o,a]=e;return[IS(t,s,r,i,n,o,a),xr.utcInstance]}function hG(e){const[,t,i,r,s,n,o,a]=e;return[IS(t,a,i,r,s,n,o),xr.utcInstance]}const fG=bf(HB,MS),dG=bf(YB,MS),pG=bf(JB,MS),mG=bf(h6),d6=_f(eG,xf,_m,wm),yG=_f(ZB,xf,_m,wm),gG=_f(KB,xf,_m,wm),vG=_f(xf,_m,wm);function bG(e){return wf(e,[fG,d6],[dG,yG],[pG,gG],[mG,vG])}function _G(e){return wf(aG(e),[nG,oG])}function wG(e){return wf(e,[lG,BT],[cG,BT],[uG,hG])}function xG(e){return wf(e,[iG,rG])}const SG=_f(xf);function EG(e){return wf(e,[tG,SG])}const AG=bf(XB,QB),TG=bf(f6),MG=_f(xf,_m,wm);function IG(e){return wf(e,[AG,d6],[TG,MG])}const GT="Invalid Duration",p6={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},OG={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...p6},Ms=146097/400,xu=146097/4800,$G={years:{quarters:4,months:12,weeks:Ms/7,days:Ms,hours:Ms*24,minutes:Ms*24*60,seconds:Ms*24*60*60,milliseconds:Ms*24*60*60*1e3},quarters:{months:3,weeks:Ms/28,days:Ms/4,hours:Ms*24/4,minutes:Ms*24*60/4,seconds:Ms*24*60*60/4,milliseconds:Ms*24*60*60*1e3/4},months:{weeks:xu/7,days:xu,hours:xu*24,minutes:xu*24*60,seconds:xu*24*60*60,milliseconds:xu*24*60*60*1e3},...p6},_c=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],CG=_c.slice(0).reverse();function xa(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new ut(r)}function m6(e,t){let i=t.milliseconds??0;for(const r of CG.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function zT(e,t){const i=m6(e,t)<0?-1:1;_c.reduceRight((r,s)=>{if(Be(t[s]))return r;if(r){const n=t[r]*i,o=e[s][r],a=Math.floor(n/o);t[s]+=a*i,t[r]-=a*o*i}return s},null),_c.reduce((r,s)=>{if(Be(t[s]))return r;if(r){const n=t[r]%1;t[r]-=n,t[s]+=n*e[r][s]}return s},null)}function NG(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class ut{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?$G:OG;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||St.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return ut.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new mr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new ut({values:bg(t,ut.normalizeUnit),loc:St.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(ll(t))return ut.fromMillis(t);if(ut.isDuration(t))return t;if(typeof t=="object")return ut.fromObject(t);throw new mr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=xG(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=EG(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new mr("need to specify a reason the Duration is invalid");const r=t instanceof dn?t:new dn(t,i);if(ui.throwOnInvalid)throw new iB(r);return new ut({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new A5(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?wr.create(this.loc,r).formatDurationFromString(this,t):GT}toHuman(t={}){if(!this.isValid)return GT;const i=_c.map(r=>{const s=this.values[r];return Be(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=AS(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ce.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?m6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t),r={};for(const s of _c)(Fh(i.values,s)||Fh(this.values,s))&&(r[s]=i.get(s)+this.get(s));return xa(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=e6(t(this.values[r],r));return xa(this,{values:i},!0)}get(t){return this[ut.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...bg(t,ut.normalizeUnit)};return xa(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:r};return xa(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return zT(this.matrix,t),xa(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=NG(this.normalize().shiftToAll().toObject());return xa(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>ut.normalizeUnit(o));const i={},r={},s=this.toObject();let n;for(const o of _c)if(t.indexOf(o)>=0){n=o;let a=0;for(const c in r)a+=this.matrix[c][o]*r[c],r[c]=0;ll(s[o])&&(a+=s[o]);const l=Math.trunc(a);i[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else ll(s[o])&&(r[o]=s[o]);for(const o in r)r[o]!==0&&(i[n]+=o===n?r[o]:r[o]/this.matrix[n][o]);return zT(this.matrix,i),xa(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return xa(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of _c)if(!i(this.values[r],t.values[r]))return!1;return!0}}const Su="Invalid Interval";function PG(e,t){return!e||!e.isValid?li.invalid("missing or invalid start"):!t||!t.isValid?li.invalid("missing or invalid end"):t<e?li.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class li{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new mr("need to specify a reason the Interval is invalid");const r=t instanceof dn?t:new dn(t,i);if(ui.throwOnInvalid)throw new tB(r);return new li({invalid:r})}static fromDateTimes(t,i){const r=Rf(t),s=Rf(i),n=PG(r,s);return n??new li({start:r,end:s})}static after(t,i){const r=ut.fromDurationLike(i),s=Rf(t);return li.fromDateTimes(s,s.plus(r))}static before(t,i){const r=ut.fromDurationLike(i),s=Rf(t);return li.fromDateTimes(s.minus(r),s)}static fromISO(t,i){const[r,s]=(t||"").split("/",2);if(r&&s){let n,o;try{n=Ce.fromISO(r,i),o=n.isValid}catch{o=!1}let a,l;try{a=Ce.fromISO(s,i),l=a.isValid}catch{l=!1}if(o&&l)return li.fromDateTimes(n,a);if(o){const c=ut.fromISO(s,i);if(c.isValid)return li.after(n,c)}else if(l){const c=ut.fromISO(r,i);if(c.isValid)return li.before(a,c)}}return li.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let s;return i?.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?li.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Rf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const o=i[n]||this.e,a=+o>+this.e?this.e:o;r.push(li.fromDateTimes(s,a)),s=a,n+=1}return r}splitBy(t){const i=ut.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const o=[];for(;r<this.e;){const a=this.start.plus(i.mapUnits(l=>l*s));n=+a>+this.e?this.e:a,o.push(li.fromDateTimes(r,n)),r=n,s+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:li.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return li.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const s=[],n=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...n),a=o.sort((l,c)=>l.time-c.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&s.push(li.fromDateTimes(i,l.time)),i=null);return li.merge(s)}difference(...t){return li.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} â€“ ${this.e.toISO()})`:Su}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=yg,i={}){return this.isValid?wr.create(this.s.loc.clone(i),t).formatInterval(this):Su}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Su}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Su}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Su}toFormat(t,{separator:i=" â€“ "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Su}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):ut.invalid(this.invalidReason)}mapEndpoints(t){return li.fromDateTimes(t(this.s),t(this.e))}}class h0{static hasDST(t=ui.defaultZone){const i=Ce.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return In.isValidZone(t)}static normalizeZone(t){return Qa(t,ui.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||St.create(i,r,n)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||St.create(i,r,n)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||St.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||St.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return St.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return St.create(i,null,"gregory").eras(t)}static features(){return{relative:K5(),localeWeek:X5()}}}function qT(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(ut.fromMillis(r).as("days"))}function LG(e,t,i){const r=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=qT(l,c);return(f-f%7)/7}],["days",qT]],s={},n=e;let o,a;for(const[l,c]of r)i.indexOf(l)>=0&&(o=l,s[l]=c(e,t),a=n.plus(s),a>t?(s[l]--,e=n.plus(s),e>t&&(a=e,s[l]--,e=n.plus(s))):e=a);return[e,s,a,o]}function kG(e,t,i,r){let[s,n,o,a]=LG(e,t,i);const l=t-s,c=i.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(n[a]=(n[a]||0)+l/(o-s)));const f=ut.fromObject(n,r);return c.length>0?ut.fromMillis(l,r).shiftTo(...c).plus(f):f}const RG="missing Intl.DateTimeFormat.formatToParts support";function yt(e,t=i=>i){return{regex:e,deser:([i])=>t(AB(i))}}const DG="Â ",y6=`[ ${DG}]`,g6=new RegExp(y6,"g");function FG(e){return e.replace(/\./g,"\\.?").replace(g6,y6)}function WT(e){return e.replace(/\./g,"").replace(g6," ").toLowerCase()}function en(e,t){return e===null?null:{regex:RegExp(e.map(FG).join("|")),deser:([i])=>e.findIndex(r=>WT(i)===WT(r))+t}}function HT(e,t){return{regex:e,deser:([,i,r])=>K1(i,r),groups:t}}function f0(e){return{regex:e,deser:([t])=>t}}function UG(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function jG(e,t){const i=Qs(t),r=Qs(t,"{2}"),s=Qs(t,"{3}"),n=Qs(t,"{4}"),o=Qs(t,"{6}"),a=Qs(t,"{1,2}"),l=Qs(t,"{1,3}"),c=Qs(t,"{1,6}"),f=Qs(t,"{1,9}"),d=Qs(t,"{2,4}"),p=Qs(t,"{4,6}"),y=E=>({regex:RegExp(UG(E.val)),deser:([S])=>S,literal:!0}),b=(E=>{if(e.literal)return y(E);switch(E.val){case"G":return en(t.eras("short"),0);case"GG":return en(t.eras("long"),0);case"y":return yt(c);case"yy":return yt(d,p2);case"yyyy":return yt(n);case"yyyyy":return yt(p);case"yyyyyy":return yt(o);case"M":return yt(a);case"MM":return yt(r);case"MMM":return en(t.months("short",!0),1);case"MMMM":return en(t.months("long",!0),1);case"L":return yt(a);case"LL":return yt(r);case"LLL":return en(t.months("short",!1),1);case"LLLL":return en(t.months("long",!1),1);case"d":return yt(a);case"dd":return yt(r);case"o":return yt(l);case"ooo":return yt(s);case"HH":return yt(r);case"H":return yt(a);case"hh":return yt(r);case"h":return yt(a);case"mm":return yt(r);case"m":return yt(a);case"q":return yt(a);case"qq":return yt(r);case"s":return yt(a);case"ss":return yt(r);case"S":return yt(l);case"SSS":return yt(s);case"u":return f0(f);case"uu":return f0(a);case"uuu":return yt(i);case"a":return en(t.meridiems(),0);case"kkkk":return yt(n);case"kk":return yt(d,p2);case"W":return yt(a);case"WW":return yt(r);case"E":case"c":return yt(i);case"EEE":return en(t.weekdays("short",!1),1);case"EEEE":return en(t.weekdays("long",!1),1);case"ccc":return en(t.weekdays("short",!0),1);case"cccc":return en(t.weekdays("long",!0),1);case"Z":case"ZZ":return HT(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return HT(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return f0(/[a-z_+-/]{1,256}?/i);case" ":return f0(/[^\S\n\r]/);default:return y(E)}})(e)||{invalidReason:RG};return b.token=e,b}const VG={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function BG(e,t,i){const{type:r,value:s}=e;if(r==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=t[r];let o=r;r==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=VG[o];if(typeof a=="object"&&(a=a[n]),a)return{literal:!1,val:a}}function GG(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function zG(e,t,i){const r=e.match(t);if(r){const s={};let n=1;for(const o in i)if(Fh(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(r.slice(n,n+l))),n+=l}return[r,s]}else return[r,{}]}function qG(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Be(e.z)||(i=In.create(e.z)),Be(e.Z)||(i||(i=new xr(e.Z)),r=e.Z),Be(e.q)||(e.M=(e.q-1)*3+1),Be(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Be(e.u)||(e.S=ES(e.u)),[Object.keys(e).reduce((n,o)=>{const a=t(o);return a&&(n[a]=e[o]),n},{}),i,r]}let Mb=null;function WG(){return Mb||(Mb=Ce.fromMillis(1555555555555)),Mb}function HG(e,t){if(e.literal)return e;const i=wr.macroTokenToFormatOpts(e.val),r=w6(i,t);return r==null||r.includes(void 0)?e:r}function v6(e,t){return Array.prototype.concat(...e.map(i=>HG(i,t)))}class b6{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=v6(wr.parseFormat(i),t),this.units=this.tokens.map(r=>jG(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=GG(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[i,r]=zG(t,this.regex,this.handlers),[s,n,o]=r?qG(r):[null,null,void 0];if(Fh(r,"a")&&Fh(r,"H"))throw new Zu("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function _6(e,t,i){return new b6(e,i).explainFromTokens(t)}function YG(e,t,i){const{result:r,zone:s,specificOffset:n,invalidReason:o}=_6(e,t,i);return[r,s,n,o]}function w6(e,t){if(!e)return null;const r=wr.create(t,e).dtFormatter(WG()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(o=>BG(o,e,n))}const Ib="Invalid DateTime",YT=864e13;function id(e){return new dn("unsupported zone",`the zone "${e.name}" is not supported`)}function Ob(e){return e.weekData===null&&(e.weekData=gg(e.c)),e.weekData}function $b(e){return e.localWeekData===null&&(e.localWeekData=gg(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Gl(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ce({...i,...t,old:i})}function x6(e,t,i){let r=e-t*60*1e3;const s=i.offset(r);if(t===s)return[r,t];r-=(s-t)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function d0(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function ly(e,t,i){return x6(Z1(e),t,i)}function JT(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:r,month:s,day:Math.min(e.c.day,vg(r,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=ut.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Z1(n);let[l,c]=x6(a,i,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function Eu(e,t,i,r,s,n){const{setZone:o,zone:a}=i;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Ce.fromObject(e,{...i,zone:l,specificOffset:n});return o?c:c.setZone(a)}else return Ce.invalid(new dn("unparsable",`the input "${s}" can't be parsed as ${r}`))}function p0(e,t,i=!0){return e.isValid?wr.create(St.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Cb(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=$i(e.c.year,i?6:4),t?(r+="-",r+=$i(e.c.month),r+="-",r+=$i(e.c.day)):(r+=$i(e.c.month),r+=$i(e.c.day)),r}function ZT(e,t,i,r,s,n){let o=$i(e.c.hour);return t?(o+=":",o+=$i(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=":")):o+=$i(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=$i(e.c.second),(e.c.millisecond!==0||!r)&&(o+=".",o+=$i(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!n?o+="Z":e.o<0?(o+="-",o+=$i(Math.trunc(-e.o/60)),o+=":",o+=$i(Math.trunc(-e.o%60))):(o+="+",o+=$i(Math.trunc(e.o/60)),o+=":",o+=$i(Math.trunc(e.o%60)))),n&&(o+="["+e.zone.ianaName+"]"),o}const S6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},JG={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ZG={ordinal:1,hour:0,minute:0,second:0,millisecond:0},E6=["year","month","day","hour","minute","second","millisecond"],KG=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],XG=["year","ordinal","hour","minute","second","millisecond"];function QG(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new A5(e);return t}function KT(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return QG(e)}}function ez(e){return uy[e]||(cy===void 0&&(cy=ui.now()),uy[e]=e.offset(cy)),uy[e]}function XT(e,t){const i=Qa(t.zone,ui.defaultZone);if(!i.isValid)return Ce.invalid(id(i));const r=St.fromObject(t);let s,n;if(Be(e.year))s=ui.now();else{for(const l of E6)Be(e[l])&&(e[l]=S6[l]);const o=J5(e)||Z5(e);if(o)return Ce.invalid(o);const a=ez(i);[s,n]=ly(e,a,i)}return new Ce({ts:s,zone:i,loc:r,o:n})}function QT(e,t,i){const r=Be(i.round)?!0:i.round,s=(o,a)=>(o=AS(o,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,a)),n=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return s(n(i.unit),i.unit);for(const o of i.units){const a=n(o);if(Math.abs(a)>=1)return s(a,o)}return s(e>t?-0:0,i.units[i.units.length-1])}function e4(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let cy,uy={};class Ce{constructor(t){const i=t.zone||ui.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new dn("invalid input"):null)||(i.isValid?null:id(i));this.ts=Be(t.ts)?ui.now():t.ts;let s=null,n=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,n]=[t.old.c,t.old.o];else{const a=ll(t.o)&&!t.old?t.o:i.offset(this.ts);s=d0(this.ts,a),r=Number.isNaN(s.year)?new dn("invalid input"):null,s=r?null:s,n=r?null:a}this._zone=i,this.loc=t.loc||St.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Ce({})}static local(){const[t,i]=e4(arguments),[r,s,n,o,a,l,c]=i;return XT({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,i]=e4(arguments),[r,s,n,o,a,l,c]=i;return t.zone=xr.utcInstance,XT({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,i={}){const r=$B(t)?t.valueOf():NaN;if(Number.isNaN(r))return Ce.invalid("invalid input");const s=Qa(i.zone,ui.defaultZone);return s.isValid?new Ce({ts:r,zone:s,loc:St.fromObject(i)}):Ce.invalid(id(s))}static fromMillis(t,i={}){if(ll(t))return t<-YT||t>YT?Ce.invalid("Timestamp out of range"):new Ce({ts:t,zone:Qa(i.zone,ui.defaultZone),loc:St.fromObject(i)});throw new mr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(ll(t))return new Ce({ts:t*1e3,zone:Qa(i.zone,ui.defaultZone),loc:St.fromObject(i)});throw new mr("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=Qa(i.zone,ui.defaultZone);if(!r.isValid)return Ce.invalid(id(r));const s=St.fromObject(i),n=bg(t,KT),{minDaysInFirstWeek:o,startOfWeek:a}=FT(n,s),l=ui.now(),c=Be(i.specificOffset)?r.offset(l):i.specificOffset,f=!Be(n.ordinal),d=!Be(n.year),p=!Be(n.month)||!Be(n.day),y=d||p,v=n.weekYear||n.weekNumber;if((y||f)&&v)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Zu("Can't mix ordinal dates with month/day");const b=v||n.weekday&&!y;let E,S,T=d0(l,c);b?(E=KG,S=JG,T=gg(T,o,a)):f?(E=XG,S=ZG,T=Tb(T)):(E=E6,S=S6);let w=!1;for(const U of E){const j=n[U];Be(j)?w?n[U]=S[U]:n[U]=T[U]:w=!0}const _=b?MB(n,o,a):f?IB(n):J5(n),M=_||Z5(n);if(M)return Ce.invalid(M);const I=b?RT(n,o,a):f?DT(n):n,[C,P]=ly(I,c,r),N=new Ce({ts:C,zone:r,o:P,loc:s});return n.weekday&&y&&t.weekday!==N.weekday?Ce.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${N.toISO()}`):N.isValid?N:Ce.invalid(N.invalid)}static fromISO(t,i={}){const[r,s]=bG(t);return Eu(r,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,s]=_G(t);return Eu(r,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,s]=wG(t);return Eu(r,s,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Be(t)||Be(i))throw new mr("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[a,l,c,f]=YG(o,t,i);return f?Ce.invalid(f):Eu(a,l,r,`format ${i}`,t,c)}static fromString(t,i,r={}){return Ce.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,s]=IG(t);return Eu(r,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new mr("need to specify a reason the DateTime is invalid");const r=t instanceof dn?t:new dn(t,i);if(ui.throwOnInvalid)throw new eB(r);return new Ce({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=w6(t,St.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return v6(wr.parseFormat(t),St.fromObject(i)).map(s=>s.val).join("")}static resetCache(){cy=void 0,uy={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ob(this).weekYear:NaN}get weekNumber(){return this.isValid?Ob(this).weekNumber:NaN}get weekday(){return this.isValid?Ob(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?$b(this).weekday:NaN}get localWeekNumber(){return this.isValid?$b(this).weekNumber:NaN}get localWeekYear(){return this.isValid?$b(this).weekYear:NaN}get ordinal(){return this.isValid?Tb(this.c).ordinal:NaN}get monthShort(){return this.isValid?h0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?h0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?h0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?h0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=Z1(this.c),s=this.zone.offset(r-t),n=this.zone.offset(r+t),o=this.zone.offset(r-s*i),a=this.zone.offset(r-n*i);if(o===a)return[this];const l=r-o*i,c=r-a*i,f=d0(l,o),d=d0(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[Gl(this,{ts:l}),Gl(this,{ts:c})]:[this]}get isInLeapYear(){return bm(this.year)}get daysInMonth(){return vg(this.year,this.month)}get daysInYear(){return this.isValid?ph(this.year):NaN}get weeksInWeekYear(){return this.isValid?Tp(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Tp(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:s}=wr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(xr.instance(t),i)}toLocal(){return this.setZone(ui.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=Qa(t,ui.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||r){const n=t.offset(this.ts),o=this.toObject();[s]=ly(o,n,t)}return Gl(this,{ts:s,zone:t})}else return Ce.invalid(id(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return Gl(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=bg(t,KT),{minDaysInFirstWeek:r,startOfWeek:s}=FT(i,this.loc),n=!Be(i.weekYear)||!Be(i.weekNumber)||!Be(i.weekday),o=!Be(i.ordinal),a=!Be(i.year),l=!Be(i.month)||!Be(i.day),c=a||l,f=i.weekYear||i.weekNumber;if((c||o)&&f)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Zu("Can't mix ordinal dates with month/day");let d;n?d=RT({...gg(this.c,r,s),...i},r,s):Be(i.ordinal)?(d={...this.toObject(),...i},Be(i.day)&&(d.day=Math.min(vg(d.year,d.month),d.day))):d=DT({...Tb(this.c),...i});const[p,y]=ly(d,this.o,this.zone);return Gl(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return Gl(this,JT(this,i))}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t).negate();return Gl(this,JT(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=ut.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?wr.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):Ib}toLocaleString(t=yg,i={}){return this.isValid?wr.create(this.loc.clone(i),t).formatDateTime(this):Ib}toLocaleParts(t={}){return this.isValid?wr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=Cb(this,o);return a+="T",a+=ZT(this,o,i,r,s,n),a}toISODate({format:t="extended"}={}){return this.isValid?Cb(this,t==="extended"):null}toISOWeekDate(){return p0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+ZT(this,o==="extended",i,t,r,n):null}toRFC2822(){return p0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return p0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Cb(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(r&&(s+=" "),i?s+="z":t&&(s+="ZZ")),p0(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ib}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return ut.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=CB(i).map(ut.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=kG(a,l,n,s);return o?c.negate():c}diffNow(t="milliseconds",i={}){return this.diff(Ce.now(),t,i)}until(t){return this.isValid?li.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Ce.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),QT(i,this.plus(r),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?QT(t.base||Ce.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ce.isDateTime))throw new mr("min requires all arguments be DateTimes");return UT(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Ce.isDateTime))throw new mr("max requires all arguments be DateTimes");return UT(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return _6(o,t,i)}static fromStringExplain(t,i,r={}){return Ce.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=St.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new b6(n,t)}static fromFormatParser(t,i,r={}){if(Be(t)||Be(i))throw new mr("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(i.locale))throw new mr(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=i.explainFromTokens(t);return f?Ce.invalid(f):Eu(a,l,r,`format ${i.format}`,t,c)}static get DATE_SHORT(){return yg}static get DATE_MED(){return T5}static get DATE_MED_WITH_WEEKDAY(){return rB}static get DATE_FULL(){return M5}static get DATE_HUGE(){return I5}static get TIME_SIMPLE(){return O5}static get TIME_WITH_SECONDS(){return $5}static get TIME_WITH_SHORT_OFFSET(){return C5}static get TIME_WITH_LONG_OFFSET(){return N5}static get TIME_24_SIMPLE(){return P5}static get TIME_24_WITH_SECONDS(){return L5}static get TIME_24_WITH_SHORT_OFFSET(){return k5}static get TIME_24_WITH_LONG_OFFSET(){return R5}static get DATETIME_SHORT(){return D5}static get DATETIME_SHORT_WITH_SECONDS(){return F5}static get DATETIME_MED(){return U5}static get DATETIME_MED_WITH_SECONDS(){return j5}static get DATETIME_MED_WITH_WEEKDAY(){return sB}static get DATETIME_FULL(){return V5}static get DATETIME_FULL_WITH_SECONDS(){return B5}static get DATETIME_HUGE(){return G5}static get DATETIME_HUGE_WITH_SECONDS(){return z5}}function Rf(e){if(Ce.isDateTime(e))return e;if(e&&e.valueOf&&ll(e.valueOf()))return Ce.fromJSDate(e);if(e&&typeof e=="object")return Ce.fromObject(e);throw new mr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const tz="HH:mm",iz="HH:mm:ss",rz="HH:mm:ss.SSS",sz=[rz,iz,tz,"TT"],nz="yyyy-MM-dd";function t4(e){if(!e||!vm(e))return null;const t=Ce.fromFormat(e,nz);return t.isValid?t:null}function i4(e){return e&&vm(e)?pD(sz,t=>{const i=Ce.fromFormat(e,t);return i.isValid?i:null})??null:null}function r4(e){if(!e||!vm(e))return null;const t=Ce.fromISO(e);return t.isValid?t:null}var _g;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(_g||(_g={}));const A6=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function oz(e){return e!=null&&A6.has(e.type)}function T6(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function M6(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function I6(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const az=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);Xx(A6,az);function Yye(e,t){const i=e?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=oz(e);return T6(e)||I6(e)||M6(e)?{...lz(e,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function lz(e,t,i){return T6(e)?{min:t4(i)?.toMillis(),max:t4(t)?.toMillis(),rawMin:i,rawMax:t}:I6(e)?{min:i4(i)?.toMillis(),max:i4(t)?.toMillis(),rawMin:i,rawMax:t}:M6(e)?{min:r4(i)?.toMillis(),max:r4(t)?.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function cz(e){if(!e)return;const t=e.match(uz);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const uz=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function Jye(e){return e.match(hz)?.[1]?.replace(/\\'/g,"'")??null}const hz=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let eo=class{};function fz(e){return e instanceof ru?e===eo.instance:e?.toString().toLowerCase()==="unknown"}function Kye(e){return fz(e)?eo.instance:e}eo.instance=new In("Etc/UTC");var wg;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(wg||(wg={}));const dz={[wg.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let pz=class O6 extends Error{constructor(t,i){super(Gx(dz[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,O6)}};function Au(e,t,i){return e<t?e-t:e>i?e-i:0}function Tu(e,t,i){return e<t?t:e>i?i:e}let m0=class yi{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,s=0,n=0,o=0,a=0,l){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o)||isNaN(a))return null;const c=Ce.local(t,i).daysInMonth;let f=Ce.fromObject({day:Tu(r,1,c),year:t,month:Tu(i,1,12),hour:Tu(s,0,23),minute:Tu(n,0,59),second:Tu(o,0,59),millisecond:Tu(a,0,999)},{zone:zl(l)});return f=f.plus({months:Au(i,1,12),days:Au(r,1,c),hours:Au(s,0,23),minutes:Au(n,0,59),seconds:Au(o,0,59),milliseconds:Au(a,0,999)}),new yi(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=zl(i);return t.isUnknownTimeZone||r===eo.instance?yi.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new yi(t._date.setZone(r))}static dateJSToArcadeDate(t){return new yi(Ce.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=zl(i);return new yi(Ce.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new yi(Ce.fromMillis(t,{zone:eo.instance}))}static unknownDateJSToArcadeDate(t){return new yi(Ce.fromMillis(t.getTime(),{zone:eo.instance}))}static epochToArcadeDate(t,i="system"){const r=zl(i);return new yi(Ce.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new yi(t)}clone(){return new yi(this._date)}changeTimeZone(t){const i=zl(t);return yi.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=zl(i);return t.zone===eo.instance||r===eo.instance?yi.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new yi(t.setZone(r))}static nowToArcadeDate(t){const i=zl(t);return new yi(Ce.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new yi(Ce.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===yi.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===eo.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new yi(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new yi(this._date.toUTC())}toLocal(){return new yi(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=Ce.fromISO(t,{setZone:!0});return new yi(i)}};function zl(e,t=!0){if(e instanceof ru)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return eo.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=xr.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=In.create(e);if(!i.isValid){if(t)throw new pz(wg.TimeZoneNotRecognized);return null}return i}const mz=()=>kt.getLogger("esri.support.arcadeOnDemand"),yz=["geometry","scale","timeProperties"];function Xye(e,t){if(t!=null)for(const i of yz)t.hasArcadeDependency(i)&&e.add(i);return e}let Nb;function $6(){return Nb||(Nb=(async()=>{const e=await _e(()=>import("./arcadeUtils-BIrES1E5.js"),__vite__mapDeps([18,19,1,20,21,22,17,23,24,25,26,27,28,29,30,31,16,5]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),Nb}const Qye=(e,t,i)=>C6.create(e,t,i,null,["$feature","$view"],[]),ege=(e,t,i,r)=>C6.create(e,t,i,r,["$feature","$view"],[]);let C6=class N6{constructor(t,i,r,s,n,o,a){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=n,this._spatialReference=a,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,i,r,s,n,o){const{arcade:a,Feature:l,Dictionary:c}=await $6(),f=i instanceof qi?i:qi.fromJSON(i);let d;try{d=a.parseScript(t,o)}catch(P){return mz().error(new ft("arcade-bad-expression","Failed to parse arcade script",{script:t,error:P})),null}const p=n.reduce((P,N)=>({...P,[N]:null}),{});let y=null;s!=null&&(y=new c(s),y.immutable=!0,p.$config=null);const v=a.scriptUsesGeometryEngine(d),b=v&&a.enableGeometrySupport(),E=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),S=a.scriptIsAsync(d),T=S&&a.enableAsyncSupport(),w={vars:p,spatialReference:f,useAsync:!!T};await Promise.all([b,E,T]);const _=new Set;await a.loadDependentModules(_,d,null,S,v);const M=new c;M.immutable=!1,M.setField("scale",0);const I=a.compileScript(d,w),C=(P,N)=>{const U=P.$view?.timeZone;if("$view"in P&&P.$view){let j;if(M.setField("scale",typeof P.$view=="object"&&"scale"in P.$view?P.$view.scale:void 0),typeof P.$view=="object"&&"timeProperties"in P.$view&&P.$view.timeProperties!=null){const{currentStart:F,currentEnd:q}=P.$view.timeProperties;j=new c({currentStart:F!=null?U!=null?m0.epochToArcadeDate(F,U):m0.unknownEpochToArcadeDate(F):void 0,currentEnd:q!=null?U!=null?m0.epochToArcadeDate(q,U):m0.unknownEpochToArcadeDate(q):void 0,startIncluded:!0,endIncluded:!0})}M.setField("timeProperties",j),P.$view=M}return y&&(P.$config=y),I({vars:P,spatialReference:f,services:N,timeZone:U})};return new N6(t,a,d,C,new l,r,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const gz=/^([0-9_])/,vz=/[^a-z0-9_\u0080-\uffff]+/gi;function tge(e){return e==null?null:e.trim().replaceAll(vz,"_").replace(gz,"F$1")||null}const bz=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],_z=["field","normalizationField"];function ige(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(s4(bz,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)s4(_z,r,t)}}function s4(e,t,i){if(e)for(const r of e){const s=Bx(r,t),n=s&&typeof s!="function"&&i.get(s);n&&df(r,n.name,t)}}function rge(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i?.name??null,e.endField=r?.name??null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i?.name??null,e.endTimeField=r?.name??null}}const Pb=new Set;function OS(e,t){return e&&t?(Pb.clear(),Mp(Pb,e,t),Array.from(Pb).sort()):[]}function Mp(e,t,i){if(i)if(t?.fields?.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)Q1(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)r!=null&&e.add(r)}}function Q1(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function sge(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function nge(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=OS(e,t);return r.length/e.fields.length>=i?["*"]:r}async function zc(e,t,i){if(!i)return;let r;const s=cz(i);if(s)r=[s];else{const{arcadeUtils:n}=await $6();r=n.extractFieldNames(i,t?.fields?.map(o=>o.name))}for(const n of r)Q1(e,t,n)}async function $S(e,t,i){if(i&&i!=="1=1"){const r=await ZV(i,t);if(!r.isStandardized)throw new ft("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Mp(e,t,r.fieldNames)}}function oge({displayField:e,fields:t}){return e||(t?.length?Lb(t,"name-or-title")||Lb(t,"unique-identifier")||Lb(t,"type-or-category")||wz(t):null)}function wz(e){for(const t of e){if(!t?.name)continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function Lb(e,t){for(const i of e)if(i?.valueType&&i.valueType===t)return i.name;return null}async function age(e,t){if(!t)return;const i=t.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function xz(e,t,i){i.onStatisticExpression?zc(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function lge(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(P6(e,t,s)),i.fields&&r.push(...i.fields.map(async n=>xz(e,t.fieldsIndex,n))),await Promise.all(r)}async function cge(e,t){const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const s=[r.latestObservations.renderer?.collectRequiredFields(e,i),r.previousObservations.renderer?.collectRequiredFields(e,i),r.trackLines.renderer?.collectRequiredFields(e,i)];r.popupTemplate&&s.push(P6(e,t,r.popupTemplate));for(const n of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(n)for(const o of n)s.push(R6(e,i,o));await Promise.all(s)}async function P6(e,t,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(n=>zc(e,t.fieldsIndex,n.expression)));const s=i?.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(zc(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function uge(e,t,i){t&&(t.timeInfo&&i?.timeExtent&&Mp(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Mp(e,t.fieldsIndex,[t.floorInfo.floorField]),i?.where!=null&&await $S(e,t.fieldsIndex,i.where))}async function hge(e,t,i){t&&i&&await Promise.all(i.map(r=>Sz(e,t,r)))}async function Sz(e,t,i){t&&i&&(i.valueExpression?await zc(e,t.fieldsIndex,i.valueExpression):i.field&&Q1(e,t.fieldsIndex,i.field))}function fge(e){return e?OS(e.fieldsIndex,L6(e)):[]}function Ez(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?OS(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function dge(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(s=>$S(e,r,s.where)))}const Az=new Set(["oid","global-id","guid"]),Tz=new Set(["oid","global-id"]),Mz=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Iz(e){const t=new Set;k6(e).forEach(r=>t.add(r)),Ez(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function L6(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=t;return[i,r,s,n].filter(Boolean)}function k6(e){return L6(e).map(t=>t.toLowerCase())}function pge(e,t){return e.editable&&!Az.has(e.type)&&!k6(t).includes(e.name?.toLowerCase()??"")}function mge(e,t){const i=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&i===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&i===t.globalIdField.toLowerCase()||Iz(t).includes(i)||Tz.has(e.type)||Mz.some(r=>r.test(i)))}async function yge(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i?.length&&await Promise.all(i.map(s=>R6(e,r,s)))}async function R6(e,t,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await zc(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{Q1(e,t,o.slice(1,-1))})}await $S(e,t,s)}function gge(e){const t=e.defaultValue;return t!==void 0&&F6(e,t)?t:e.nullable?null:void 0}function vge(e){const t=typeof e=="string"?{type:e}:e;return Uz(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function D6(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Oz(e){return e===null||D6(e)}function $z(e){return e===null||Number.isInteger(e)}function Cz(){return!0}function F6(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?$z:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?Oz:D6;break;case"string":case"esriFieldTypeString":i=e.nullable?QV:vm;break;default:i=Cz}return arguments.length===1?i:i(t)}const Nz=["integer","small-integer","big-integer"],Pz=["single","double"],Lz=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],kz=["esriFieldTypeSingle","esriFieldTypeDouble"],U6=new Set([...Nz,...Lz]),Rz=new Set([...Pz,...kz]),Dz=Xx(U6,Rz);function bge(e){return e!=null&&U6.has(e.type)}function Fz(e){return e!=null&&Dz.has(e.type)}function Uz(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function _ge(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function wge(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function xge(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function Sge(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function Ege(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function Age(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function Tge(e,t){return jz(e,t)===null}var xg,Sg;function Mge(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function jz(e,t){return e==null||e.nullable&&t===null?null:F6(e,t)?Fz(e)&&!Vz(e.type,Number(t))?xg.OUT_OF_RANGE:null:Sg.INVALID_TYPE}function Vz(e,t){const i=typeof e=="string"?j6(e):e;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=s:t>=r&&t<=s}function j6(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Bz;case"esriFieldTypeInteger":case"integer":return Gz;case"esriFieldTypeBigInteger":case"big-integer":return zz;case"esriFieldTypeSingle":case"single":return qz;case"esriFieldTypeDouble":case"double":return Wz}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(xg||(xg={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Sg||(Sg={}));const Bz={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Gz={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},zz={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},qz={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Wz={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Ige(e,t,i){switch(e){case _g.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case _g.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Sg.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case xg.OUT_OF_RANGE:{const{min:r,max:s}=j6(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${s}`}}}function Oge(e,t){return!Hz(e,t,null)}function Hz(e,t,i){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function $ge(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function Yz(e){const t=e?.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let hy=class extends et{constructor(t){super(t),this.type=null}};g([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],hy.prototype,"type",void 0),hy=g([ie("esri.popup.content.Content")],hy);const ua=hy,y0=new go({asc:"ascending",desc:"descending"});let rd=class extends Mo.ClonableMixin(et){constructor(t){super(t),this.field=null,this.order="ascending"}};g([A({type:String,json:{write:!0}})],rd.prototype,"field",void 0),g([A({type:y0.apiValues,json:{type:y0.jsonValues,read:y0.read,write:y0.write}})],rd.prototype,"order",void 0),rd=g([ie("esri.popup.support.AttachmentsOrderByInfo")],rd);const Jz=rd;let $a=class extends Mo.ClonableMixin(ua){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};g([A({type:String,json:{write:!0}})],$a.prototype,"description",void 0),g([A({type:["auto","preview","list"],json:{write:!0}})],$a.prototype,"displayType",void 0),g([A({type:[Jz],json:{write:!0}})],$a.prototype,"orderByFields",void 0),g([A({type:String,json:{write:!0}})],$a.prototype,"title",void 0),g([A({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],$a.prototype,"type",void 0),$a=g([ie("esri.popup.content.AttachmentsContent")],$a);const Ip=$a;var m2;let Ql=m2=class extends ua{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new m2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([A()],Ql.prototype,"creator",void 0),g([A()],Ql.prototype,"destroyer",void 0),g([A()],Ql.prototype,"outFields",void 0),g([A({type:["custom"],readOnly:!0})],Ql.prototype,"type",void 0),Ql=m2=g([ie("esri.popup.content.CustomContent")],Ql);const Zz=Ql;var y2;let ku=y2=class extends et{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new y2({title:this.title,expression:this.expression})}};g([A({type:String,json:{write:!0}})],ku.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],ku.prototype,"expression",void 0),g([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],ku.prototype,"returnType",void 0),ku=y2=g([ie("esri.popup.ElementExpressionInfo")],ku);const Kz=ku;var g2;let sd=g2=class extends ua{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new g2({expressionInfo:this.expressionInfo?.clone()})}};g([A({type:Kz,json:{write:!0}})],sd.prototype,"expressionInfo",void 0),g([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],sd.prototype,"type",void 0),sd=g2=g([ie("esri.popup.content.ExpressionContent")],sd);const ev=sd;function ot(e,t={}){const i=e instanceof go?e:new go(e,t),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return A({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:o,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let Fd;const Xz=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,v2=globalThis.document?.documentElement;function V6(){const e=v2?.getAttribute("lang"),t=globalThis.navigator?.language;return Xz??e??t??"en"}function yh(){return Fd===void 0&&(Fd=V6()),Fd}function Lge(e=yh()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const fy=[];function kge(e){return fy.push(e),Ai(()=>fy.splice(fy.indexOf(e),1))}const dy=[];function Qz(e){return dy.push(e),Ai(()=>dy.splice(dy.indexOf(e),1))}function n4(){const e=V6();Fd!==e&&([...dy].forEach(t=>t(e)),Fd=e,[...fy].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",n4),v2&&new MutationObserver(()=>{n4()}).observe(v2,{attributeFilter:["lang"]});const B6="system",eq="unknown",CS="UTC",tq=Intl.DateTimeFormat().resolvedOptions().timeZone,iq={year:void 0,month:void 0,day:void 0,weekday:void 0},rq={hour:void 0,minute:void 0,second:void 0},G6={timeZone:CS},Fn={year:"numeric",month:"numeric",day:"numeric"},Df={year:"numeric",month:"long",day:"numeric"},Ff={year:"numeric",month:"short",day:"numeric"},Uf={year:"numeric",month:"long",weekday:"long",day:"numeric"},za={hour:"numeric",minute:"numeric"},ec={...za,second:"numeric"},z6={hourCycle:"h23"},jf={...za,...z6},Vf={...ec,...z6},q6={"short-date":Fn,"short-date-short-time":{...Fn,...za},"short-date-short-time-24":{...Fn,...jf},"short-date-long-time":{...Fn,...ec},"short-date-long-time-24":{...Fn,...Vf},"short-date-le":Fn,"short-date-le-short-time":{...Fn,...za},"short-date-le-short-time-24":{...Fn,...jf},"short-date-le-long-time":{...Fn,...ec},"short-date-le-long-time-24":{...Fn,...Vf},"long-month-day-year":Df,"long-month-day-year-short-time":{...Df,...za},"long-month-day-year-short-time-24":{...Df,...jf},"long-month-day-year-long-time":{...Df,...ec},"long-month-day-year-long-time-24":{...Df,...Vf},"day-short-month-year":Ff,"day-short-month-year-short-time":{...Ff,...za},"day-short-month-year-short-time-24":{...Ff,...jf},"day-short-month-year-long-time":{...Ff,...ec},"day-short-month-year-long-time-24":{...Ff,...Vf},"long-date":Uf,"long-date-short-time":{...Uf,...za},"long-date-short-time-24":{...Uf,...jf},"long-date-long-time":{...Uf,...ec},"long-date-long-time-24":{...Uf,...Vf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":za,"long-time":ec},sq=Nn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),W6={ar:"ar-u-nu-latn-ca-gregory"};let b2=new WeakMap;const tv=q6["short-date-short-time"];function nq(e){let t=b2.get(e);if(!t){const i=yh(),r=W6[i]||i,s=oq(e.timeZone??B6),n={...e,timeZone:s};t=new Intl.DateTimeFormat(r,n),b2.set(e,t)}return t}function Rge(e){return q6[e]}function NS(e,t=tv){return nq(t).format(e)}function Dge(e,t=tv){return NS(new Date(e),{...t,...G6,...rq})}function Fge(e,t=tv){return NS(new Date(`1970-01-01T${e}Z`),{...t,...G6,...iq})}function Uge(e,t=tv){if(t.timeZone)return NS(new Date(e),t);const i=Ce.fromISO(e,{setZone:!0}),r=yh(),s=W6[r]??r,n=i.offset===0?CS:t.timeZone,o={...t,timeZone:n};return i.toLocaleString(o,{locale:s})}function oq(e){switch(e){case B6:return tq;case eq:return CS;default:return e}}Qz(()=>{b2=new WeakMap});let Ru=class extends Mo.ClonableMixin(et){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([ot(sq)],Ru.prototype,"dateFormat",void 0),g([A({type:Boolean,json:{write:!0}})],Ru.prototype,"digitSeparator",void 0),g([A({type:Ni,json:{write:!0}})],Ru.prototype,"places",void 0),Ru=g([ie("esri.popup.support.FieldInfoFormat")],Ru);const aq=Ru;var _2;let sn=_2=class extends et{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new _2({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([A({type:String,json:{write:!0}})],sn.prototype,"fieldName",void 0),g([A({type:aq,json:{write:!0}})],sn.prototype,"format",void 0),g([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],sn.prototype,"isEditable",void 0),g([A({type:String,json:{write:!0}})],sn.prototype,"label",void 0),g([ot(new go({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],sn.prototype,"stringFieldOption",void 0),g([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],sn.prototype,"statisticType",void 0),g([A({type:String,json:{write:!0}})],sn.prototype,"tooltip",void 0),g([A({type:Boolean,json:{write:!0}})],sn.prototype,"visible",void 0),sn=_2=g([ie("esri.popup.FieldInfo")],sn);const H6=sn;var w2;let Do=w2=class extends ua{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new w2(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([A({type:Object,json:{write:!0}})],Do.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],Do.prototype,"description",void 0),g([A({type:[H6]})],Do.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Do.prototype,"writeFieldInfos",null),g([A({type:String,json:{write:!0}})],Do.prototype,"title",void 0),g([A({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Do.prototype,"type",void 0),Do=w2=g([ie("esri.popup.content.FieldsContent")],Do);const Op=Do;let tc=class extends et{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};g([A({type:String,json:{write:!0}})],tc.prototype,"altText",void 0),g([A({type:String,json:{write:!0}})],tc.prototype,"caption",void 0),g([A({type:String,json:{write:!0}})],tc.prototype,"title",void 0),g([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],tc.prototype,"type",void 0),tc=g([ie("esri.popup.content.mixins.MediaInfo")],tc);const PS=tc;var x2;let ic=x2=class extends Qi{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new x2({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([A()],ic.prototype,"color",void 0),g([A()],ic.prototype,"fieldName",void 0),g([A()],ic.prototype,"tooltip",void 0),g([A()],ic.prototype,"value",void 0),ic=x2=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],ic);const lq=ic;var S2;let Ca=S2=class extends et{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new S2({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([A({type:[dt],json:{type:[[Ni]],write:!0}})],Ca.prototype,"colors",void 0),g([A({type:[String],json:{write:{isRequired:!0}}})],Ca.prototype,"fields",void 0),g([A({type:String,json:{write:!0}})],Ca.prototype,"normalizeField",void 0),g([A({type:[lq],json:{read:!1}})],Ca.prototype,"series",void 0),g([A({type:String,json:{write:!0}})],Ca.prototype,"tooltipField",void 0),Ca=S2=g([ie("esri.popup.content.support.ChartMediaInfoValue")],Ca);const cq=Ca;let nd=class extends PS{constructor(t){super(t),this.type=null,this.value=void 0}};g([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],nd.prototype,"type",void 0),g([A({type:cq,json:{write:{isRequired:!0}}})],nd.prototype,"value",void 0),nd=g([ie("esri.popup.content.mixins.ChartMediaInfo")],nd);const iv=nd,rv=Nn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var E2;let py=E2=class extends iv{constructor(e){super(e),this.type="bar-chart"}clone(){return new E2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:rv.write,isRequired:!0}}})],py.prototype,"type",void 0),py=E2=g([ie("esri.popup.content.BarChartMediaInfo")],py);const Y6=py;var A2;let my=A2=class extends iv{constructor(e){super(e),this.type="column-chart"}clone(){return new A2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:rv.write,isRequired:!0}}})],my.prototype,"type",void 0),my=A2=g([ie("esri.popup.content.ColumnChartMediaInfo")],my);const J6=my;var T2;let od=T2=class extends et{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new T2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([A({type:String,json:{write:!0}})],od.prototype,"linkURL",void 0),g([A({type:String,json:{write:{isRequired:!0}}})],od.prototype,"sourceURL",void 0),od=T2=g([ie("esri.popup.content.support.ImageMediaInfoValue")],od);const uq=od;var M2;let Du=M2=class extends PS{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new M2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([A({type:Number,json:{write:!0}})],Du.prototype,"refreshInterval",void 0),g([A({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Du.prototype,"type",void 0),g([A({type:uq,json:{write:{isRequired:!0}}})],Du.prototype,"value",void 0),Du=M2=g([ie("esri.popup.content.ImageMediaInfo")],Du);const Z6=Du;var I2;let yy=I2=class extends iv{constructor(e){super(e),this.type="line-chart"}clone(){return new I2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:rv.write,isRequired:!0}}})],yy.prototype,"type",void 0),yy=I2=g([ie("esri.popup.content.LineChartMediaInfo")],yy);const K6=yy;var O2;let gy=O2=class extends iv{constructor(e){super(e),this.type="pie-chart"}clone(){return new O2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:rv.write,isRequired:!0}}})],gy.prototype,"type",void 0),gy=O2=g([ie("esri.popup.content.PieChartMediaInfo")],gy);const X6=gy,$2={base:PS,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Y6,"column-chart":J6,"line-chart":K6,"pie-chart":X6,image:Z6}};var C2;let nn=C2=class extends ua{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?Z6.fromJSON(t):t.type==="barchart"?Y6.fromJSON(t):t.type==="columnchart"?J6.fromJSON(t):t.type==="linechart"?K6.fromJSON(t):t.type==="piechart"?X6.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new C2(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([A()],nn.prototype,"activeMediaInfoIndex",void 0),g([A({type:Object,json:{write:!0}})],nn.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],nn.prototype,"description",void 0),g([A({types:[$2]})],nn.prototype,"mediaInfos",void 0),g([Xi("mediaInfos")],nn.prototype,"readMediaInfos",null),g([Jt("mediaInfos")],nn.prototype,"writeMediaInfos",null),g([A({type:String,json:{write:!0}})],nn.prototype,"title",void 0),g([A({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],nn.prototype,"type",void 0),nn=C2=g([ie("esri.popup.content.MediaContent")],nn);const $p=nn;var N2;let ad=N2=class extends et{constructor(e){super(e),this.field=null,this.order=null}clone(){return new N2({field:this.field,order:this.order})}};g([A({type:String,json:{write:!0}})],ad.prototype,"field",void 0),g([A({type:["asc","desc"],json:{write:!0}})],ad.prototype,"order",void 0),ad=N2=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],ad);const Q6=ad;let Gn=class extends Mo.ClonableMixin(ua){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([A({type:String,json:{write:!0}})],Gn.prototype,"description",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Gn.prototype,"displayCount",void 0),g([A({type:["list"],json:{write:{isRequired:!0}}})],Gn.prototype,"displayType",void 0),g([A({type:[Q6],json:{write:!0}})],Gn.prototype,"orderByFields",void 0),g([A({type:Number,json:{type:Ni,write:{isRequired:!0}}})],Gn.prototype,"relationshipId",void 0),g([A({type:String,json:{write:!0}})],Gn.prototype,"title",void 0),g([A({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Gn.prototype,"type",void 0),Gn=g([ie("esri.popup.content.RelationshipContent")],Gn);const Cp=Gn;var P2;let ld=P2=class extends ua{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new P2({text:this.text})}};g([A({type:String,json:{write:!0}})],ld.prototype,"text",void 0),g([A({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ld.prototype,"type",void 0),ld=P2=g([ie("esri.popup.content.TextContent")],ld);const Np=ld;let Fo=class extends Mo.ClonableMixin(et){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([A({type:String,json:{write:!0}})],Fo.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Fo.prototype,"description",void 0),g([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Fo.prototype,"type",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Fo.prototype,"associatedNetworkSourceId",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Fo.prototype,"associatedAssetGroup",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Fo.prototype,"associatedAssetType",void 0),Fo=g([ie("esri.popup.support.UtilityNetworkAssociationType")],Fo);const hq=Fo;let Na=class extends Mo.ClonableMixin(ua){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([A({type:String,json:{write:!0}})],Na.prototype,"description",void 0),g([A({type:Number,json:{type:Ni,write:!0}})],Na.prototype,"displayCount",void 0),g([A({type:String,json:{write:!0}})],Na.prototype,"title",void 0),g([A({type:[hq],json:{write:!0}})],Na.prototype,"associationTypes",void 0),g([ot({utilityNetworkAssociations:"utility-network-associations"})],Na.prototype,"type",void 0),Na=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],Na);const LS=Na,fq={base:null,key:"type",typeMap:{attachment:Ip,media:$p,text:Np,expression:ev,field:Op,relationship:Cp,utilityNetworkAssociations:LS}},dq={base:null,key:"type",typeMap:{attachment:Ip,media:$p,text:Np,expression:ev,field:Op,relationship:Cp}};var L2;let rc=L2=class extends et{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new L2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([A({type:String,json:{write:!0}})],rc.prototype,"name",void 0),g([A({type:String,json:{write:!0}})],rc.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],rc.prototype,"expression",void 0),g([A({type:["string","number"],json:{write:!0}})],rc.prototype,"returnType",void 0),rc=L2=g([ie("esri.popup.ExpressionInfo")],rc);const pq=rc;var k2;let cd=k2=class extends et{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new k2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([A({type:Boolean,json:{write:!0}})],cd.prototype,"returnTopmostRaster",void 0),g([A({type:Boolean,json:{write:!0}})],cd.prototype,"showNoDataRecords",void 0),cd=k2=g([ie("esri.popup.LayerOptions")],cd);const mq=cd;var R2;let ud=R2=class extends et{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new R2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([A({type:Boolean,json:{write:!0}})],ud.prototype,"showRelatedRecords",void 0),g([A({type:[Q6],json:{write:!0}})],ud.prototype,"orderByFields",void 0),ud=R2=g([ie("esri.popup.RelatedRecordsInfo")],ud);const o4=ud;let eN=0;const tN=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+eN++})}};return t=g([ie("esri.core.Identifiable")],t),t},yq=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:eN++})}};return t=g([ie("esri.core.Identifiable.NumericIdentifiable")],t),t};let hd=class extends tN(class{}){};hd=g([ie("esri.core.Identifiable")],hd),function(e){e.IdentifiableMixin=tN,e.NumericIdentifiableMixin=yq}(hd||(hd={}));const gq=hd;var D2;let $s=D2=class extends gq.IdentifiableMixin(Qi){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new D2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([A()],$s.prototype,"active",void 0),g([A()],$s.prototype,"className",void 0),g([A()],$s.prototype,"disabled",void 0),g([A()],$s.prototype,"icon",void 0),g([A()],$s.prototype,"id",void 0),g([A()],$s.prototype,"indicator",void 0),g([A()],$s.prototype,"title",void 0),g([A()],$s.prototype,"type",void 0),g([A()],$s.prototype,"visible",void 0),$s=D2=g([ie("esri.support.actions.ActionBase")],$s);const kS=$s;var F2;let vy=F2=class extends kS{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new F2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([A()],vy.prototype,"image",void 0),vy=F2=g([ie("esri.support.actions.ActionButton")],vy);const vq=vy;var U2;let fd=U2=class extends kS{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new U2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([A()],fd.prototype,"image",void 0),g([A()],fd.prototype,"value",void 0),fd=U2=g([ie("esri.support.actions.ActionToggle")],fd);const bq=fd,Bf="relationships/",a4="expression/",_q=Ct.ofType({key:"type",defaultKeyValue:"button",base:kS,typeMap:{button:vq,toggle:bq}}),wq={base:ua,key:"type",typeMap:{media:$p,custom:Zz,text:Np,attachments:Ip,fields:Op,expression:ev,relationship:Cp,utilityNetworkAssociations:LS}},iN=new Set(["attachments","fields","media","text","expression","relationship"]),xq=new Set([...iN,"utility-network-associations"]);let Ii=class extends Mo.ClonableMixin(et){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Ih(wq,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||$$(t)?t:(kt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeWebMapContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeFieldInfos(t,i,r,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);i.fieldInfos=t.filter(Boolean).map(c=>{const f=c.toJSON(s);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,i)}writeLayerOptions(t,i,r,s){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),Mp(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>r?.origin==="web-scene"?iN.has(s.type):xq.has(s.type)).map(s=>s?.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=ge(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const n=i.fieldInfos.find(o=>o.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());n?n.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){const r=t.orderByFields?.map(n=>this._toFieldOrderJSON(n,t.relationshipId))||[],s=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=ge(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),$p.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),Np.fromJSON(n)):n.type==="attachments"?Ip.fromJSON(n):n.type==="fields"?Op.fromJSON(n):n.type==="expression"?ev.fromJSON(n):n.type==="relationship"?Cp.fromJSON(n):n.type==="utilityNetworkAssociations"?LS.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!i?.startsWith(Bf))return null;const s=i.replace(Bf,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?Cp.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:s}=t;return{field:`${Bf}${i}/${s}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new Np({text:t})):n.push(new Op),Array.isArray(i)&&i.length&&n.push($p.fromJSON({mediaInfos:i})),r&&n.push(Ip.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&n.push(c)}),n.length?n:t}_getContentElementFields(t){const i=t?.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:s}=t,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=n,d=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(s=>zc(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(Bf)||i.startsWith(a4))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return Yz(t).filter(i=>!(i.indexOf(Bf)===0||i.indexOf(a4)===0))}};g([A({type:_q})],Ii.prototype,"actions",void 0),g([A()],Ii.prototype,"content",void 0),g([ym("content")],Ii.prototype,"castContent",null),g([Xi("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ii.prototype,"readContent",null),g([Jt("web-scene","content",{popupElements:{type:Ct.ofType(dq)},showAttachments:{type:Boolean},mediaInfos:{type:Ct.ofType($2)},description:{type:String},relatedRecordsInfo:{type:o4}})],Ii.prototype,"writeWebSceneContent",null),g([Jt("content",{popupElements:{type:Ct.ofType(fq)},showAttachments:{type:Boolean},mediaInfos:{type:Ct.ofType($2)},description:{type:String},relatedRecordsInfo:{type:o4}})],Ii.prototype,"writeWebMapContent",null),g([A({type:[pq],json:{write:!0}})],Ii.prototype,"expressionInfos",void 0),g([A({type:[H6]})],Ii.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Ii.prototype,"writeFieldInfos",null),g([A({type:mq})],Ii.prototype,"layerOptions",void 0),g([Jt("layerOptions")],Ii.prototype,"writeLayerOptions",null),g([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ii.prototype,"lastEditInfoEnabled",void 0),g([A()],Ii.prototype,"outFields",void 0),g([A()],Ii.prototype,"overwriteActions",void 0),g([A()],Ii.prototype,"returnGeometry",void 0),g([A({json:{type:String}})],Ii.prototype,"title",void 0),g([Jt("title")],Ii.prototype,"writeTitle",null),Ii=g([ie("esri.PopupTemplate")],Ii);const Sq=Ii,Yge=Nn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Jge=Nn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),Eq={base:tu,key:"type",typeMap:{extent:Ws,multipoint:W1,point:Ci,polyline:gm,polygon:Gc}},l4=new go({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Aq=0,Fu=class extends et{constructor(t){super(t),this.id="sym"+Aq++,this.type=null,this.color=new dt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([A({type:l4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:l4.write,isRequired:!0}}})],Fu.prototype,"type",void 0),g([A({type:dt,json:{write:{allowNull:!0}}})],Fu.prototype,"color",void 0),g([Xi("color")],Fu.prototype,"readColor",null),Fu=g([ie("esri.symbols.Symbol")],Fu);const Ar=Fu;var j2;let Pa=j2=class extends Ar{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(s=>{const n=s.valueExpressionInfo;return n?zc(e,t,n.expression):null});await Promise.all(r)}}}clone(){return new j2({data:ge(this.data)})}hash(){return e$(JSON.stringify(this.data)).toString()}};g([A({json:{write:!1}})],Pa.prototype,"color",void 0),g([A({json:{write:!0}})],Pa.prototype,"data",void 0),g([Xi("data",["symbol"])],Pa.prototype,"readData",null),g([Jt("data",{})],Pa.prototype,"writeData",null),g([ot({CIMSymbolReference:"cim"},{readOnly:!0})],Pa.prototype,"type",void 0),Pa=j2=g([ie("esri.symbols.CIMSymbol")],Pa);const su=Pa;function Tq(e,t,i=Ct){return t||(t=new i),t===e||(t.removeAll(),Iq(e)?t.addMany(e):e&&t.add(e)),t}function Mq(e){return e}function Iq(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var qa;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(qa||(qa={}));let Oq=class{constructor(){this._resolver=mp(),this._status=qa.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=qa.RESOLVED,this._cleanUp()},()=>{this._status=qa.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===qa.RESOLVED}isRejected(){return this._status===qa.REJECTED}isFulfilled(){return this._status!==qa.PENDING}abort(){this._resolver.reject(Ur())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=mp(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||fm(s)||this._resolver.reject(s)}),t.resolve()}};const rN=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new Oq,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=g([ie("esri.core.Promise")],t),t};let dd=class extends rN(Qi){};dd=g([ie("esri.core.Promise")],dd),function(e){e.EsriPromiseMixin=rN}(dd||(dd={}));const $q=dd,Cq="not-loaded",Nq="loading",Pq="failed",c4="loaded",sN=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=n=>{const o=new Promise((a,l)=>{const c=WD(n,l);this.destroyed&&l(new ft("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===Cq){this._set("loadStatus",Nq);const a=this._loadController=new AbortController;s({signal:a.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",c4),this._loadController=null},r=>{this._set("loadStatus",Pq),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=a$(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===c4}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ft("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([A({readOnly:!0})],t.prototype,"loaded",null),g([A({readOnly:!0})],t.prototype,"loadError",void 0),g([A({clonable:!1})],t.prototype,"loadStatus",void 0),g([A({type:[gp],readOnly:!0})],t.prototype,"loadWarnings",null),t=g([ie("esri.core.Loadable")],t),t};let pd=class extends sN($q){};pd=g([ie("esri.core.Loadable")],pd),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=sN,e.isLoadable=t}(pd||(pd={}));const Lq=pd;let g0;function kq(e){return g0&&!g0.destroyed||(g0=e()),g0}var V2;const Rq=new go({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Cs=V2=class extends Qi{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new V2({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=qC(this.extent,qi.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>Rq.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};g([A()],Cs.prototype,"categories",void 0),g([A()],Cs.prototype,"disableExtraQuery",void 0),g([A({type:Ws})],Cs.prototype,"extent",void 0),g([A()],Cs.prototype,"filter",void 0),g([A()],Cs.prototype,"num",void 0),g([A()],Cs.prototype,"query",void 0),g([A()],Cs.prototype,"sortField",void 0),g([A()],Cs.prototype,"sortOrder",null),g([A()],Cs.prototype,"start",void 0),Cs=V2=g([ie("esri.portal.PortalQueryParams")],Cs);const ro=Cs;var B2;let Oi=B2=class extends et{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ft("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new B2({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=En(ro,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new ro,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new ro,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new ro({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new ro({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const n=s?.categorySchema;return n?.length?n:[]}):[])}};g([A()],Oi.prototype,"access",void 0),g([A({type:Date})],Oi.prototype,"created",void 0),g([A()],Oi.prototype,"description",void 0),g([A()],Oi.prototype,"id",void 0),g([A()],Oi.prototype,"isInvitationOnly",void 0),g([A({type:Date})],Oi.prototype,"modified",void 0),g([A()],Oi.prototype,"owner",void 0),g([A()],Oi.prototype,"portal",void 0),g([A()],Oi.prototype,"snippet",void 0),g([A()],Oi.prototype,"sortField",void 0),g([A()],Oi.prototype,"sortOrder",void 0),g([A()],Oi.prototype,"sourceJSON",void 0),g([A()],Oi.prototype,"tags",void 0),g([A()],Oi.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Oi.prototype,"thumbnailUrl",null),g([A()],Oi.prototype,"title",void 0),g([A({readOnly:!0})],Oi.prototype,"url",null),Oi=B2=g([ie("esri.portal.PortalGroup")],Oi);const G2=Oi;let sc=class extends Qi{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([A()],sc.prototype,"nextQueryParams",void 0),g([A()],sc.prototype,"queryParams",void 0),g([A()],sc.prototype,"results",void 0),g([A()],sc.prototype,"total",void 0),sc=g([ie("esri.portal.PortalQueryResult")],sc);const Dq=sc;let Uo=class extends et{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ft("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([A({type:Date})],Uo.prototype,"created",void 0),g([A()],Uo.prototype,"id",void 0),g([A()],Uo.prototype,"portal",void 0),g([A()],Uo.prototype,"title",void 0),g([A({readOnly:!0})],Uo.prototype,"url",null),g([A()],Uo.prototype,"username",void 0),Uo=g([ie("esri.portal.PortalFolder")],Uo);const Fq=Uo;var z2;let Pt=z2=class extends et{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e?.data,r=e?.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},o=await this.portal.request(i,n);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new ft("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:c,error:f})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const s=Fq.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=G2.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await _e(()=>import("./PortalItem-Nq3zGykG.js"),__vite__mapDeps([32,1]),import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:r});let n;return s?.items?(n=s.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new G2({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ft("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new ft("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new z2({sourceJSON:e});return t.read(e),t}};g([A()],Pt.prototype,"access",void 0),g([A({type:Date})],Pt.prototype,"created",void 0),g([A()],Pt.prototype,"culture",void 0),g([A()],Pt.prototype,"description",void 0),g([A()],Pt.prototype,"email",void 0),g([A()],Pt.prototype,"favGroupId",void 0),g([A()],Pt.prototype,"fullName",void 0),g([A({type:Date})],Pt.prototype,"modified",void 0),g([A()],Pt.prototype,"orgId",void 0),g([A()],Pt.prototype,"portal",void 0),g([A()],Pt.prototype,"preferredView",void 0),g([A()],Pt.prototype,"privileges",void 0),g([A()],Pt.prototype,"region",void 0),g([A()],Pt.prototype,"role",void 0),g([A()],Pt.prototype,"roleId",void 0),g([A()],Pt.prototype,"sourceJSON",void 0),g([A()],Pt.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Pt.prototype,"thumbnailUrl",null),g([A()],Pt.prototype,"units",void 0),g([A({readOnly:!0})],Pt.prototype,"userContentUrl",null),g([A({readOnly:!0})],Pt.prototype,"url",null),g([A()],Pt.prototype,"username",void 0),g([A()],Pt.prototype,"userLicenseTypeId",void 0),g([A()],Pt.prototype,"userType",void 0),Pt=z2=g([ie("esri.portal.PortalUser")],Pt);const nN=Pt;var hs;let Gf;const u4={PortalGroup:()=>Promise.resolve({default:G2}),PortalItem:()=>_e(()=>import("./PortalItem-Nq3zGykG.js"),__vite__mapDeps([32,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:nN})};let de=hs=class extends et.JSONSupportMixin(Lq){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ot.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){h4.unregister(this),this.defaultBasemap=K0(this.defaultBasemap),this.defaultDevBasemap=K0(this.defaultDevBasemap),this.defaultVectorBasemap=K0(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=pf(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Ot.request.trustedServers.includes(t)||Ot.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return EC(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=nN.fromJSON(e),t.portal=this),t}load(e){const t=_e(()=>import("./Basemap-CwXISLRi.js").then(i=>i.B),__vite__mapDeps([33,1,34,32,3,35]),import.meta.url).then(({default:i})=>{pp(e),Gf=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(!this.hasAPIKey&&Yt){const r=Yt;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==hs.AUTH_MODE_AUTO&&this.authMode!==hs.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",Uq(new WeakRef(this))),h4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await _e(async()=>{const{default:i}=await import("./ElevationLayer-CpKyQjyJ.js");return{default:i}},__vite__mapDeps([36,1,37,38,39,40,41,42,43,44,45,46,14,15,28,47,48,49,50,51,52,53,32,54,55,56,57,58,8,3]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new ro;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new Gf({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):oa(e)?Promise.reject(Ur()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new ro({num:100,sortField:"title"});if(t?.length){const r=[];for(const s of t)r.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return oa(e)?Promise.reject(Ur()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||yh();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||yh();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return kq(()=>new hs)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",s={authMode:e,query:{culture:yh().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(r,s)}queryPortal(e,t,i,r){const s=En(ro,t),n=o=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...r}).then(a=>{const l=s.clone();return l.start=a.nextStart,new Dq({nextQueryParams:l,queryParams:s,total:a.total,results:hs._resultsToTypedArray(o,{portal:this},a,r)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(O$(l),a)));return i&&u4[i]?u4[i]().then(({default:o})=>(pp(r),n(o))):n()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ft("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===hs.AUTH_MODE_ANONYMOUS||this.authMode===hs.AUTH_MODE_NO_PROMPT&&!Yt)return Promise.reject(new ft("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Yt?Yt.getCredential(this.restUrl,{prompt:this.authMode!==hs.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const s=hs._resultsToTypedArray(i,{portal:this},r);return Promise.all(s.map(n=>typeof n.when=="function"?n.when():r)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===hs.AUTH_MODE_ANONYMOUS||this.authMode===hs.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:n=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:r,body:s,cacheBust:n,method:o,query:i,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),Pi(this._normalizeSSL(e),c).then(f=>f.data)}toJSON(){throw new ft("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new hs({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ft("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new ro;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const n=await s.queryItems(i,t);return n.total?n.results.filter(o=>o.type==="Web Map").map(o=>new Gf({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const r=new ro({query:i,disableExtraQuery:!0}),s=await this.queryGroups(r,t);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Gf({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Gf.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let s;if(i){const n=r!=null?r.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(n),a}))}else s=[];return s}};de.AUTH_MODE_ANONYMOUS="anonymous",de.AUTH_MODE_AUTO="auto",de.AUTH_MODE_IMMEDIATE="immediate",de.AUTH_MODE_NO_PROMPT="no-prompt",g([A()],de.prototype,"access",void 0),g([A()],de.prototype,"allSSL",void 0),g([A()],de.prototype,"authMode",void 0),g([A()],de.prototype,"authorizedCrossOriginDomains",void 0),g([Xi("authorizedCrossOriginDomains")],de.prototype,"readAuthorizedCrossOriginDomains",null),g([A()],de.prototype,"basemapGalleryGroupQuery",void 0),g([A({json:{name:"3DBasemapGalleryGroupQuery"}})],de.prototype,"basemapGalleryGroupQuery3D",void 0),g([A()],de.prototype,"bingKey",void 0),g([A()],de.prototype,"canListApps",void 0),g([A()],de.prototype,"canListData",void 0),g([A()],de.prototype,"canListPreProvisionedItems",void 0),g([A()],de.prototype,"canProvisionDirectPurchase",void 0),g([A()],de.prototype,"canSearchPublic",void 0),g([A()],de.prototype,"canShareBingPublic",void 0),g([A()],de.prototype,"canSharePublic",void 0),g([A()],de.prototype,"canSignInArcGIS",void 0),g([A()],de.prototype,"canSignInIDP",void 0),g([A()],de.prototype,"colorSetsGroupQuery",void 0),g([A()],de.prototype,"commentsEnabled",void 0),g([A({type:Date})],de.prototype,"created",void 0),g([A()],de.prototype,"credential",void 0),g([A()],de.prototype,"culture",void 0),g([A()],de.prototype,"currentVersion",void 0),g([A()],de.prototype,"customBaseUrl",void 0),g([A()],de.prototype,"default3DBasemapQuery",void 0),g([A()],de.prototype,"defaultBasemap",void 0),g([Xi("defaultBasemap")],de.prototype,"readDefaultBasemap",null),g([A()],de.prototype,"defaultDevBasemap",void 0),g([Xi("defaultDevBasemap")],de.prototype,"readDefaultDevBasemap",null),g([A({type:Ws})],de.prototype,"defaultExtent",void 0),g([A()],de.prototype,"defaultVectorBasemap",void 0),g([Xi("defaultVectorBasemap")],de.prototype,"readDefaultVectorBasemap",null),g([A()],de.prototype,"description",void 0),g([A()],de.prototype,"devBasemapGalleryGroupQuery",void 0),g([A()],de.prototype,"eueiEnabled",void 0),g([A({readOnly:!0})],de.prototype,"extraQuery",null),g([A()],de.prototype,"featuredGroups",void 0),g([A()],de.prototype,"featuredItemsGroupQuery",void 0),g([A()],de.prototype,"galleryTemplatesGroupQuery",void 0),g([A()],de.prototype,"layoutGroupQuery",void 0),g([A()],de.prototype,"livingAtlasGroupQuery",void 0),g([A({readOnly:!0})],de.prototype,"hasAPIKey",null),g([A()],de.prototype,"hasCategorySchema",void 0),g([A()],de.prototype,"hasClassificationSchema",void 0),g([A()],de.prototype,"helpBase",void 0),g([A()],de.prototype,"helperServices",void 0),g([A()],de.prototype,"helpMap",void 0),g([A()],de.prototype,"homePageFeaturedContent",void 0),g([A()],de.prototype,"homePageFeaturedContentCount",void 0),g([A()],de.prototype,"httpPort",void 0),g([A()],de.prototype,"httpsPort",void 0),g([A()],de.prototype,"id",void 0),g([A()],de.prototype,"ipCntryCode",void 0),g([A({readOnly:!0})],de.prototype,"isOrganization",null),g([A()],de.prototype,"isPortal",void 0),g([A()],de.prototype,"isReadOnly",void 0),g([A({readOnly:!0})],de.prototype,"itemPageUrl",null),g([A()],de.prototype,"layerTemplatesGroupQuery",void 0),g([A()],de.prototype,"maxTokenExpirationMinutes",void 0),g([A({type:Date})],de.prototype,"modified",void 0),g([A()],de.prototype,"name",void 0),g([A()],de.prototype,"portalHostname",void 0),g([A()],de.prototype,"portalMode",void 0),g([A()],de.prototype,"portalProperties",void 0),g([A()],de.prototype,"region",void 0),g([A()],de.prototype,"recycleBinEnabled",void 0),g([A({readOnly:!0})],de.prototype,"restUrl",null),g([A()],de.prototype,"rotatorPanels",void 0),g([A()],de.prototype,"showHomePageDescription",void 0),g([A()],de.prototype,"sourceJSON",void 0),g([A()],de.prototype,"staticImagesUrl",void 0),g([A({json:{name:"2DStylesGroupQuery"}})],de.prototype,"stylesGroupQuery2d",void 0),g([A({json:{name:"stylesGroupQuery"}})],de.prototype,"stylesGroupQuery3d",void 0),g([A()],de.prototype,"supportsHostedServices",void 0),g([A()],de.prototype,"symbolSetsGroupQuery",void 0),g([A()],de.prototype,"templatesGroupQuery",void 0),g([A()],de.prototype,"thumbnail",void 0),g([A({readOnly:!0})],de.prototype,"thumbnailUrl",null),g([A()],de.prototype,"units",void 0),g([A()],de.prototype,"url",void 0),g([A()],de.prototype,"urlKey",void 0),g([Xi("urlKey")],de.prototype,"readUrlKey",null),g([A()],de.prototype,"user",void 0),g([Xi("user")],de.prototype,"readUser",null),g([A()],de.prototype,"use3dBasemaps",void 0),g([A()],de.prototype,"useDefault3dBasemap",void 0),g([A()],de.prototype,"useStandardizedQuery",void 0),g([A()],de.prototype,"useVectorBasemaps",void 0),g([A()],de.prototype,"vectorBasemapGalleryGroupQuery",void 0),de=hs=g([ie("esri.portal.Portal")],de);const sv=de,h4=new FinalizationRegistry(e=>{e.remove()});function Uq(e){const t=Yt;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let Uu=class extends et{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};g([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Uu.prototype,"enabled",void 0),g([Jt("enabled")],Uu.prototype,"writeEnabled",null),g([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Uu.prototype,"type",void 0),Uu=g([ie("esri.symbols.Symbol3DLayer")],Uu);const Io=Uu,jq=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Vq="screenUtils.toPt: input not recognized!",oN=96;function r1e(e){return e?e/72*oN:0}function vo(e){return e?72*e/oN:0}function ti(e){if(typeof e=="string"){const t=e.match(jq);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",n=r==="px"?vo(i):i;return s?-n:n}return console.warn(Vq),null}return e}function Bq(e=0,t=0){return{x:e,y:t}}function s1e(e){return e?Bq(e.x,e.y):null}function n1e(e=0,t=0){return[e,t]}function o1e(e=0,t=0,i=0){return[e,t,i]}function a1e(e){return e}function l1e(e){return e}function c1e(e){return e}function u1e(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function Gq(e){const t=zx(100*(1-e));return Math.max(0,Math.min(t,100))}function zq(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function qq(e,t){const i=t.transparency!=null?zq(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new dt([r[0]||0,r[1]||0,r[2]||0,i]):null}function Wq(e,t){t.color=e.toJSON().slice(0,3);const i=Gq(e.a);i!==0&&(t.transparency=i)}function El(e){return{type:dt,nonNullable:e?.nonNullable,json:{type:[Ni],default:null,read:{source:["color","transparency"],reader:qq},write:{target:{color:{type:[Ni],isRequired:e?.colorRequiredOnWrite},transparency:{type:Ni}},writer:Wq}}}}const bo={type:Number,cast:ti,json:{write:!0}};let nc=class extends et{constructor(t){super(t),this.color=new dt([0,0,0,1]),this.extensionLength=0,this.size=vo(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],nc.prototype,"type",void 0),g([A(El({colorRequiredOnWrite:!0}))],nc.prototype,"color",void 0),g([A({...bo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],nc.prototype,"extensionLength",void 0),g([A(bo)],nc.prototype,"size",void 0),nc=g([ie("esri.symbols.edges.Edges3D")],nc);const RS=nc;var q2;let by=q2=class extends RS{constructor(e){super(e),this.type="sketch"}clone(){return new q2(this.cloneProperties())}};g([ot({sketch:"sketch"},{readOnly:!0})],by.prototype,"type",void 0),by=q2=g([ie("esri.symbols.edges.SketchEdges3D")],by);const Hq=by;var W2;let _y=W2=class extends RS{constructor(e){super(e),this.type="solid"}clone(){return new W2(this.cloneProperties())}};g([ot({solid:"solid"},{readOnly:!0})],_y.prototype,"type",void 0),_y=W2=g([ie("esri.symbols.edges.SolidEdges3D")],_y);const aN=_y,lN={types:{key:"type",base:RS,typeMap:{solid:aN,sketch:Hq}},json:{write:!0}};function DS(){return[0,0,0]}function FS(e){return[e[0],e[1],e[2]]}function Sf(e,t,i){return[e,t,i]}function Yq(e,t,i){return[e,t,i]}function Jq(e,t=DS()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function Zq(e,t){return new Float64Array(e,t,3)}function cN(){return DS()}function uN(){return Sf(1,1,1)}function hN(){return Sf(1,0,0)}function fN(){return Sf(0,1,0)}function dN(){return Sf(0,0,1)}const Kq=cN(),Xq=uN(),Qq=hN(),eW=fN(),tW=dN();Object.freeze(Object.defineProperty({__proto__:null,ONES:Xq,UNIT_X:Qq,UNIT_Y:eW,UNIT_Z:tW,ZEROS:Kq,clone:FS,create:DS,createView:Zq,freeze:Yq,fromArray:Jq,fromValues:Sf,ones:uN,unitX:hN,unitY:fN,unitZ:dN,zeros:cN},Symbol.toStringTag,{value:"Module"}));var H2;let ms=H2=class extends et{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?FS(this.emissiveFactor):null};return new H2(e)}};g([A(El())],ms.prototype,"color",void 0),g([A({type:[Number],json:{write:!1}})],ms.prototype,"emissiveFactor",void 0),ms=H2=g([ie("esri.symbols.support.Symbol3DMaterial")],ms);var Y2;let La=Y2=class extends Io{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Y2({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([ot({Extrude:"extrude"},{readOnly:!0})],La.prototype,"type",void 0),g([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],La.prototype,"size",void 0),g([A({type:ms,json:{write:!0}})],La.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],La.prototype,"castShadows",void 0),g([A(lN)],La.prototype,"edges",void 0),La=Y2=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],La);const pN=La;let wy=class extends et{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],wy.prototype,"type",void 0),wy=g([ie("esri.symbols.patterns.LinePattern3D")],wy);const mN=wy,iW=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var J2;const rW=Nn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let md=J2=class extends mN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new J2(e)}};g([A({type:["style"],json:{write:{isRequired:!0}}})],md.prototype,"type",void 0),g([ot(rW),A({type:iW,json:{write:{isRequired:!0}}})],md.prototype,"style",void 0),md=J2=g([ie("esri.symbols.patterns.LineStylePattern3D")],md);const US=md;let xy=class extends et{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],xy.prototype,"type",void 0),xy=g([ie("esri.symbols.patterns.Pattern3D")],xy);const yN=xy,sW=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Z2;let yd=Z2=class extends yN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new Z2({style:this.style})}};g([A({type:["style"],json:{write:{isRequired:!0}}})],yd.prototype,"type",void 0),g([A({type:sW,json:{read:!0,write:{isRequired:!0}}})],yd.prototype,"style",void 0),yd=Z2=g([ie("esri.symbols.patterns.StylePattern3D")],yd);const gN=yd,nW={types:{key:"type",base:yN,typeMap:{style:gN}},json:{write:!0}},vN={types:{key:"type",base:mN,typeMap:{style:US}},json:{write:!0}},Ud=new dt("white"),oW=new dt([255,255,255,0]);function aW(e){return e.r===0&&e.g===0&&e.b===0}var K2;let jd=K2=class extends ms{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?FS(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new K2(e)}};g([ot({multiply:"multiply",replace:"replace",tint:"tint"})],jd.prototype,"colorMixMode",void 0),jd=K2=g([ie("esri.symbols.support.Symbol3DFillMaterial")],jd);function lW(e,t=!1){return e<=HO?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function p1e(e){return(V7(e)?e.byteLength/8:e.length)<=HO?Array.from(e):new Float64Array(e)}function m1e(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function xm(e=fW){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function jS(e,t,i,r,s,n,o=xm()){return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function y1e(e,t=xm()){return cW(e,0,e.length/3,t)}function cW(e,t,i,r=xm()){return bN(r,X2),uW(r,e,t,i),r}function g1e(e,t=lW(24)){const[i,r,s,n,o,a]=e;return t[0]=i,t[1]=r,t[2]=s,t[3]=i,t[4]=r,t[5]=a,t[6]=i,t[7]=o,t[8]=s,t[9]=i,t[10]=o,t[11]=a,t[12]=n,t[13]=r,t[14]=s,t[15]=n,t[16]=r,t[17]=a,t[18]=n,t[19]=o,t[20]=s,t[21]=n,t[22]=o,t[23]=a,t}function v1e(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Ws(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function b1e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function _1e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function w1e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function uW(e,t,i=0,r=t.length/3){let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let f=0;f<r;f++)s=Math.min(s,t[i+3*f]),n=Math.min(n,t[i+3*f+1]),o=Math.min(o,t[i+3*f+2]),a=Math.max(a,t[i+3*f]),l=Math.max(l,t[i+3*f+1]),c=Math.max(c,t[i+3*f+2]);e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function x1e(e,t,i){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(i)for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function S1e(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function Sm(e){return e[0]>=e[3]?0:e[3]-e[0]}function Em(e){return e[1]>=e[4]?0:e[4]-e[1]}function Am(e){return e[2]>=e[5]?0:e[5]-e[2]}function E1e(e){const t=Sm(e),i=Am(e),r=Em(e);return Math.sqrt(t*t+i*i+r*r)}function A1e(e,t=[0,0,0]){return t[0]=e[0]+Sm(e)/2,t[1]=e[1]+Em(e)/2,t[2]=e[2]+Am(e)/2,t}function T1e(e,t=[0,0,0]){return t[0]=Sm(e),t[1]=Em(e),t[2]=Am(e),t}function M1e(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function hW(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function I1e(e,t){return t==null||hW(e,t)}function O1e(e,t,i,r,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+r,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+r,s}function $1e(e,t,i=e){const r=e[0]+Sm(e)/2,s=e[1]+Em(e)/2,n=e[2]+Am(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=s+(e[1]-s)*t,i[2]=n+(e[2]-n)*t,i[3]=r+(e[3]-r)*t,i[4]=s+(e[4]-s)*t,i[5]=n+(e[5]-n)*t,i}function C1e(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function N1e(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function P1e(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function bN(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function L1e(e){return e?bN(e,X2):xm(X2)}function k1e(e,t){return t||(t=vf()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function R1e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function D1e(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function f4(e){return e.length===6}function F1e(e){return Sm(e)===0&&Em(e)===0&&Am(e)===0}function U1e(e,t,i){if(e==null||t==null)return e===t;if(!f4(e)||!f4(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const X2=[1/0,1/0,1/0,-1/0,-1/0,-1/0],fW=[0,0,0,0,0,0];xm();function j1e(e,{isPrimitive:t,width:i,depth:r,height:s}){const n=t?10:1;if(i==null&&s==null&&r==null)return[n*e[0],n*e[1],n*e[2]];const o=Sf(i,r,s);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const dW=jS(-.5,-.5,-.5,.5,.5,.5),pW=jS(-.5,-.5,0,.5,.5,1),mW=jS(-.5,-.5,0,.5,.5,.5);function V1e(e){switch(e){case"sphere":case"cube":case"diamond":return dW;case"cylinder":case"cone":case"inverted-cone":return pW;case"tetrahedron":return mW;default:return}}const VS=["butt","square","round"],yW=[...VS,"none"],_N=["miter","bevel","round"];var Q2;let oc=Q2=class extends et{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=vo(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Q2(e)}};g([A(El({colorRequiredOnWrite:!0}))],oc.prototype,"color",void 0),g([A({...bo,json:{write:{isRequired:!0}}})],oc.prototype,"size",void 0),g([A(vN)],oc.prototype,"pattern",void 0),g([A({type:VS,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],oc.prototype,"patternCap",void 0),oc=Q2=g([ie("esri.symbols.support.Symbol3DOutline")],oc);var Sy;let jo=Sy=class extends Io{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Sy(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new US({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??Ud).clone(),pattern:t};return t&&e.outline?.cap&&(i.patternCap=e.outline.cap),new Sy({material:new jd({color:(e.color??oW).clone()}),pattern:e.style&&e.style!=="solid"?new gN({style:e.style}):null,outline:i})}};g([ot({Fill:"fill"},{readOnly:!0})],jo.prototype,"type",void 0),g([A({type:jd,json:{write:!0}})],jo.prototype,"material",void 0),g([A(nW)],jo.prototype,"pattern",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],jo.prototype,"castShadows",void 0),g([A({type:oc,json:{write:!0}})],jo.prototype,"outline",void 0),g([A(lN)],jo.prototype,"edges",void 0),jo=Sy=g([ie("esri.symbols.FillSymbol3DLayer")],jo);const nu=jo;var ew;const gW=Nn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let ac=ew=class extends et{constructor(e){super(e)}readHref(e,t,i){return e?pm(e,i):t.dataURI}writeHref(e,t,i,r){e&&(yf(e)?t.dataURI=e:(t.href=V1(e,r),vn(t.href)&&(t.href=al(t.href))))}clone(){return new ew({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],ac.prototype,"href",void 0),g([Xi("href")],ac.prototype,"readHref",null),g([Jt("href",{href:{type:String},dataURI:{type:String}})],ac.prototype,"writeHref",null),g([ot(gW)],ac.prototype,"primitive",void 0),ac=ew=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],ac);const B1e="circle";var tw;let Ku=tw=class extends Qi{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new tw({x:this.x,y:this.y})}};g([A({type:Number})],Ku.prototype,"x",void 0),g([A({type:Number})],Ku.prototype,"y",void 0),Ku=tw=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],Ku);var iw;let gd=iw=class extends et{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=vo(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new iw(e)}};g([A(El({colorRequiredOnWrite:!0}))],gd.prototype,"color",void 0),g([A({...bo,json:{write:{isRequired:!0}}})],gd.prototype,"size",void 0),gd=iw=g([ie("esri.symbols.support.Symbol3DIconOutline")],gd);var ju;const wN="esri.symbols.IconSymbol3DLayer";let on=ju=class extends Io{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new ju({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Ud,i=d4(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Ud).clone()}:null;return new ju({size:e.size,angle:e.angle,resource:{primitive:bW(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||aW(e.color)?Ud:e.color,i=d4(e);return new ju({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new ju({resource:{href:fC({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};g([A({type:ms,json:{write:!0}})],on.prototype,"material",void 0),g([A({type:ac,json:{write:!0}})],on.prototype,"resource",void 0),g([ot({Icon:"icon"},{readOnly:!0})],on.prototype,"type",void 0),g([A({...bo,json:{write:{isRequired:!0}}})],on.prototype,"size",void 0),g([ot({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],on.prototype,"anchor",void 0),g([A({type:Ku,json:{type:[Number],read:{reader:e=>new Ku({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],on.prototype,"anchorPosition",void 0),g([A({type:gd,json:{write:!0}})],on.prototype,"outline",void 0),g([A({type:Number,json:{write:!0,default:0}})],on.prototype,"angle",void 0),on=ju=g([ie(wN)],on);const wc=on;function d4(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=p4(e.xoffset),s=p4(e.yoffset);return(r||s)&&t&&i?{x:-r/t,y:s/i}:null}function p4(e){return isFinite(e)?e:0}const vW={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function bW(e){return vW[e]||(kt.getLogger(wN).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const _W=["begin","end","begin-end"],xN=["arrow","circle","square","diamond","cross","x"];let lc=class extends Mo.ClonableMixin(et){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],lc.prototype,"type",void 0),g([A({type:_W,json:{default:"begin-end",write:!0}})],lc.prototype,"placement",void 0),g([A({type:xN,json:{default:"arrow",write:!0}})],lc.prototype,"style",void 0),g([A({type:dt,json:{type:[Ni],default:null,write:!0}})],lc.prototype,"color",void 0),lc=g([ie("esri.symbols.LineStyleMarker3D")],lc);const rw=lc;var Ey;let zn=Ey=class extends Io{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=vo(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Ey(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??vo(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new US({style:e.style}):null,material:new ms({color:(e.color||Ud).clone()}),marker:e.marker?new rw({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new Ey(t)}};g([A({type:ms,json:{write:!0}})],zn.prototype,"material",void 0),g([ot({Line:"line"},{readOnly:!0})],zn.prototype,"type",void 0),g([A({type:_N,json:{write:!0,default:"miter"}})],zn.prototype,"join",void 0),g([A({type:VS,json:{write:!0,default:"butt"}})],zn.prototype,"cap",void 0),g([A({...bo,json:{write:{isRequired:!0}}})],zn.prototype,"size",void 0),g([A(vN)],zn.prototype,"pattern",void 0),g([A({types:{key:"type",base:rw,typeMap:{style:rw}},json:{write:!0}})],zn.prototype,"marker",void 0),zn=Ey=g([ie("esri.symbols.LineSymbol3DLayer")],zn);const Ef=zn;var sw;const wW=Nn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let vd=sw=class extends et{clone(){return new sw({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{read:mS,write:Ch}})],vd.prototype,"href",void 0),g([ot(wW)],vd.prototype,"primitive",void 0),vd=sw=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],vd);const z1e="sphere";var nw;let yc=nw=class extends Qi{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new nw({x:this.x,y:this.y,z:this.z})}};g([A({type:Number})],yc.prototype,"x",void 0),g([A({type:Number})],yc.prototype,"y",void 0),g([A({type:Number})],yc.prototype,"z",void 0),yc=nw=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],yc);var ow;let fr=ow=class extends Io{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ow({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([A({type:ms,json:{write:!0}})],fr.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],fr.prototype,"castShadows",void 0),g([A({type:vd,json:{write:!0}})],fr.prototype,"resource",void 0),g([ot({Object:"object"},{readOnly:!0})],fr.prototype,"type",void 0),g([A({type:Number,json:{write:!0}})],fr.prototype,"width",void 0),g([A({type:Number,json:{write:!0}})],fr.prototype,"height",void 0),g([A({type:Number,json:{write:!0}})],fr.prototype,"depth",void 0),g([ot({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],fr.prototype,"anchor",void 0),g([A({type:yc,json:{type:[Number],read:{reader:e=>new yc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],fr.prototype,"anchorPosition",void 0),g([A({type:Number,json:{write:!0}})],fr.prototype,"heading",void 0),g([A({type:Number,json:{write:!0}})],fr.prototype,"tilt",void 0),g([A({type:Number,json:{write:!0}})],fr.prototype,"roll",void 0),g([A({readOnly:!0})],fr.prototype,"isPrimitive",null),fr=ow=g([ie("esri.symbols.ObjectSymbol3DLayer")],fr);const BS=fr;var aw;let Mr=aw=class extends Io{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new aw({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([A({type:ms,json:{write:!0}})],Mr.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Mr.prototype,"castShadows",void 0),g([ot({Path:"path"},{readOnly:!0})],Mr.prototype,"type",void 0),g([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],Mr.prototype,"profile",void 0),g([A({type:_N,json:{write:!0,default:"miter"}})],Mr.prototype,"join",void 0),g([A({type:yW,json:{write:!0,default:"butt"}})],Mr.prototype,"cap",void 0),g([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Mr.prototype,"width",void 0),g([Xi("width",["width","size","height"])],Mr.prototype,"readWidth",null),g([A({type:Number,json:{write:!0}})],Mr.prototype,"height",void 0),g([Xi("height",["height","size","width"])],Mr.prototype,"readHeight",null),g([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Mr.prototype,"anchor",void 0),g([A({type:["heading","all"],json:{write:!0,default:"all"}})],Mr.prototype,"profileRotation",void 0),Mr=aw=g([ie("esri.symbols.PathSymbol3DLayer")],Mr);const GS=Mr,xW=["none","underline","line-through"],SW=["normal","italic","oblique"],EW=["normal","lighter","bold","bolder"],SN={type:Number,cast:e=>{const t=P1(e);return t===0?1:O1(t,.1,4)},nonNullable:!0},AW=["left","right","center"],TW=["baseline","top","middle","bottom"],EN={type:AW,nonNullable:!0},AN={type:TW,nonNullable:!0},q1e=8;var lw;let Vo=lw=class extends et{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ti(e)}clone(){return new lw({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([A({type:xW,json:{default:"none",write:!0}})],Vo.prototype,"decoration",void 0),g([A({type:String,json:{write:!0}})],Vo.prototype,"family",void 0),g([A({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],Vo.prototype,"size",void 0),g([ym("size")],Vo.prototype,"castSize",null),g([A({type:SW,json:{default:"normal",write:!0}})],Vo.prototype,"style",void 0),g([A({type:EW,json:{default:"normal",write:!0}})],Vo.prototype,"weight",void 0),Vo=lw=g([ie("esri.symbols.Font")],Vo);const nv=Vo;var cw;let Xu=cw=class extends et{constructor(){super(...arguments),this.color=new dt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new cw(e)}};g([A(El())],Xu.prototype,"color",void 0),g([A(bo)],Xu.prototype,"size",void 0),Xu=cw=g([ie("esri.symbols.support.Symbol3DHalo")],Xu);let Vd=class extends Mo.ClonableMixin(et){constructor(t){super(t),this.color=null}};g([A(El())],Vd.prototype,"color",void 0),Vd=g([ie("esri.symbols.support.Symbol3DTextBackground")],Vd);var Ay;let Gr=Ay=class extends Io{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const s={...r,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Ay({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Ay({font:e.font!=null?e.font.clone():new nv,halo:MW(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ms({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Vd({color:e.backgroundColor.clone()}):null})}};function MW(e,t){return e&&t!=null&&t>0?new Xu({color:ge(e),size:t}):null}g([A({type:nv,json:{write:!0}})],Gr.prototype,"font",null),g([Jt("font")],Gr.prototype,"writeFont",null),g([A({type:Xu,json:{write:!0}})],Gr.prototype,"halo",void 0),g([A({...EN,json:{default:"center",write:!0}})],Gr.prototype,"horizontalAlignment",void 0),g([A({...SN,json:{default:1,write:!0}})],Gr.prototype,"lineHeight",void 0),g([A({type:ms,json:{write:!0}})],Gr.prototype,"material",void 0),g([A({type:Vd,json:{write:!0}})],Gr.prototype,"background",void 0),g([A(bo)],Gr.prototype,"size",null),g([A({type:String,json:{write:!0}})],Gr.prototype,"text",void 0),g([ot({Text:"text"},{readOnly:!0})],Gr.prototype,"type",void 0),g([A({...AN,json:{default:"baseline",write:!0}})],Gr.prototype,"verticalAlignment",void 0),Gr=Ay=g([ie("esri.symbols.TextSymbol3DLayer")],Gr);const Af=Gr;var uw;let ka=uw=class extends Io{constructor(e){super(e),this.color=hw.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new uw({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([A({type:dt,nonNullable:!0,json:{type:[Ni],write:(e,t,i)=>t[i]=e.toArray(dt.AlphaMode.UNLESS_OPAQUE),default:()=>hw.clone(),defaultEquals:e=>e.toCss(!0)===hw.toCss(!0)}})],ka.prototype,"color",void 0),g([ot({Water:"water"},{readOnly:!0})],ka.prototype,"type",void 0),g([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ka.prototype,"waterbodySize",void 0),g([A({type:Number,json:{write:!0,default:null}})],ka.prototype,"waveDirection",void 0),g([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ka.prototype,"waveStrength",void 0),ka=uw=g([ie("esri.symbols.WaterSymbol3DLayer")],ka);const TN=ka,hw=new dt([0,119,190]);var fw;let cc=fw=class extends Qi{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new fw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([A({type:String})],cc.prototype,"name",void 0),g([A({type:String})],cc.prototype,"styleUrl",void 0),g([A({type:String})],cc.prototype,"styleName",void 0),g([A({type:sv})],cc.prototype,"portal",void 0),cc=fw=g([ie("esri.symbols.support.StyleOrigin")],cc);const dw=cc;var pw;let Bd=pw=class extends Qi{constructor(){super(...arguments),this.url=""}clone(){return new pw({url:this.url})}};g([A({type:String})],Bd.prototype,"url",void 0),Bd=pw=g([ie("esri.symbols.support.Thumbnail")],Bd);const MN={icon:wc,object:BS,line:Ef,path:GS,fill:nu,extrude:pN,text:Af,water:TN},IW=Ct.ofType({base:Io,key:"type",typeMap:MN,errorContext:"symbol-layer"});let qn=class extends Ar{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,s=r||Ct;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&kt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Tq(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const s=pm(t.styleUrl,r);return new dw({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new dw({portal:r?.portal||sv.getDefault(),styleName:t.styleName,name:t.name});r?.messages&&r.messages.push(new gp("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,s){if(t.styleUrl&&t.name){let n=V1(t.styleUrl,s);vn(n)&&(n=al(n)),i.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!OU(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new gp("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Io||t&&MN[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};g([A({json:{read:!1,write:!1}})],qn.prototype,"color",null),g([A({type:IW,nonNullable:!0,json:{write:!0}}),ym(Mq)],qn.prototype,"symbolLayers",null),g([A({type:dw})],qn.prototype,"styleOrigin",void 0),g([Xi("styleOrigin")],qn.prototype,"readStyleOrigin",null),g([Jt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],qn.prototype,"writeStyleOrigin",null),g([A({type:Bd,json:{read:!1}})],qn.prototype,"thumbnail",void 0),g([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],qn.prototype,"type",void 0),qn=g([ie("esri.symbols.Symbol3D")],qn);const Tm=qn;let bd=class extends et{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],bd.prototype,"type",void 0),g([A({readOnly:!0})],bd.prototype,"visible",void 0),bd=g([ie("esri.symbols.callouts.Callout3D")],bd);const IN=bd;var mw;let Ty=mw=class extends et{constructor(e){super(e),this.color=new dt("white")}clone(){return new mw({color:ge(this.color)})}};g([A(El({colorRequiredOnWrite:!0}))],Ty.prototype,"color",void 0),Ty=mw=g([ie("esri.symbols.callouts.LineCallout3DBorder")],Ty);const OW=Ty;var yw;let Ra=yw=class extends IN{constructor(e){super(e),this.type="line",this.color=new dt([0,0,0,1]),this.size=vo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new yw({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([ot({line:"line"})],Ra.prototype,"type",void 0),g([A(El({colorRequiredOnWrite:!0}))],Ra.prototype,"color",void 0),g([A({...bo,json:{write:{isRequired:!0}}})],Ra.prototype,"size",void 0),g([A({type:OW,json:{write:!0}})],Ra.prototype,"border",void 0),g([A({readOnly:!0})],Ra.prototype,"visible",null),Ra=yw=g([ie("esri.symbols.callouts.LineCallout3D")],Ra);const ON=Ra;function zS(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function $N(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!zS(e)}function J1e(e){return e.type==="point-3d"||e.type==="label-3d"}function Z1e(e){return e.horizontalAlignment==="center"}const CN={types:{key:"type",base:IN,typeMap:{line:ON}},json:{write:!0}};var gw;let Vu=gw=class extends et{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new gw({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([A({...bo,json:{write:{isRequired:!0}}})],Vu.prototype,"screenLength",void 0),g([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Vu.prototype,"minWorldLength",void 0),g([A({type:Number,json:{write:!0}})],Vu.prototype,"maxWorldLength",void 0),Vu=gw=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],Vu);const qS=Vu;var My;const NN=Ct.ofType({base:null,key:"type",typeMap:{text:Af}});let Da=My=class extends Tm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new NN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return $N(this)}hasVisibleVerticalOffset(){return zS(this)}clone(){return new My({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new My({symbolLayers:new Ct([Af.fromTextSymbol(e)])})}};g([A({type:qS,json:{write:!0}})],Da.prototype,"verticalOffset",void 0),g([A(CN)],Da.prototype,"callout",void 0),g([A({json:{read:!1,write:!1}})],Da.prototype,"styleOrigin",void 0),g([A({type:NN})],Da.prototype,"symbolLayers",void 0),g([ot({LabelSymbol3D:"label-3d"},{readOnly:!0})],Da.prototype,"type",void 0),Da=My=g([ie("esri.symbols.LabelSymbol3D")],Da);const ov=Da;var Iy;const PN=Ct.ofType({base:null,key:"type",typeMap:{line:Ef,path:GS}}),$W=Ct.ofType({base:null,key:"type",typeMap:{line:Ef,path:GS}});let _d=Iy=class extends Tm{constructor(e){super(e),this.symbolLayers=new PN,this.type="line-3d"}clone(){return new Iy({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Iy({symbolLayers:new Ct([Ef.fromSimpleLineSymbol(e)])})}};g([A({type:PN,json:{type:$W}})],_d.prototype,"symbolLayers",void 0),g([ot({LineSymbol3D:"line-3d"},{readOnly:!0})],_d.prototype,"type",void 0),_d=Iy=g([ie("esri.symbols.LineSymbol3D")],_d);const ou=_d;var Oy;const LN=Ct.ofType({base:null,key:"type",typeMap:{fill:nu}});let wd=Oy=class extends Tm{constructor(e){super(e),this.symbolLayers=new LN,this.type="mesh-3d"}clone(){return new Oy({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new Oy({symbolLayers:new Ct([nu.fromSimpleFillSymbol(e)])})}};g([A({type:LN})],wd.prototype,"symbolLayers",void 0),g([ot({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],wd.prototype,"type",void 0),wd=Oy=g([ie("esri.symbols.MeshSymbol3D")],wd);const Mm=wd;let xd=class extends Ar{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],xd.prototype,"type",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],xd.prototype,"width",void 0),xd=g([ie("esri.symbols.LineSymbol")],xd);const CW=xd;var vw;let Wn=vw=class extends et{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=r?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){r?.origin==="web-map"||(t[i]=e)}clone(){return new vw({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([A({type:["begin","end","begin-end"],json:{write:!0}})],Wn.prototype,"placement",void 0),g([ot({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],Wn.prototype,"type",void 0),g([A({type:xN})],Wn.prototype,"style",void 0),g([Jt("style")],Wn.prototype,"writeStyle",null),g([A({type:dt,value:null,json:{write:{allowNull:!0}}})],Wn.prototype,"color",null),g([Xi("color")],Wn.prototype,"readColor",null),g([Jt("color")],Wn.prototype,"writeColor",null),Wn=vw=g([ie("esri.symbols.LineSymbolMarker")],Wn);const NW=Wn;var bw;const kb=new go({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Bo=bw=class extends CW{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,s,n){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=ti(i)),r!=null&&(o.cap=r),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ti(n)),o}clone(){return new bw({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],Bo.prototype,"type",void 0),g([A({type:kb.apiValues,json:{read:kb.read,write:kb.write}})],Bo.prototype,"style",void 0),g([A({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Bo.prototype,"cap",void 0),g([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Bo.prototype,"join",void 0),g([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":NW}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Bo.prototype,"marker",void 0),g([A({type:Number,json:{read:!1,write:!1}})],Bo.prototype,"miterLimit",void 0),Bo=bw=g([ie("esri.symbols.SimpleLineSymbol")],Bo);const Pn=Bo;let Sd=class extends Ar{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Pn}},json:{default:null,write:!0}})],Sd.prototype,"outline",void 0),g([A({type:["simple-fill","picture-fill"],readOnly:!0})],Sd.prototype,"type",void 0),Sd=g([ie("esri.symbols.FillSymbol")],Sd);const kN=Sd;function PW(e,t,i){return t.imageData?fC({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):RN(t.url,i)}function RN(e,t){if(!vn(e)){const i=kW(t);if(i)return j1(i,"images",e)}return pm(e,t)}function LW(e,t,i,r){if(yf(e)){const s=wp(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&Ch(i.url,t,"url",r)}else Ch(e,t,"url",r)}const DN={json:{read:{source:["imageData","url"],reader:PW},write:{writer(e,t,i,r){LW(e,t,this.source,r)}}}},FN={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=RN(t.url,i)),r}}}};function kW(e){if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var _w;let Ns=_w=class extends kN{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=ti(i)),r!=null&&(s.height=ti(r)),s}clone(){const e=new _w({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([ot({esriPFS:"picture-fill"},{readOnly:!0})],Ns.prototype,"type",void 0),g([A(DN)],Ns.prototype,"url",void 0),g([A({type:Number,json:{write:!0}})],Ns.prototype,"xscale",void 0),g([A({type:Number,json:{write:!0}})],Ns.prototype,"yscale",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],Ns.prototype,"width",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],Ns.prototype,"height",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],Ns.prototype,"xoffset",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],Ns.prototype,"yoffset",void 0),g([A(FN)],Ns.prototype,"source",void 0),Ns=_w=g([ie("esri.symbols.PictureFillSymbol")],Ns);const WS=Ns;let Fa=class extends Ar{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Fa.prototype,"angle",void 0),g([A({type:["simple-marker","picture-marker"],readOnly:!0})],Fa.prototype,"type",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],Fa.prototype,"xoffset",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],Fa.prototype,"yoffset",void 0),g([A({cast:e=>e==="auto"?e:P1(ti(e)),json:{write:!0}})],Fa.prototype,"size",void 0),Fa=g([ie("esri.symbols.MarkerSymbol")],Fa);const UN=Fa;var ww;let an=ww=class extends UN{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=ti(t)),i!=null&&(r.height=ti(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new ww({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([A({json:{write:!1}})],an.prototype,"color",void 0),g([ot({esriPMS:"picture-marker"},{readOnly:!0})],an.prototype,"type",void 0),g([A(DN)],an.prototype,"url",void 0),g([A(FN)],an.prototype,"source",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],an.prototype,"height",void 0),g([Xi("height",["height","size"])],an.prototype,"readHeight",null),g([A({type:Number,cast:ti,json:{write:!0}})],an.prototype,"width",void 0),g([A({json:{write:!1}})],an.prototype,"size",void 0),an=ww=g([ie("esri.symbols.PictureMarkerSymbol")],an);const Tf=an;var uc;const jN=Ct.ofType({base:null,key:"type",typeMap:{icon:wc,object:BS,text:Af}});let hc=uc=class extends Tm{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new jN,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return $N(this)}hasVisibleVerticalOffset(){return zS(this)}clone(){return new uc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new uc({symbolLayers:new Ct([wc.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new uc({symbolLayers:new Ct([wc.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const i=e.data.symbol;return new uc(i?.callout?{symbolLayers:new Ct([wc.fromCIMSymbol(e)]),callout:new ON({size:.5,color:new dt([0,0,0])}),verticalOffset:new qS({screenLength:40})}:{symbolLayers:new Ct([wc.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new uc({symbolLayers:new Ct([Af.fromTextSymbol(e)])})}};g([A({type:qS,json:{write:!0}})],hc.prototype,"verticalOffset",void 0),g([A(CN)],hc.prototype,"callout",void 0),g([A({type:jN,json:{origins:{"web-scene":{write:!0}}}})],hc.prototype,"symbolLayers",void 0),g([ot({PointSymbol3D:"point-3d"},{readOnly:!0})],hc.prototype,"type",void 0),hc=uc=g([ie("esri.symbols.PointSymbol3D")],hc);const ia=hc;var Ed;const VN=Ct.ofType({base:null,key:"type",typeMap:{extrude:pN,fill:nu,icon:wc,line:Ef,object:BS,text:Af,water:TN}});let Ad=Ed=class extends Tm{constructor(e){super(e),this.symbolLayers=new VN,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&dp(kt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&dp(kt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Q$(()=>this.symbolLayers,"after-add",({item:t})=>e(t),QF))}clone(){return new Ed({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new Ed;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Ed({symbolLayers:new Ct([nu.fromSimpleFillSymbol(e)])})}};g([A({type:VN,json:{write:!0}})],Ad.prototype,"symbolLayers",void 0),g([ot({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Ad.prototype,"type",void 0),Ad=Ed=g([ie("esri.symbols.PolygonSymbol3D")],Ad);const au=Ad;var xw;const Rb=new go({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let fc=xw=class extends kN{constructor(...e){super(...e),this.color=new dt([0,0,0,.25]),this.outline=new Pn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new xw({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([A()],fc.prototype,"color",void 0),g([A()],fc.prototype,"outline",void 0),g([ot({esriSFS:"simple-fill"},{readOnly:!0})],fc.prototype,"type",void 0),g([A({type:Rb.apiValues,json:{read:Rb.read,write:Rb.write}})],fc.prototype,"style",void 0),fc=xw=g([ie("esri.symbols.SimpleFillSymbol")],fc);const lu=fc;var Sw;const Db=new go({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Hn=Sw=class extends UN{constructor(...e){super(...e),this.color=new dt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Pn}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=ti(t)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Sw({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([A()],Hn.prototype,"color",void 0),g([Jt("color")],Hn.prototype,"writeColor",null),g([ot({esriSMS:"simple-marker"},{readOnly:!0})],Hn.prototype,"type",void 0),g([A()],Hn.prototype,"size",void 0),g([A({type:Db.apiValues,json:{read:Db.read,write:Db.write}})],Hn.prototype,"style",void 0),g([A({type:String,json:{write:!0}})],Hn.prototype,"path",null),g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Pn}},json:{default:null,write:!0}})],Hn.prototype,"outline",void 0),Hn=Sw=g([ie("esri.symbols.SimpleMarkerSymbol")],Hn);const _o=Hn;var Ew;let qt=Ew=class extends Ar{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new nv,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return ti(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new Ew({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([A({type:dt,json:{write:!0}})],qt.prototype,"backgroundColor",void 0),g([A({type:dt,json:{write:!0}})],qt.prototype,"borderLineColor",void 0),g([A({type:Number,json:{write:!0},cast:ti})],qt.prototype,"borderLineSize",void 0),g([A({type:nv,json:{write:!0}})],qt.prototype,"font",void 0),g([A({...EN,json:{write:!0}})],qt.prototype,"horizontalAlignment",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"kerning",void 0),g([A({type:dt,json:{write:!0}})],qt.prototype,"haloColor",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],qt.prototype,"haloSize",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"rightToLeft",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"rotated",void 0),g([A({type:String,json:{write:!0}})],qt.prototype,"text",void 0),g([ot({esriTS:"text"},{readOnly:!0})],qt.prototype,"type",void 0),g([A({...AN,json:{write:!0}})],qt.prototype,"verticalAlignment",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],qt.prototype,"xoffset",void 0),g([A({type:Number,cast:ti,json:{write:!0}})],qt.prototype,"yoffset",void 0),g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],qt.prototype,"angle",void 0),g([A({type:Number,json:{write:!0}})],qt.prototype,"width",void 0),g([A({type:Number})],qt.prototype,"lineWidth",void 0),g([Jt("lineWidth")],qt.prototype,"writeLineWidth",null),g([ym("lineWidth")],qt.prototype,"castLineWidth",null),g([A(SN)],qt.prototype,"lineHeight",void 0),g([Jt("lineHeight")],qt.prototype,"writeLineHeight",null),qt=Ew=g([ie("esri.symbols.TextSymbol")],qt);const Mf=qt;var Aw;let ln=Aw=class extends Ar{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:sv.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new Aw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new ft("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const o=i&&t.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await _e(()=>import("./webStyleSymbolUtils-CYJhaNIn.js"),__vite__mapDeps([59,60,61,62,1]),import.meta.url);pp(e);const s=r(this,{portal:this.portal},e);s.catch(o=>{kt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return t?.set(i,n.clone()),n}};g([A({json:{write:!1}})],ln.prototype,"color",void 0),g([A({type:String,json:{write:!0}})],ln.prototype,"styleName",void 0),g([A({type:sv,json:{write:!1}})],ln.prototype,"portal",void 0),g([A({type:String,json:{read:mS,write:Ch}})],ln.prototype,"styleUrl",void 0),g([A({type:Bd,json:{read:!1}})],ln.prototype,"thumbnail",void 0),g([A({type:String,json:{write:!0}})],ln.prototype,"name",void 0),g([ot({styleSymbolReference:"web-style"},{readOnly:!0})],ln.prototype,"type",void 0),g([A()],ln.prototype,"_fetchCacheKey",null),ln=Aw=g([ie("esri.symbols.WebStyleSymbol")],ln);const qc=ln;function eve(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function BN(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const HS={base:Ar,key:"type",typeMap:{"simple-fill":lu,"picture-fill":WS,"picture-marker":Tf,"simple-line":Pn,"simple-marker":_o,text:Mf,"label-3d":ov,"line-3d":ou,"mesh-3d":Mm,"point-3d":ia,"polygon-3d":au,"web-style":qc,cim:su},errorContext:"symbol"},tve={base:Ar,key:"type",typeMap:{"picture-marker":Tf,"simple-marker":_o,"point-3d":ia,cim:su},errorContext:"symbol"},ive={base:Ar,key:"type",typeMap:{"simple-line":Pn,"line-3d":ou,cim:su},errorContext:"symbol"},rve={base:Ar,key:"type",typeMap:{"simple-fill":lu,"picture-fill":WS,"polygon-3d":au,cim:su},errorContext:"symbol"},sve={base:Ar,key:"type",typeMap:{"picture-marker":Tf,"simple-marker":_o,text:Mf,"web-style":qc,cim:su},errorContext:"symbol"},RW=V$({types:HS}),nve={base:Ar,key:"type",typeMap:{"simple-fill":lu,"picture-fill":WS,"picture-marker":Tf,"simple-line":Pn,"simple-marker":_o,text:Mf,"line-3d":ou,"mesh-3d":Mm,"point-3d":ia,"polygon-3d":au,"web-style":qc,cim:su},errorContext:"symbol"},ove={base:Ar,key:"type",typeMap:{text:Mf,"label-3d":ov},errorContext:"symbol"},ave={base:Ar,key:"type",typeMap:{"line-3d":ou,"mesh-3d":Mm,"point-3d":ia,"polygon-3d":au,"web-style":qc,cim:su},errorContext:"symbol"},lve={base:Ar,key:"type",typeMap:{"label-3d":ov},errorContext:"symbol"},cve=Ih(HS);var Tw;function DW(e){if(!e)return null;const t={};for(const i in e){const r=_S(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function FW(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let zr=Tw=class extends Mo.ClonableMixin(et){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:ty(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&fD(kt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Tw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:FW(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:et.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=r),e==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([sT(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),sT(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};g([A({value:null,json:{read:DW}})],zr.prototype,"aggregateGeometries",null),g([A({value:null})],zr.prototype,"attributes",null),g([A({value:null,types:Eq,json:{read:_S}})],zr.prototype,"geometry",null),g([A({type:Boolean})],zr.prototype,"isAggregate",void 0),g([A({clonable:"reference"})],zr.prototype,"layer",void 0),g([A({clonable:"reference"})],zr.prototype,"origin",void 0),g([A({type:Sq})],zr.prototype,"popupTemplate",void 0),g([A({clonable:"reference"})],zr.prototype,"sourceLayer",void 0),g([A({value:null,types:HS})],zr.prototype,"symbol",null),g([A({clonable:!1,json:{read:!1,write:!1}})],zr.prototype,"_version",void 0),g([A({type:Boolean,value:!0})],zr.prototype,"visible",null),zr=Tw=g([ie("esri.Graphic")],zr);const UW=zr;function uve(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function hve(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function fve(e){return e?.type==="subtype-sublayer"}const dve={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function m4(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function pve(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function mve(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function yve(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function gve(e,t){const i=Yt?.findServerInfo(e);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${e.slice(0,r)}/rest/info`,n=t!=null?t.signal:null,{data:o}=await Pi(s,{query:{f:"json"},responseType:"json",signal:n});return o?.owningSystemUrl||null}function jW(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function vve(e){return jW(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function VW(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function bve(e){return!!VW(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const YS=[252,146,31,255],BW=[153,153,153,255],GW={type:"esriSMS",style:"esriSMSCircle",size:6,color:YS,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},zW={type:"esriSLS",style:"esriSLSSolid",width:.75,color:YS},qW={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},WW={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},HW={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},YW={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},JW={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},GN=_o.fromJSON(GW),zN=Pn.fromJSON(zW),qN=lu.fromJSON(qW),_ve=Mf.fromJSON(WW);function wve(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return GN;case"polyline":return zN;case"polygon":case"extent":return qN}return null}const xve=_o.fromJSON(HW),Sve=Pn.fromJSON(YW),Eve=lu.fromJSON(JW),ZW=ia.fromSimpleMarkerSymbol(GN),KW=ou.fromSimpleLineSymbol(zN),XW=au.fromSimpleFillSymbol(qN),QW=new Mm({symbolLayers:new Ct([new nu({material:{color:YS},edges:new aN({size:vo(1),color:new dt(BW)})})])}),eH=new ou({symbolLayers:new Ct([new Ef({material:{color:new dt([0,0,0])},size:vo(1)})])}),tH=new au({symbolLayers:new Ct([new nu({outline:{color:new dt([0,0,0]),size:vo(1)}})])});function Ave(e){if(e==null)return null;switch(e.type){case"mesh":return QW;case"point":case"multipoint":return ZW;case"polyline":return KW;case"polygon":case"extent":return XW}return null}const y4="#useCIMFallbackSymbology()",Mu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function iH(e,t=Mu){if(!e)return{symbol:null};const{retainId:i=Mu.retainId,ignoreDrivers:r=Mu.ignoreDrivers,hasLabelingContext:s=Mu.hasLabelingContext,retainCIM:n=Mu.retainCIM,cimFallbackEnabled:o=Mu.cimFallbackEnabled}=t;let a=null;if(BN(e)||e instanceof qc)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=n?e.clone():ia.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=eH.clone(),t?.logWarning?.(y4,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=tH.clone(),t?.logWarning?.(y4,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ft("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Pn)a=ou.fromSimpleLineSymbol(e);else if(e instanceof _o)a=ia.fromSimpleMarkerSymbol(e);else if(e instanceof Tf)a=ia.fromPictureMarkerSymbol(e);else if(e instanceof lu)a=t.geometryType&&t.geometryType==="mesh"?Mm.fromSimpleFillSymbol(e):au.fromSimpleFillSymbol(e);else{if(!(e instanceof Mf))return{error:new ft("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=s?ov.fromTextSymbol(e):ia.fromTextSymbol(e)}return i&&a&&a.type!=="cim"&&(a.id=e.id),!r||a.type==="cim"||a instanceof qc||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function Tve(e,t,i,r){const s=WN(e,{},{context:r,isLabelSymbol:!1});s!=null&&(t[i]=s)}function Mve(e,t,i,r){const s=WN(e,{},{context:r,isLabelSymbol:!0});s!=null&&(t[i]=s)}function g4(e){return BN(e)||e instanceof qc}function rH(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function WN(e,t,i){if(e==null)return null;const{context:r,isLabelSymbol:s}=i,n=r?.origin,o=r?.messages;if(n==="web-scene"&&!g4(e)){const a=iH(e,{retainCIM:!0,hasLabelingContext:s});return a.symbol!=null?a.symbol.write(t,r):(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:a.error})),null)}return m4(r?.layer)&&rH(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):(n==="web-map"||n==="portal-item"&&!m4(r?.layer))&&g4(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function JS(e,t){return RW(e,null,t)}class Mt{static async Basemap(t){const i=await _e(()=>import("./Basemap-CwXISLRi.js").then(r=>r.B),__vite__mapDeps([33,1,34,32,3,35]),import.meta.url);return Reflect.construct(i.default,[t])}static async Map(t){const i=await _e(()=>import("./Map-BQqiVqnv.js"),__vite__mapDeps([63,33,1,34,32,3,35,64,65,66,67,68,39,40]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapView(t){const i=await _e(()=>import("./MapView-CdXdWR5g.js").then(r=>r.a3),__vite__mapDeps([69,1,70,64,58,8,3,55,56,42,43,4,5,71,10,63,33,34,32,35,65,66,67,68,39,40,72,38,31,9,73,23,24,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureLayer(t){const i=await _e(()=>import("./FeatureLayer-YXIhanP1.js"),__vite__mapDeps([98,1,37,49,99,23,24,38,50,51,52,31,100,5,73,40,101,102,103,104,105,106,107,108,109,61,110,111,112,113,114,115,116,39,58,8,3,117,118,55,56,119,120,47,121,122,123,65,66,67,124,125,126,127,128,129,130,131,132,133,134,135,136,14,15,96,30,137,138,139,140,141,48,142,143,53,32,54,144,145,146,147,148,149,150,151,152,153,154,155,156]),import.meta.url);return Reflect.construct(i.default,[t])}static async GraphicsLayer(t){const i=await _e(()=>import("./GraphicsLayer-CZo360Kr.js"),__vite__mapDeps([157,72,39,1,40,121,49,122,123,65,66,67,145,51,52]),import.meta.url);return Reflect.construct(i.default,[t])}static async ImageryLayer(t){const i=await _e(()=>import("./ImageryLayer-2xkWh4RT.js"),__vite__mapDeps([158,1,37,39,40,50,49,51,52,159,23,24,160,58,8,3,161,136,102,103,104,105,109,106,107,108,61,162,12,163,139,67,140,164,81,82,83,84,165,123,65,66,166,137,14,15,30,31,167,73,119,168,169,170,171,172,28,27,29,118,55,56,173,47,121,122,124,48,53,32,54,144,145,146,147,153,155,156]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapImageLayer(t){const i=await _e(()=>import("./MapImageLayer-3B4Z7G4E.js"),__vite__mapDeps([174,34,37,126,39,1,40,120,175,96,50,49,51,52,54,55,56,64,176,116,73,23,24,83,169,170,81,82,84,171,172,28,27,29,118,177,26,119,173,142,143,100,5,101,102,103,104,105,106,107,108,109,61,110,111,112,150,149,30,31,113,114,115,135,136,14,15,137,138,139,67,140,155,178,47,121,122,123,65,66,124,48,53,32,144,145,146,147,179,180,167,153]),import.meta.url);return Reflect.construct(i.default,[t])}static async OpenStreetMapLayer(t){const i=await _e(()=>import("./OpenStreetMapLayer-CAl6rTG3.js"),__vite__mapDeps([181,182,37,39,1,40,121,49,122,123,65,66,67,48,50,51,52,53,32,54,55,56,144,145,167,42,43]),import.meta.url);return Reflect.construct(i.default,[t])}static async TileLayer(t){const i=await _e(()=>import("./TileLayer-CajUOUqW.js"),__vite__mapDeps([183,34,37,39,1,40,120,41,42,43,44,45,46,14,15,28,175,96,50,49,51,52,54,55,56,64,176,116,73,23,24,83,169,170,81,82,84,171,172,27,29,118,177,26,119,173,142,143,100,5,101,102,103,104,105,106,107,108,109,61,110,111,112,150,149,30,31,113,114,115,135,136,137,138,139,67,140,155,178,47,121,122,123,65,66,124,48,53,32,144,145,167]),import.meta.url);return Reflect.construct(i.default,[t])}static async WMSLayer(t){const i=await _e(()=>import("./WMSLayer-Dd8J5mv4.js"),__vite__mapDeps([184,64,37,126,39,1,40,121,49,122,123,65,66,67,48,50,51,52,53,32,54,55,56,144,145,146,147,31,185,186,167]),import.meta.url);return Reflect.construct(i.default,[t])}static async ArcadeExecutor(t,i){const{createArcadeExecutor:r}=await _e(async()=>{const{createArcadeExecutor:s}=await import("./arcade-yp7yZgZn.js");return{createArcadeExecutor:s}},__vite__mapDeps([187,21,17,98,1,37,49,99,23,24,38,50,51,52,31,100,5,73,40,101,102,103,104,105,106,107,108,109,61,110,111,112,113,114,115,116,39,58,8,3,117,118,55,56,119,120,47,121,122,123,65,66,67,124,125,126,127,128,129,130,131,132,133,134,135,136,14,15,96,30,137,138,139,140,141,48,142,143,53,32,54,144,145,146,147,148,149,150,151,152,153,154,155,156]),import.meta.url);return await r(t,i)}static async ColorBackground(t){const i=await _e(()=>import("./ColorBackground-CkNanFjv.js"),__vite__mapDeps([97,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureFilter(t){const i=await _e(()=>import("./FeatureFilter-BMGPBFnL.js"),__vite__mapDeps([131,73,23,24,40,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FieldFromJson(t){return(await _e(()=>import("./Field-BLAoQZ_0.js").then(r=>r.F),__vite__mapDeps([23,24]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await _e(()=>import("./Query-D7n22axe.js").then(i=>i.Q),__vite__mapDeps([73,23,24,40]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,i,r){const{executeForIds:s}=await _e(async()=>{const{executeForIds:n}=await import("./query-C3hjlLyL.js");return{executeForIds:n}},__vite__mapDeps([188,189,73,23,24,40,173,83,170,81,82,84,171,172,28,27,29,118,55,1,56,119,190,110,191,192,193,194,195,196,111,31,169,177,26,197,198,199,200,201,202,203]),import.meta.url);return s(t,i,r)}static async RendererFromJson(t){const{fromJSON:i}=await _e(async()=>{const{fromJSON:r}=await import("./jsonUtils-Bfgh5fRb.js");return{fromJSON:r}},__vite__mapDeps([134,135,136,102,103,104,105,52,109,1,14,15,96,30,31,137,107,108,138,139,67,140,101,106,61]),import.meta.url);return i(t)}}class Ve{wkid;latestWkid;wkt;constructor(t,i){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=i)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Ve("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Ve(4326)}static fromConfig(t){if(t.wkt)return new Ve(t.wkt);if(t.wkid)return new Ve(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Ve?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Ve(parseInt(t.substring(5).trim())):new Ve(t):Ve.latLongSR()}static fromESRI(t){if(t.wkt)return new Ve(t.wkt);{const i=t.toJSON().latestWkid,r=new Ve(t.wkid);return i&&(r.latestWkid=i),r}}toESRI(){return new qi(this.lean())}static fromGeoJSON(t){const i=Ve.parseGeoJsonCrs(t);return i.substring(0,5)==="EPSG:"?new Ve(parseInt(i.slice(5))):new Ve(i)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=t.properties.name,s=r.match(i);if(s)return"EPSG:"+s[1];if(r.substring(0,7)!=="urn:ogc")return r}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class cu{sr;id;constructor(t,i){this.id=t?t.toString():"",this.sr=Ve.parseSR(i)}get type(){return Ze.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ze.NONE||this.type===Ze.UNKNOWN}geoJsonFactory(t,i){const r={type:t,coordinates:i};return this.sr&&(r.crs=this.sr.toGeoJSON()),r}}class Al extends cu{constructor(){super("no_geometry")}get type(){return Ze.NONE}}let Dr=class Td extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=i.slice():this.rawArray=Td.parseXY(i)}get type(){return Ze.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let i;if(Array.isArray(t)&&t.length===2)i=t;else{if(t instanceof Td)return t.toArray();i=[t.x,t.y]}if(isNaN(i[0])||isNaN(i[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(i[0]),parseFloat(i[1])]}static fromESRI(t,i){return new Td(i,[t.x,t.y],Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new Ci({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Td(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POINT,this.toArray())}};class ts extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=ts.arrayDeepCopy(i):i instanceof ts?this.rawArray=i.toArray():this.rawArray=ts.parsePointSet(i)}get pointArray(){return this.rawArray.map((t,i)=>new Dr(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new Dr(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=Dr.parseXY(t)}get length(){return this.rawArray.length}toArray(){return ts.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(i=>Dr.parseXY(i))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(i=>i.slice())}}class gh extends ts{constructor(t,i,r,s){super(t,i,r,s)}get type(){return Ze.MULTIPOINT}static fromESRI(t,i){return new gh(i,t.points,Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new W1({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new gh(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTIPOINT,this.toArray())}}class cl extends ts{constructor(t,i,r,s){if(super(t,i,r,s),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ze.LINESTRING}static fromESRI(t,i){return new cl(i,t.paths[0],Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new gm({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new cl(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.LINESTRING,this.toArray())}}class un extends cu{rawArray;constructor(t,i,r,s){if(super(t,i.sr||r),s)this.rawArray=un.arrayDeepCopy(i);else if(i instanceof un)this.rawArray=i.toArray();else if(i instanceof ts)this.rawArray=[i.toArray()];else if(Array.isArray(i)){if(i.length===0)throw new Error("no lines provided");this.rawArray=i.map(n=>ts.parsePointSet(n))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,i)=>new cl(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new cl(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=ts.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ze.MULTILINESTRING}toArray(){return un.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new un(i,t.paths,Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new gm({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new un(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTILINESTRING,this.toArray())}}class Tc extends ts{constructor(t,i,r,s){if(super(t,i,r,s),Tc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ze.LINEARRING}updateAt(t,i){const r=this.length-1;i===0?super.updateAt(t,r):i===r&&super.updateAt(t,0),super.updateAt(t,i)}static closeRing(t){const i=t[0],r=t[t.length-1];(i[0]!==r[0]||i[1]!==r[1])&&t.push(i.slice())}static fromESRI(t,i){return new Tc(i,t.rings[0],Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new Gc({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Tc(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,[this.toArray()])}}class gr extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=gr.arrayDeepCopy(i):this.rawArray=gr.parsePolygon(i)}addLinearRings(t){t.forEach(i=>this.rawArray.push(i.toArray()))}get ringArray(){return this.rawArray.map((t,i)=>new Tc(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.POLYGON}toArray(){return gr.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let i=[];if(t instanceof gr)return t.toArray();if(t instanceof un)i=t.toArray();else if(t instanceof ts)i=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");i=t.map(r=>ts.parsePointSet(r))}else throw new Error("invalid input format for parsePolygon");return i.forEach(r=>Tc.closeRing(r)),i}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new gr(i,t.rings,Ve.fromESRI(t.spatialReference),!0)}toESRI(){return new Gc({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new gr(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,this.toArray())}}class Zo extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=Zo.arrayDeepCopy(i):this.rawArray=Zo.parseMultiPolygon(i)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,i)=>new gr(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.MULTIPOLYGON}toArray(){return Zo.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof Zo)return t.toArray();if(t instanceof gr)return[t.toArray()];if(t instanceof un||t instanceof ts)return[gr.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(i=>gr.parsePolygon(i))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.map(s=>s.slice())))}static fromESRI(t,i){return new Zo(i,[t.rings],Ve.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(i=>{i.forEach(r=>t.push(r))}),new Gc({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Zo(i,t.coordinates,Ve.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTIPOLYGON,this.toArray())}}class Qt extends cu{rawMin;rawMax;constructor(t,i,r,s){super(t,i.sr||s),this.rawMin=Dr.parseXY(i),this.rawMax=Dr.parseXY(r)}get type(){return Ze.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Dr(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return Qt.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new Qt(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new gr(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,i,r,s,n,o){return new Qt(t,[i,r],[s,n],o)}static fromConfig(t,i){return new Qt(t,[i.xmin,i.ymin],[i.xmax,i.ymax],Ve.fromConfig(i.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,i){return Qt.fromParams(i,t.xmin,t.ymin,t.xmax,t.ymax,Ve.fromESRI(t.spatialReference))}toESRI(){return new Ws({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,i){return Qt.fromESRI(Ws.fromJSON(t),i)}static fromGeoJSON(t,i){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const r=t.coordinates[0].slice(),s=r.slice();return[1,2,3].forEach(n=>{[0,1].forEach(o=>{const a=t.coordinates[n];r[o]>a[o]&&(r[o]=a[o]),s[o]<a[o]&&(s[o]=a[o])})}),new Qt(i,r,s,Ve.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,this.toPolygonArray())}}class aa{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const i=t.length;if(i<3||i>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((r,s)=>s===3?r:parseInt(r)),i===3&&this.c.push(1)}else if(typeof t=="string"){const i=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(r=>{const s=i.substring(r,r+2);return aa.hexToInt(s)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((i,r)=>{i<0&&(console.error("Negative value passed to colour"),this.c[r]=0),i>255&&(console.error("Rotund value passed to colour"),this.c[r]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(i=>aa.intToHex(i)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new dt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const i=t.toString(16);return i.length===1?`0${i}`:i}}class Ko{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let i;const r=t.length;if(r===0)return;const s=t.substring(r-2);return s==="px"?i=parseFloat(t.substring(0,r-2))*1.333333:s==="pt"?i=parseFloat(t.substring(0,r-2)):i=parseFloat(t),i}else return t}}class nl extends Ko{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:Ro.CIRCLE},super(),this._style=t.style||Ro.CIRCLE,t.style===Ro.ICON){const i=t;this._icon=i.icon||"",this._height=Ko.convToPoints(i.height)||16.5,this._width=Ko.convToPoints(i.width)||16.5,this._size=0,this._colour=new aa,this._outline=new co,this._path=""}else{const i=t;this._size=Ko.convToPoints(i.size)||12,this._colour=new aa(i.colour??"#ffffff40"),this._outline=new co(i.outline),this._path=this._style===Ro.PATH&&i.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=Ko.convToPoints(t.xOffset)||0,this._yOffset=Ko.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===Ro.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Ro.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===Ro.ICON?nl.isImageUrl(this.icon)?(t=new Tf,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new _o,t.color=new dt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new _o,t.color=new dt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const i={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const r=i;r.style=t.style,r.colour=t.color.toRgba(),r.size=t.size,r.path=t.path,r.outline=co.fromESRI(t.outline).toOptions()}else{const r=i;r.style=Ro.ICON,r.width=t.width,r.height=t.height,r.icon=t.url}return new nl(i)}static fromArcServer(t){return nl.fromESRI(JS(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class co extends Ko{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||Wr.SOLID;const i=Ko.convToPoints(t.width);this._width=typeof i>"u"||i<0?.75:i,this._colour=new aa(t.colour),this._miter=t.miter??2,this._cap=t.cap||kO.ROUND,this._join=t.join||LO.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new Pn;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const i={width:t.width,colour:t.color.toRgba(),style:t.style};return new co(i)}static fromArcServer(t){return co.fromESRI(JS(t))}}class Pp extends Ko{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new aa(t.fill.colour),this._fillStyle=t.fill.style||RO.SOLID,this._outlineStyle=new co(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),i=new dt(this.fillColour.rgba),r=new lu;return r.style=this.fillStyleType,r.color=i,r.outline=t,r}static fromESRI(t){const i={fill:{colour:t.color.toRgba(),style:t.style},outline:co.fromESRI(t.outline).toOptions()};return new Pp(i)}static fromArcServer(t){return Pp.fromESRI(JS(t))}}class sH{Extent=Qt;Graphic=Sn;LineString=cl;LineStyle=co;LinearRing=Tc;MultiLineString=un;MultiPoint=gh;MultiPolygon=Zo;Point=Dr;PointStyle=nl;Polygon=gr;PolygonStyle=Pp;SpatialReference=Ve;esriMapClickToRamp(t,i){return{mapPoint:Dr.fromESRI(t.mapPoint,i),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,i){switch(t.type){case"point":return Dr.fromESRI(t,i);case"polyline":{const r=t;return r.paths.length===1?cl.fromESRI(r,i):un.fromESRI(r,i)}case"polygon":return gr.fromESRI(t,i);case"extent":return Qt.fromESRI(t,i);case"multipoint":return gh.fromESRI(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,i){switch(t.type){case ci.POINT:return Dr.fromGeoJSON(t,i);case ci.LINESTRING:return cl.fromGeoJSON(t,i);case ci.POLYGON:return gr.fromGeoJSON(t,i);case ci.MULTIPOINT:return gh.fromGeoJSON(t,i);case ci.MULTILINESTRING:return un.fromGeoJSON(t,i);case ci.MULTIPOLYGON:return Zo.fromGeoJSON(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const i={},r={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:i};return Object.keys(t.attributes).forEach(s=>r.properties[s]=t.attributes[s]),r}graphicGeoJsonToRamp(t,i){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const r=this.geomGeoJsonToRamp(t.geometry,i),s={};return Object.keys(t.properties.forEach(o=>s[o]=t.properties[o])),new Sn(r,"",s)}graphicRampToEsri(t){const i={attributes:{},id:t.id};return i.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(r=>i.attributes[r]=t.attributes[r]),t.style&&(i.symbol=this.styleRampToEsri(t.style)),new UW(i)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return nl.fromESRI(t);case"simple-line":return co.fromESRI(t);case"simple-fill":return Pp.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new nl}}serverGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"esriGeometryPolygon":return Ze.POLYGON;case"esriGeometryPolyline":return Ze.LINESTRING;case"esriGeometryPoint":return Ze.POINT;case"esriGeometryMultipoint":return Ze.MULTIPOINT;case"esriGeometryEnvelope":return Ze.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ze.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"polygon":return Ze.POLYGON;case"polyline":return Ze.LINESTRING;case"point":return Ze.POINT;case"multipoint":return Ze.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ze.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case ci.POINT:return"point";case ci.LINESTRING:case ci.MULTILINESTRING:return"polyline";case ci.POLYGON:case ci.MULTIPOLYGON:return"polygon";case ci.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return nl.isImageUrl(t)}}class Eg{layerIdx;name;children;uid;isRoot;constructor(t,i,r="",s=!0){this.layerIdx=t,this.name=r,this.isRoot=s,this.children=[],this.uid=i}findChildByUid(t){if(this.uid===t)return this;{let i;return this.children.some(r=>i=r.findChildByUid(t)),i}}findChildByIdx(t){if(this.layerIdx===t)return this;{let i;return this.children.some(r=>i=r.findChildByIdx(t)),i}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class HN{minScale;maxScale;constructor(t=0,i=0){this.minScale=t,this.maxScale=i}isOffScale(t){const i={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(i.offScale=!0,i.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(i.offScale=!0,i.zoomIn=!0),i}}class YN{sql;cache;extent;constructor(t="",i=""){this.sql={[Lr.PERMANENT]:t,[Lr.INITIAL]:i},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const i=this.sql,r=Object.keys(i).filter(s=>i[s]);return t.length===0?r:r.filter(s=>t.indexOf(s)===-1)}isActive(){return this.sqlActiveFilters([Lr.PERMANENT]).length>0}getCombinedSql(t=[]){const i=this.sqlActiveFilters(t),r=i.length;return r===0?"":r===1?this.sql[i[0]]:i.map(s=>`(${this.sql[s]})`).join(" AND ")}setSql(t,i){t===Lr.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=i,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Lr.EXTENT))}getCacheKey(t,i){return`_cache$${t.sort().join("$")}${i?"$"+Lr.EXTENT:""}$`}getCache(t,i){const r=this.getCacheKey(t,i);return this.cache[r]}setCache(t,i,r){const s=this.getCacheKey(i,r);this.cache[s]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(i=>t[i])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(i=>{i.indexOf(`$${t}$`)>-1&&delete this.cache[i]})}clearAll(){this.sql={[Lr.PERMANENT]:this.sql[Lr.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Lp{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,i,r=void 0,s=void 0){this.id=t,this.sr=i.sr.clone(),this._defaultExtent=i.clone(),this._fullExtent=r?.clone(),this._maximumExtent=s?.clone(),r&&!r.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${r.sr}`),s&&!s.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${s.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new Lp(t.id,Qt.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?Qt.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?Qt.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new Lp(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Si{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,i)=>{this.resolveMe=r=>{t(r)},this.rejectMe=i})}}var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function av(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),i}var Fb,v4;function oH(){if(v4)return Fb;v4=1;var e=function(T){return t(T)&&!i(T)};function t(S){return!!S&&typeof S=="object"}function i(S){var T=Object.prototype.toString.call(S);return T==="[object RegExp]"||T==="[object Date]"||n(S)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function n(S){return S.$$typeof===s}function o(S){return Array.isArray(S)?[]:{}}function a(S,T){return T.clone!==!1&&T.isMergeableObject(S)?b(o(S),S,T):S}function l(S,T,w){return S.concat(T).map(function(_){return a(_,w)})}function c(S,T){if(!T.customMerge)return b;var w=T.customMerge(S);return typeof w=="function"?w:b}function f(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(T){return Object.propertyIsEnumerable.call(S,T)}):[]}function d(S){return Object.keys(S).concat(f(S))}function p(S,T){try{return T in S}catch{return!1}}function y(S,T){return p(S,T)&&!(Object.hasOwnProperty.call(S,T)&&Object.propertyIsEnumerable.call(S,T))}function v(S,T,w){var _={};return w.isMergeableObject(S)&&d(S).forEach(function(M){_[M]=a(S[M],w)}),d(T).forEach(function(M){y(S,M)||(p(S,M)&&w.isMergeableObject(T[M])?_[M]=c(M,w)(S[M],T[M],w):_[M]=a(T[M],w))}),_}function b(S,T,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(T),M=Array.isArray(S),I=_===M;return I?_?w.arrayMerge(S,T,w):v(S,T,w):a(T,w)}b.all=function(T,w){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(_,M){return b(_,M,w)},{})};var E=b;return Fb=E,Fb}var aH=oH();const JN=av(aH);class lH{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i==="x"?r:r&3|8).toString(16)})}convertImageToCanvas(t,i,r=!0){const s=i??document.createElement("canvas"),n=document.createElement("img");r&&(n.crossOrigin="anonymous");const o=new Promise((a,l)=>{n.addEventListener("load",()=>{s.width=n.width,s.height=n.height,s.getContext("2d")?.drawImage(n,0,0),a(s)}),n.addEventListener("error",c=>l(c))});return n.src=t,o}async convertImagetoDataURL(t,i="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(r=>r.toDataURL(i)).catch(r=>(console.error("Failed to load crossorigin image",t,r),t))}parseUrlIndex(t){const i={rootUrl:t,index:0},r=/\/(\d+)\/?$/,s=t.match(r);if(s){const n=s[1];i.index=isNaN(parseInt(n))?void 0:parseInt(n),i.rootUrl=t.substr(0,t.length-s[0].length)}else console.warn("Cannot extract layer index from url "+t);return i}controlAvailable(t,i){return i?.disabledControls?.includes(t)?!1:i?.controls?i?.controls?.includes(t):!0}}class Ag{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((i,r)=>{const[s,n]=r.split("=");return i[s]=n,i},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const i=JN.all([{},this.queryMap,t]);return`${this.base}${Object.entries(i).filter(([,s])=>s!==void 0).map(([s,n],o)=>`${o===0?"?":""}${s}=${n}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var Gd=6378137,cH=57.29577951308232,uH=.017453292519943,hH={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},Ub=function(t){return t*cH},jb=function(t){return t*uH},fH=function(t){var i=t[0],r=t[1];return[Ub(i/Gd)-Math.floor((Ub(i/Gd)+180)/360)*360,Ub(Math.PI/2-2*Math.atan(Math.exp(-1*r/Gd)))]},dH=function(t){var i=t[0],r=Math.max(Math.min(t[1],89.99999),-89.99999);return[jb(i)*Gd,Gd/2*Math.log((1+Math.sin(jb(r)))/(1-Math.sin(jb(r))))]};function Mw(e){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(e)}var pH=function e(t,i){for(var r=0;r<t.length;r++)typeof t[r][0]=="number"&&(t[r]=i(t[r])),Mw(t[r])==="object"&&(t[r]=e(t[r],i));return t},mH=function e(t,i,r){if(t.type==="Point")t.coordinates=i(t.coordinates);else if(t.type==="Feature")t.geometry=e(t.geometry,i,!0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length;s++)t.features[s]=e(t.features[s],i,!0);else if(t.type==="GeometryCollection")for(var n=0;n<t.geometries.length;n++)t.geometries[n]=e(t.geometries[n],i,!0);else t.coordinates=pH(t.coordinates,i);return r||i===dH&&(t.crs=hH),i===fH&&delete t.crs,t};function yH(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Wc=1,Hc=2,vh=3,gH=4,Iw=5,b4=6378137,vH=6356752314e-3,_4=.0066943799901413165,zd=484813681109536e-20,he=Math.PI/2,bH=.16666666666666666,_H=.04722222222222222,wH=.022156084656084655,be=1e-10,sr=.017453292519943295,so=57.29577951308232,wt=Math.PI/4,kp=Math.PI*2,bi=3.14159265359,cs={};cs.greenwich=0;cs.lisbon=-9.131906111111;cs.paris=2.337229166667;cs.bogota=-74.080916666667;cs.madrid=-3.687938888889;cs.rome=12.452333333333;cs.bern=7.439583333333;cs.jakarta=106.807719444444;cs.ferro=-17.666666666667;cs.brussels=4.367975;cs.stockholm=18.058277777778;cs.athens=23.7163375;cs.oslo=10.722916666667;const xH={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var w4=/[\s_\-\/\(\)]/g;function gl(e,t){if(e[t])return e[t];for(var i=Object.keys(e),r=t.toLowerCase().replace(w4,""),s=-1,n,o;++s<i.length;)if(n=i[s],o=n.toLowerCase().replace(w4,""),o===r)return e[n]}function Ow(e){var t={},i=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,s,n,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*sr},lat_1:function(a){t.lat1=a*sr},lat_2:function(a){t.lat2=a*sr},lat_ts:function(a){t.lat_ts=a*sr},lon_0:function(a){t.long0=a*sr},lon_1:function(a){t.long1=a*sr},lon_2:function(a){t.long2=a*sr},alpha:function(a){t.alpha=parseFloat(a)*sr},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*sr},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=gl(xH,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*sr},pm:function(a){var l=gl(cs,a);t.from_greenwich=(l||parseFloat(a))*sr},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(r in i)s=i[r],r in o?(n=o[r],typeof n=="function"?n(s):t[n]=s):t[r]=s;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var Rp=1,ZN=2,KN=3,Tg=4,XN=5,ZS=-1,SH=/\s/,EH=/[A-Za-z]/,AH=/[A-Za-z84_]/,lv=/[,\]]/,QN=/[\d\.E\-\+]/;function ha(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Rp}ha.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Tg)for(;SH.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Rp:return this.neutral(e);case ZN:return this.keyword(e);case Tg:return this.quoted(e);case XN:return this.afterquote(e);case KN:return this.number(e);case ZS:return}};ha.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=Tg;return}if(lv.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};ha.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Rp;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Rp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=ZS);return}};ha.prototype.number=function(e){if(QN.test(e)){this.word+=e;return}if(lv.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};ha.prototype.quoted=function(e){if(e==='"'){this.state=XN;return}this.word+=e};ha.prototype.keyword=function(e){if(AH.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Rp;return}if(lv.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};ha.prototype.neutral=function(e){if(EH.test(e)){this.word=e,this.state=ZN;return}if(e==='"'){this.word="",this.state=Tg;return}if(QN.test(e)){this.word=e,this.state=KN;return}if(lv.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};ha.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ZS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function TH(e){var t=new ha(e);return t.output()}function x4(e,t,i){Array.isArray(t)&&(i.unshift(t),t=null);var r=t?{}:e,s=i.reduce(function(n,o){return Qu(o,n),n},r);t&&(e[t]=s)}function Qu(e,t){if(!Array.isArray(e)){t[e]=!0;return}var i=e.shift();if(i==="PARAMETER"&&(i=e.shift()),e.length===1){if(Array.isArray(e[0])){t[i]={},Qu(e[0],t[i]);return}t[i]=e[0];return}if(!e.length){t[i]=!0;return}if(i==="TOWGS84"){t[i]=e;return}if(i==="AXIS"){i in t||(t[i]=[]),t[i].push(e);return}Array.isArray(i)||(t[i]={});var r;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[i]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Qu(e[2],t[i]);return;case"SPHEROID":case"ELLIPSOID":t[i]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Qu(e[3],t[i]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],x4(t,i,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return Qu(e,t[i]);return x4(t,i,e)}}var MH=.017453292519943295;function IH(e,t){var i=t[0],r=t[1];!(i in e)&&r in e&&(e[i]=e[r],t.length===3&&(e[i]=t[2](e[i])))}function Un(e){return e*MH}function OH(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",i=0,r=e.AXIS.length;i<r;++i){var s=[e.AXIS[i][0].toLowerCase(),e.AXIS[i][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?t+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?t+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?t+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var n=e.GEOGCS;e.type==="GEOGCS"&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(e.datum_params=n.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var f=e.to_meter||1;return c*f}var a=function(c){return IH(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Un],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Un],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Un],["lat0","latitude_of_origin",Un],["lat0","standard_parallel_1",Un],["lat1","standard_parallel_1",Un],["lat2","standard_parallel_2",Un],["azimuth","Azimuth"],["alpha","azimuth",Un],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Un(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Un(e.lat0>0?90:-90))}function eP(e){var t=TH(e),i=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",i]);var s={};return Qu(t,s),OH(s),s}function Nr(e){var t=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?Nr[e]=Ow(arguments[1]):Nr[e]=eP(arguments[1]):Nr[e]=i}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?Nr.apply(t,r):Nr(r)});if(typeof e=="string"){if(e in Nr)return Nr[e]}else"EPSG"in e?Nr["EPSG:"+e.EPSG]=e:"ESRI"in e?Nr["ESRI:"+e.ESRI]=e:"IAU2000"in e?Nr["IAU2000:"+e.IAU2000]=e:console.log(e);return}}yH(Nr);function $H(e){return typeof e=="string"}function CH(e){return e in Nr}var NH=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function PH(e){return NH.some(function(t){return e.indexOf(t)>-1})}var LH=["3857","900913","3785","102113"];function kH(e){var t=gl(e,"authority");if(t){var i=gl(t,"epsg");return i&&LH.indexOf(i)>-1}}function RH(e){var t=gl(e,"extension");if(t)return gl(t,"proj4")}function DH(e){return e[0]==="+"}function FH(e){if($H(e)){if(CH(e))return Nr[e];if(PH(e)){var t=eP(e);if(kH(t))return Nr["EPSG:3857"];var i=RH(t);return i?Ow(i):t}if(DH(e))return Ow(e)}else return e}function S4(e,t){e=e||{};var i,r;if(!t)return e;for(r in t)i=t[r],i!==void 0&&(e[r]=i);return e}function wo(e,t,i){var r=e*t;return i/Math.sqrt(1-r*r)}function Im(e){return e<0?-1:1}function Se(e){return Math.abs(e)<=bi?e:e-Im(e)*kp}function _n(e,t,i){var r=e*i,s=.5*e;return r=Math.pow((1-r)/(1+r),s),Math.tan(.5*(he-t))/r}function Dp(e,t){for(var i=.5*e,r,s,n=he-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(n),s=he-2*Math.atan(t*Math.pow((1-r)/(1+r),i))-n,n+=s,Math.abs(s)<=1e-10)return n;return-9999}function UH(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=wo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function jH(e){var t=e.x,i=e.y;if(i*so>90&&i*so<-90&&t*so>180&&t*so<-180)return null;var r,s;if(Math.abs(Math.abs(i)-he)<=be)return null;if(this.sphere)r=this.x0+this.a*this.k0*Se(t-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(wt+.5*i));else{var n=Math.sin(i),o=_n(this.e,i,n);r=this.x0+this.a*this.k0*Se(t-this.long0),s=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=s,e}function VH(e){var t=e.x-this.x0,i=e.y-this.y0,r,s;if(this.sphere)s=he-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var n=Math.exp(-i/(this.a*this.k0));if(s=Dp(this.e,n),s===-9999)return null}return r=Se(this.long0+t/(this.a*this.k0)),e.x=r,e.y=s,e}var BH=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const GH={init:UH,forward:jH,inverse:VH,names:BH};function zH(){}function E4(e){return e}var qH=["longlat","identity"];const WH={init:zH,forward:E4,inverse:E4,names:qH};var HH=[GH,WH],$y={},Mg=[];function tP(e,t){var i=Mg.length;return e.names?(Mg[i]=e,e.names.forEach(function(r){$y[r.toLowerCase()]=i}),this):(console.log(t),!0)}function YH(e){if(!e)return!1;var t=e.toLowerCase();if(typeof $y[t]<"u"&&Mg[$y[t]])return Mg[$y[t]]}function JH(){HH.forEach(tP)}const ZH={start:JH,add:tP,get:YH};var We={};We.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};We.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};We.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};We.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};We.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};We.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};We.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};We.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};We.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};We.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};We.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};We.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};We.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};We.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};We.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};We.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};We.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};We.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};We.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};We.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};We.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};We.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};We.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};We.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};We.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};We.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};We.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};We.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};We.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};We.hough={a:6378270,rf:297,ellipseName:"Hough"};We.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};We.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};We.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};We.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};We.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};We.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};We.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};We.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};We.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};We.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};We.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};We.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var KH=We.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};We.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function XH(e,t,i,r){var s=e*e,n=t*t,o=(s-n)/s,a=0;r?(e*=1-o*(bH+o*(_H+o*wH)),s=e*e,o=0):a=Math.sqrt(o);var l=(s-n)/n;return{es:o,e:a,ep2:l}}function QH(e,t,i,r,s){if(!e){var n=gl(We,r);n||(n=KH),e=n.a,t=n.b,i=n.rf}return i&&!t&&(t=(1-1/i)*e),(i===0||Math.abs(e-t)<be)&&(s=!0,t=e),{a:e,b:t,rf:i,sphere:s}}var Yi={};Yi.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Yi.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Yi.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Yi.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Yi.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Yi.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Yi.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Yi.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Yi.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Yi.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Yi.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Yi.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Yi.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Yi.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Yi.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Yi.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Yi.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Yi.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function eY(e,t,i,r,s,n,o){var a={};return e===void 0||e==="none"?a.datum_type=Iw:a.datum_type=gH,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Wc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Hc,a.datum_params[3]*=zd,a.datum_params[4]*=zd,a.datum_params[5]*=zd,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=vh,a.grids=o),a.a=i,a.b=r,a.es=s,a.ep2=n,a}var iP={};function tY(e,t){var i=new DataView(t),r=sY(i),s=nY(i,r),n=oY(i,s,r),o={header:s,subgrids:n};return iP[e]=o,o}function iY(e){if(e===void 0)return null;var t=e.split(",");return t.map(rY)}function rY(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:iP[e]||null,isNull:!1}}function eh(e){return e/3600*Math.PI/180}function sY(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function nY(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:$w(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function $w(e,t,i){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,i)))}function oY(e,t,i){for(var r=176,s=[],n=0;n<t.nSubgrids;n++){var o=lY(e,r,i),a=cY(e,r,o,i),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[eh(o.lowerLongitude),eh(o.lowerLatitude)],del:[eh(o.longitudeInterval),eh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:aY(a)}),r+=176+o.gridNodeCount*16}return s}function aY(e){return e.map(function(t){return[eh(t.longitudeShift),eh(t.latitudeShift)]})}function lY(e,t,i){return{name:$w(e,t+8,t+16).trim(),parent:$w(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,i),upperLatitude:e.getFloat64(t+88,i),lowerLongitude:e.getFloat64(t+104,i),upperLongitude:e.getFloat64(t+120,i),latitudeInterval:e.getFloat64(t+136,i),longitudeInterval:e.getFloat64(t+152,i),gridNodeCount:e.getInt32(t+168,i)}}function cY(e,t,i,r){for(var s=t+176,n=16,o=[],a=0;a<i.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(s+a*n,r),longitudeShift:e.getFloat32(s+a*n+4,r),latitudeAccuracy:e.getFloat32(s+a*n+8,r),longitudeAccuracy:e.getFloat32(s+a*n+12,r)};o.push(l)}return o}function uo(e,t){if(!(this instanceof uo))return new uo(e);t=t||function(c){if(c)throw c};var i=FH(e);if(typeof i!="object"){t("Could not parse to valid json: "+e);return}var r=uo.projections.get(i.projName);if(!r){t("Could not get projection name from: "+e);return}if(i.datumCode&&i.datumCode!=="none"){var s=gl(Yi,i.datumCode);s&&(i.datum_params=i.datum_params||(s.towgs84?s.towgs84.split(","):null),i.ellps=s.ellipse,i.datumName=s.datumName?s.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var n=QH(i.a,i.b,i.rf,i.ellps,i.sphere),o=XH(n.a,n.b,n.rf,i.R_A),a=iY(i.nadgrids),l=i.datum||eY(i.datumCode,i.datum_params,n.a,n.b,o.es,o.ep2,a);S4(this,i),S4(this,r),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}uo.projections=ZH;uo.projections.start();function uY(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Wc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Hc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function rP(e,t,i){var r=e.x,s=e.y,n=e.z?e.z:0,o,a,l,c;if(s<-he&&s>-1.001*he)s=-he;else if(s>he&&s<1.001*he)s=he;else{if(s<-he)return{x:-1/0,y:-1/0,z:e.z};if(s>he)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(s),c=Math.cos(s),l=a*a,o=i/Math.sqrt(1-t*l),{x:(o+n)*c*Math.cos(r),y:(o+n)*c*Math.sin(r),z:(o*(1-t)+n)*a}}function sP(e,t,i,r){var s=1e-12,n=s*s,o=30,a,l,c,f,d,p,y,v,b,E,S,T,w,_=e.x,M=e.y,I=e.z?e.z:0,C,P,N;if(a=Math.sqrt(_*_+M*M),l=Math.sqrt(_*_+M*M+I*I),a/i<s){if(C=0,l/i<s)return P=he,N=-r,{x:e.x,y:e.y,z:e.z}}else C=Math.atan2(M,_);c=I/l,f=a/l,d=1/Math.sqrt(1-t*(2-t)*f*f),v=f*(1-t)*d,b=c*d,w=0;do w++,y=i/Math.sqrt(1-t*b*b),N=a*v+I*b-y*(1-t*b*b),p=t*y/(y+N),d=1/Math.sqrt(1-p*(2-p)*f*f),E=f*(1-p)*d,S=c*d,T=S*v-E*b,v=E,b=S;while(T*T>n&&w<o);return P=Math.atan(S/Math.abs(E)),{x:C,y:P,z:N}}function hY(e,t,i){if(t===Wc)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(t===Hc){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-o*e.z)+s,z:c*(-a*e.x+o*e.y+e.z)+n}}}function fY(e,t,i){if(t===Wc)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(t===Hc){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6],f=(e.x-r)/c,d=(e.y-s)/c,p=(e.z-n)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function b0(e){return e===Wc||e===Hc}function dY(e,t,i){if(uY(e,t)||e.datum_type===Iw||t.datum_type===Iw)return i;var r=e.a,s=e.es;if(e.datum_type===vh){var n=A4(e,!1,i);if(n!==0)return;r=b4,s=_4}var o=t.a,a=t.b,l=t.es;if(t.datum_type===vh&&(o=b4,a=vH,l=_4),s===l&&r===o&&!b0(e.datum_type)&&!b0(t.datum_type))return i;if(i=rP(i,s,r),b0(e.datum_type)&&(i=hY(i,e.datum_type,e.datum_params)),b0(t.datum_type)&&(i=fY(i,t.datum_type,t.datum_params)),i=sP(i,l,o,a),t.datum_type===vh){var c=A4(t,!0,i);if(c!==0)return}return i}function A4(e,t,i){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-i.x,y:i.y},s={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(n.push(a.name),a.isNull){s=r;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,E=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>r.y||y>r.x||E<r.y||b<r.x)&&(s=pY(r,t,d),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*so+" "+r.y*so+" tried: '"+n+"'"),-1):(i.x=-s.x,i.y=s.y,0)}function pY(e,t,i){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var s={x:e.x,y:e.y};s.x-=i.ll[0],s.y-=i.ll[1],s.x=Se(s.x-Math.PI)+Math.PI;var n=T4(s,i);if(t){if(isNaN(n.x))return r;n.x=s.x-n.x,n.y=s.y-n.y;var o=9,a=1e-12,l,c;do{if(c=T4(n,i),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+n.x),y:s.y-(c.y+n.y)},n.x+=l.x,n.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Se(n.x+i.ll[0]),r.y=n.y+i.ll[1]}else isNaN(n.x)||(r.x=e.x+n.x,r.y=e.y+n.y);return r}function T4(e,t){var i={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},s={x:i.x-1*r.x,y:i.y-1*r.y},n={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return n;o=r.y*t.lim[0]+r.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var f={x:t.cvs[o][0],y:t.cvs[o][1]},d=s.x*s.y,p=s.x*(1-s.y),y=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return n.x=y*a.x+p*l.x+v*f.x+d*c.x,n.y=y*a.y+p*l.y+v*f.y+d*c.y,n}function M4(e,t,i){var r=i.x,s=i.y,n=i.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&i.z===void 0))switch(l===0?(o=r,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=s,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=n,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":i[a]!==void 0&&(c.z=o);break;case"d":i[a]!==void 0&&(c.z=-o);break;default:return null}return c}function nP(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function mY(e){I4(e.x),I4(e.y)}function I4(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function yY(e,t){return(e.datum.datum_type===Wc||e.datum.datum_type===Hc||e.datum.datum_type===vh)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Wc||t.datum.datum_type===Hc||t.datum.datum_type===vh)&&e.datumCode!=="WGS84"}function Ig(e,t,i,r){var s;Array.isArray(i)?i=nP(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var n=i.z!==void 0;if(mY(i),e.datum&&t.datum&&yY(e,t)&&(s=new uo("WGS84"),i=Ig(e,s,i,r),e=s),r&&e.axis!=="enu"&&(i=M4(e,!1,i)),e.projName==="longlat")i={x:i.x*sr,y:i.y*sr,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),i=e.inverse(i),!i)return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=dY(e.datum,t.datum,i),!!i)return t.from_greenwich&&(i={x:i.x-t.from_greenwich,y:i.y,z:i.z||0}),t.projName==="longlat"?i={x:i.x*so,y:i.y*so,z:i.z||0}:(i=t.forward(i),t.to_meter&&(i={x:i.x/t.to_meter,y:i.y/t.to_meter,z:i.z||0})),r&&t.axis!=="enu"?M4(t,!0,i):(i&&!n&&delete i.z,i)}var O4=uo("WGS84");function Vb(e,t,i,r){var s,n,o;return Array.isArray(i)?(s=Ig(e,t,i,r)||{x:NaN,y:NaN},i.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(i.slice(3)):[s.x,s.y,i[2]].concat(i.slice(3)):[s.x,s.y].concat(i.slice(2)):[s.x,s.y]):(n=Ig(e,t,i,r),o=Object.keys(i),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;n[a]=i[a]}),n)}function $4(e){return e instanceof uo?e:e.oProj?e.oProj:uo(e)}function Lt(e,t,i){e=$4(e);var r=!1,s;return typeof t>"u"?(t=e,e=O4,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(i=t,t=e,e=O4,r=!0),t=$4(t),i?Vb(e,t,i):(s={forward:function(n,o){return Vb(e,t,n,o)},inverse:function(n,o){return Vb(t,e,n,o)}},r&&(s.oProj=t),s)}var C4=6,oP="AJSAJS",aP="AFAFAF",th=65,Hr=73,Ls=79,Md=86,Id=90;const gY={forward:lP,inverse:vY,toPoint:cP};function lP(e,t){return t=t||5,wY(bY({lat:e[1],lon:e[0]}),t)}function vY(e){var t=KS(hP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function cP(e){var t=KS(hP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Bb(e){return e*(Math.PI/180)}function N4(e){return 180*(e/Math.PI)}function bY(e){var t=e.lat,i=e.lon,r=6378137,s=.00669438,n=.9996,o,a,l,c,f,d,p,y=Bb(t),v=Bb(i),b,E;E=Math.floor((i+180)/6)+1,i===180&&(E=60),t>=56&&t<64&&i>=3&&i<12&&(E=32),t>=72&&t<84&&(i>=0&&i<9?E=31:i>=9&&i<21?E=33:i>=21&&i<33?E=35:i>=33&&i<42&&(E=37)),o=(E-1)*6-180+3,b=Bb(o),a=s/(1-s),l=r/Math.sqrt(1-s*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-b),p=r*((1-s/4-3*s*s/64-5*s*s*s/256)*y-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*y)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*y)-35*s*s*s/3072*Math.sin(6*y));var S=n*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,T=n*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return t<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(S),zoneNumber:E,zoneLetter:_Y(t)}}function KS(e){var t=e.northing,i=e.easting,r=e.zoneLetter,s=e.zoneNumber;if(s<0||s>60)return null;var n=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,v,b,E,S,T,w=i-5e5,_=t;r<"N"&&(_-=1e7),E=(s-1)*6-180+3,l=a/(1-a),b=_/n,S=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=S+(3*c/2-27*c*c*c/32)*Math.sin(2*S)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*S)+151*c*c*c/96*Math.sin(6*S),f=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),v=w/(f*n);var M=T-f*Math.tan(T)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);M=N4(M);var I=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(T);I=E+N4(I);var C;if(e.accuracy){var P=KS({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});C={top:P.lat,right:P.lon,bottom:M,left:I}}else C={lat:M,lon:I};return C}function _Y(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function wY(e,t){var i="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+xY(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,t)+r.substr(r.length-5,t)}function xY(e,t,i){var r=uP(i),s=Math.floor(e/1e5),n=Math.floor(t/1e5)%20;return SY(s,n,r)}function uP(e){var t=e%C4;return t===0&&(t=C4),t}function SY(e,t,i){var r=i-1,s=oP.charCodeAt(r),n=aP.charCodeAt(r),o=s+e-1,a=n+t,l=!1;o>Id&&(o=o-Id+th-1,l=!0),(o===Hr||s<Hr&&o>Hr||(o>Hr||s<Hr)&&l)&&o++,(o===Ls||s<Ls&&o>Ls||(o>Ls||s<Ls)&&l)&&(o++,o===Hr&&o++),o>Id&&(o=o-Id+th-1),a>Md?(a=a-Md+th-1,l=!0):l=!1,(a===Hr||n<Hr&&a>Hr||(a>Hr||n<Hr)&&l)&&a++,(a===Ls||n<Ls&&a>Ls||(a>Ls||n<Ls)&&l)&&(a++,a===Hr&&a++),a>Md&&(a=a-Md+th-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function hP(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,i=null,r="",s,n=0;!/[A-Z]/.test(s=e.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+e;r+=s,n++}var o=parseInt(r,10);if(n===0||n+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(n++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;i=e.substring(n,n+=2);for(var l=uP(o),c=EY(i.charAt(0),l),f=AY(i.charAt(1),l);f<TY(a);)f+=2e6;var d=t-n;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,v=0,b,E,S,T,w;return p>0&&(b=1e5/Math.pow(10,p),E=e.substring(n,n+p),y=parseFloat(E)*b,S=e.substring(n+p),v=parseFloat(S)*b),T=y+c,w=v+f,{easting:T,northing:w,zoneLetter:a,zoneNumber:o,accuracy:b}}function EY(e,t){for(var i=oP.charCodeAt(t-1),r=1e5,s=!1;i!==e.charCodeAt(0);){if(i++,i===Hr&&i++,i===Ls&&i++,i>Id){if(s)throw"Bad character: "+e;i=th,s=!0}r+=1e5}return r}function AY(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=aP.charCodeAt(t-1),r=0,s=!1;i!==e.charCodeAt(0);){if(i++,i===Hr&&i++,i===Ls&&i++,i>Md){if(s)throw"Bad character: "+e;i=th,s=!0}r+=1e5}return r}function TY(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Uh(e,t,i){if(!(this instanceof Uh))return new Uh(e,t,i);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Uh.fromMGRS=function(e){return new Uh(cP(e))};Uh.prototype.toMGRS=function(e){return lP([this.x,this.y],e)};var MY=1,IY=.25,P4=.046875,L4=.01953125,k4=.01068115234375,OY=.75,$Y=.46875,CY=.013020833333333334,NY=.007120768229166667,PY=.3645833333333333,LY=.005696614583333333,kY=.3076171875;function XS(e){var t=[];t[0]=MY-e*(IY+e*(P4+e*(L4+e*k4))),t[1]=e*(OY-e*(P4+e*(L4+e*k4)));var i=e*e;return t[2]=i*($Y-e*(CY+e*NY)),i*=e,t[3]=i*(PY-e*LY),t[4]=i*e*kY,t}function If(e,t,i,r){return i*=t,t*=t,r[0]*e-i*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var RY=20;function QS(e,t,i){for(var r=1/(1-t),s=e,n=RY;n;--n){var o=Math.sin(s),a=1-t*o*o;if(a=(If(s,o,Math.cos(s),i)-e)*(a*Math.sqrt(a))*r,s-=a,Math.abs(a)<be)return s}return s}function DY(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=XS(this.es),this.ml0=If(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function FY(e){var t=e.x,i=e.y,r=Se(t-this.long0),s,n,o,a=Math.sin(i),l=Math.cos(i);if(this.es){var f=l*r,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>be?Math.tan(i):0,b=Math.pow(v,2),E=Math.pow(b,2);s=1-this.es*Math.pow(a,2),f=f/Math.sqrt(s);var S=If(i,a,l,this.en);n=this.a*(this.k0*f*(1+d/6*(1-b+p+d/20*(5-18*b+E+14*p-58*b*p+d/42*(61+179*E-E*b-479*b)))))+this.x0,o=this.a*(this.k0*(S-this.ml0+a*r*f/2*(1+d/12*(5-b+9*p+4*y+d/30*(61+E-58*b+270*p-330*b*p+d/56*(1385+543*E-E*b-3111*b))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<be)return 93;if(n=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>be)return 93;o=0}else o=Math.acos(o);i<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=n,e.y=o,e}function UY(e){var t,i,r,s,n=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,i=QS(t,this.es,this.en),Math.abs(i)<he){var d=Math.sin(i),p=Math.cos(i),y=Math.abs(p)>be?Math.tan(i):0,v=this.ep2*Math.pow(p,2),b=Math.pow(v,2),E=Math.pow(y,2),S=Math.pow(E,2);t=1-this.es*Math.pow(d,2);var T=n*Math.sqrt(t)/this.k0,w=Math.pow(T,2);t=t*y,r=i-t*w/(1-this.es)*.5*(1-w/12*(5+3*E-9*v*E+v-4*b-w/30*(61+90*E-252*v*E+45*S+46*v-w/56*(1385+3633*E+4095*S+1574*S*E)))),s=Se(this.long0+T*(1-w/6*(1+2*E+v-w/20*(5+28*E+24*S+8*v*E+6*v-w/42*(61+662*E+1320*S+720*S*E))))/p)}else r=he*Im(o),s=0;else{var a=Math.exp(n/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);t=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(t),o<0&&(r=-r),l===0&&f===0?s=0:s=Se(Math.atan2(l,f)+this.long0)}return e.x=s,e.y=r,e}var jY=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Cy={init:DY,forward:FY,inverse:UY,names:jY};function fP(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function Xr(e,t){e=Math.abs(e),t=Math.abs(t);var i=Math.max(e,t),r=Math.min(e,t)/(i||1);return i*Math.sqrt(1+Math.pow(r,2))}function VY(e){var t=1+e,i=t-1;return i===0?e:e*Math.log(t)/i}function BY(e){var t=Math.abs(e);return t=VY(t*(1+t/(Xr(1,t)+1))),e<0?-t:t}function eE(e,t){for(var i=2*Math.cos(2*t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return t+o*Math.sin(2*t)}function GY(e,t){for(var i=2*Math.cos(t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return Math.sin(t)*o}function zY(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function dP(e,t,i){for(var r=Math.sin(t),s=Math.cos(t),n=fP(i),o=zY(i),a=2*s*o,l=-2*r*n,c=e.length-1,f=e[c],d=0,p=0,y=0,v,b;--c>=0;)v=p,b=d,p=f,d=y,f=-v+a*p-l*d+e[c],y=-b+l*p+a*d;return a=r*o,l=s*n,[a*f-l*y,a*y+l*f]}function qY(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Cy.init.apply(this),this.forward=Cy.forward,this.inverse=Cy.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),i=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),i=i*t,this.cgb[1]=i*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=i*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),i=i*t,this.cgb[2]=i*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=i*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),i=i*t,this.cgb[3]=i*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=i*(1237/630+t*(-12/5+t*(-24832/14175))),i=i*t,this.cgb[4]=i*(4174/315+t*(-144838/6237)),this.cbg[4]=i*(-734/315+t*(109598/31185)),i=i*t,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=i*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=i*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),i=i*t,this.utg[2]=i*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=i*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),i=i*t,this.utg[3]=i*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=i*(49561/161280+t*(-179/168+t*(6601661/7257600))),i=i*t,this.utg[4]=i*(-4583/161280+t*(108847/3991680)),this.gtu[4]=i*(34729/80640+t*(-3418889/1995840)),i=i*t,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var r=eE(this.cbg,this.lat0);this.Zb=-this.Qn*(r+GY(this.gtu,2*r))}function WY(e){var t=Se(e.x-this.long0),i=e.y;i=eE(this.cbg,i);var r=Math.sin(i),s=Math.cos(i),n=Math.sin(t),o=Math.cos(t);i=Math.atan2(r,o*s),t=Math.atan2(n*s,Xr(r,s*o)),t=BY(Math.tan(t));var a=dP(this.gtu,2*i,2*t);i=i+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*i+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function HY(e){var t=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,t=t/this.Qn;var r,s;if(Math.abs(t)<=2.623395162778){var n=dP(this.utg,2*i,2*t);i=i+n[0],t=t+n[1],t=Math.atan(fP(t));var o=Math.sin(i),a=Math.cos(i),l=Math.sin(t),c=Math.cos(t);i=Math.atan2(o*c,Xr(l,c*a)),t=Math.atan2(l,c*a),r=Se(t+this.long0),s=eE(this.cgb,i)}else r=1/0,s=1/0;return e.x=r,e.y=s,e}var YY=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Ny={init:qY,forward:WY,inverse:HY,names:YY};function JY(e,t){if(e===void 0){if(e=Math.floor((Se(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var ZY="etmerc";function KY(){var e=JY(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*sr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ny.init.apply(this),this.forward=Ny.forward,this.inverse=Ny.inverse}var XY=["Universal Transverse Mercator System","utm"];const QY={init:KY,names:XY,dependsOn:ZY};function tE(e,t){return Math.pow((1-e)/(1+e),t)}var eJ=20;function tJ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+wt)/(Math.pow(Math.tan(.5*this.lat0+wt),this.C)*tE(this.e*e,this.ratexp))}function iJ(e){var t=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+wt),this.C)*tE(this.e*Math.sin(i),this.ratexp))-he,e.x=this.C*t,e}function rJ(e){for(var t=1e-14,i=e.x/this.C,r=e.y,s=Math.pow(Math.tan(.5*r+wt)/this.K,1/this.C),n=eJ;n>0&&(r=2*Math.atan(s*tE(this.e*Math.sin(e.y),-.5*this.e))-he,!(Math.abs(r-e.y)<t));--n)e.y=r;return n?(e.x=i,e.y=r,e):null}var sJ=["gauss"];const iE={init:tJ,forward:iJ,inverse:rJ,names:sJ};function nJ(){iE.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function oJ(e){var t,i,r,s;return e.x=Se(e.x-this.long0),iE.forward.apply(this,[e]),t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*i*r),e.x=s*i*Math.sin(e.x),e.y=s*(this.cosc0*t-this.sinc0*i*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function aJ(e){var t,i,r,s,n;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,n=Xr(e.x,e.y)){var o=2*Math.atan2(n,this.R2);t=Math.sin(o),i=Math.cos(o),s=Math.asin(i*this.sinc0+e.y*t*this.cosc0/n),r=Math.atan2(e.x*t,n*this.cosc0*i-e.y*this.sinc0*t)}else s=this.phic0,r=0;return e.x=r,e.y=s,iE.inverse.apply(this,[e]),e.x=Se(e.x+this.long0),e}var lJ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const cJ={init:nJ,forward:oJ,inverse:aJ,names:lJ};function uJ(e,t,i){return t*=i,Math.tan(.5*(he+e))*Math.pow((1-t)/(1+t),.5*i)}function hJ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&(this.k0=.5*(1+Im(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=be&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&Math.abs(Math.cos(this.lat_ts))>be&&(this.k0=.5*this.cons*wo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/_n(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=wo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-he,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function fJ(e){var t=e.x,i=e.y,r=Math.sin(i),s=Math.cos(i),n,o,a,l,c,f,d=Se(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=be&&Math.abs(i+this.lat0)<=be?(e.x=NaN,e.y=NaN,e):this.sphere?(n=2*this.k0/(1+this.sinlat0*r+this.coslat0*s*Math.cos(d)),e.x=this.a*n*s*Math.sin(d)+this.x0,e.y=this.a*n*(this.coslat0*r-this.sinlat0*s*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(i,r,this.e))-he,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=be?(c=_n(this.e,i*this.con,this.con*r),f=2*this.a*this.k0*c/this.cons,e.x=this.x0+f*Math.sin(t-this.long0),e.y=this.y0-this.con*f*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<be?(n=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=n*a):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=n*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=n*l*Math.sin(d)+this.x0,e))}function dJ(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,i=this.lat0,o<=be?(e.x=t,e.y=i,e):(i=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<be?this.lat0>0?t=Se(this.long0+Math.atan2(e.x,-1*e.y)):t=Se(this.long0+Math.atan2(e.x,e.y)):t=Se(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=i,e)}else if(Math.abs(this.coslat0)<=be){if(o<=be)return i=this.lat0,t=this.long0,e.x=t,e.y=i,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),i=this.con*Dp(this.e,r),t=this.con*Se(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=be?n=this.X0:(n=Math.asin(Math.cos(s)*this.sinX0+e.y*Math.sin(s)*this.cosX0/o),t=Se(this.long0+Math.atan2(e.x*Math.sin(s),o*this.cosX0*Math.cos(s)-e.y*this.sinX0*Math.sin(s)))),i=-1*Dp(this.e,Math.tan(.5*(he+n)));return e.x=t,e.y=i,e}var pJ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const mJ={init:hJ,forward:fJ,inverse:dJ,names:pJ,ssfn_:uJ};function yJ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),i=this.a,r=this.rf,s=1/r,n=2*s-Math.pow(s,2),o=this.e=Math.sqrt(n);this.R=this.k0*i*Math.sqrt(1-n)/(1-n*Math.pow(t,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function gJ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+i)+this.K,s=2*(Math.atan(Math.exp(r))-Math.PI/4),n=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function vJ(e){for(var t=e.x-this.x0,i=e.y-this.y0,r=t/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,l=0,c=n,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var bJ=["somerc"];const _J={init:yJ,forward:gJ,inverse:vJ,names:bJ};var Bu=1e-7;function wJ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(i)!==-1}function xJ(){var e,t,i,r,s,n,o,a,l,c,f=0,d,p=0,y=0,v=0,b=0,E=0,S=0;this.no_off=wJ(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),T&&(S=this.alpha),w&&(f=this.rectified_grid_angle*sr),T||w)p=this.longc;else if(y=this.long1,b=this.lat1,v=this.long2,E=this.lat2,Math.abs(b-E)<=Bu||(e=Math.abs(b))<=Bu||Math.abs(e-he)<=Bu||Math.abs(Math.abs(this.lat0)-he)<=Bu||Math.abs(Math.abs(E)-he)<=Bu)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>be?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),e=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,r=this.B*t/(i*Math.sqrt(e)),s=r*r-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=r,this.E*=Math.pow(_n(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=s=1),T||w?(T?(d=Math.asin(Math.sin(S)/r),w||(f=S)):(d=f,S=Math.asin(r*Math.sin(d))),this.lam0=p-Math.asin(.5*(s-1/s)*Math.tan(d))/this.B):(n=Math.pow(_n(this.e,b,Math.sin(b)),this.B),o=Math.pow(_n(this.e,E,Math.sin(E)),this.B),s=this.E/n,l=(o-n)/(o+n),c=this.E*this.E,c=(c-o*n)/(c+o*n),e=y-v,e<-Math.pi?v-=kp:e>Math.pi&&(v+=kp),this.lam0=Se(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Se(y-this.lam0))/(s-1/s)),f=S=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(S))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(wt-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(wt+s))}function SJ(e){var t={},i,r,s,n,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-he)>be){if(o=this.E/Math.pow(_n(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,i=.5*(o-a),r=.5*(o+a),n=Math.sin(this.B*e.x),s=(i*this.singam-n*this.cosgam)/r,Math.abs(Math.abs(s)-1)<be)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),a=Math.cos(this.B*e.x),Math.abs(a)<Bu?l=this.A*e.x:l=this.ArB*Math.atan2(i*this.cosgam+n*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function EJ(e){var t,i,r,s,n,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(i=e.y,t=e.x):(i=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*i),s=.5*(r-1/r),n=.5*(r+1/r),o=Math.sin(this.BrA*t),a=(o*this.cosgam+s*this.singam)/n,Math.abs(Math.abs(a)-1)<be)l.x=0,l.y=a<0?-he:he;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Dp(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var AJ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const TJ={init:xJ,forward:SJ,inverse:EJ,names:AJ};function MJ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<be)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),i=Math.cos(this.lat1),r=wo(this.e,t,i),s=_n(this.e,this.lat1,t),n=Math.sin(this.lat2),o=Math.cos(this.lat2),a=wo(this.e,n,o),l=_n(this.e,this.lat2,n),c=_n(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>be?this.ns=Math.log(r/a)/Math.log(s/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function IJ(e){var t=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=be&&(i=Im(i)*(he-2*be));var r=Math.abs(Math.abs(i)-he),s,n;if(r>be)s=_n(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(s,this.ns);else{if(r=i*this.ns,r<=0)return null;n=0}var o=this.ns*Se(t-this.long0);return e.x=this.k0*(n*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,e}function OJ(e){var t,i,r,s,n,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),i=1):(t=-Math.sqrt(o*o+a*a),i=-1);var l=0;if(t!==0&&(l=Math.atan2(i*o,i*a)),t!==0||this.ns>0){if(i=1/this.ns,r=Math.pow(t/(this.a*this.f0),i),s=Dp(this.e,r),s===-9999)return null}else s=-he;return n=Se(l/this.ns+this.long0),e.x=n,e.y=s,e}var $J=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const CJ={init:MJ,forward:IJ,inverse:OJ,names:$J};function NJ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function PJ(e){var t,i,r,s,n,o,a,l=e.x,c=e.y,f=Se(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-f*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(s)),o=this.n*n,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function LJ(e){var t,i,r,s,n,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.atan2(e.y,e.x),s=n/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(s)),i=Math.asin(Math.cos(r)*Math.sin(s)/Math.cos(t)),e.x=this.long0-i/this.alfa,a=t,l=0;var f=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,f+=1;while(l===0&&f<15);return f>=15?null:e}var kJ=["Krovak","krovak"];const RJ={init:NJ,forward:PJ,inverse:LJ,names:kJ};function Fr(e,t,i,r,s){return e*s-t*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)}function Om(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function $m(e){return .375*e*(1+.25*e*(1+.46875*e))}function Cm(e){return .05859375*e*e*(1+.75*e)}function Nm(e){return e*e*e*(35/3072)}function jh(e,t,i){var r=t*i;return e/Math.sqrt(1-r*r)}function Tl(e){return Math.abs(e)<he?e:e-Im(e)*Math.PI}function Og(e,t,i,r,s){var n,o;n=e/t;for(var a=0;a<15;a++)if(o=(e-(t*n-i*Math.sin(2*n)+r*Math.sin(4*n)-s*Math.sin(6*n)))/(t-2*i*Math.cos(2*n)+4*r*Math.cos(4*n)-6*s*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function DJ(){this.sphere||(this.e0=Om(this.es),this.e1=$m(this.es),this.e2=Cm(this.es),this.e3=Nm(this.es),this.ml0=this.a*Fr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function FJ(e){var t,i,r=e.x,s=e.y;if(r=Se(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(s)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(r))-this.lat0);else{var n=Math.sin(s),o=Math.cos(s),a=jh(this.a,this.e,n),l=Math.tan(s)*Math.tan(s),c=r*Math.cos(s),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Fr(this.e0,this.e1,this.e2,this.e3,s);t=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),i=p-this.ml0+a*n/o*f*(.5+(5-l+6*d)*f/24)}return e.x=t+this.x0,e.y=i+this.y0,e}function UJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s;if(this.sphere){var n=i+this.lat0;r=Math.asin(Math.sin(n)*Math.cos(t)),s=Math.atan2(Math.tan(t),Math.cos(n))}else{var o=this.ml0/this.a+i,a=Og(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-he)<=be)return e.x=this.long0,e.y=he,i<0&&(e.y*=-1),e;var l=jh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;r=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),s=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return e.x=Se(s+this.long0),e.y=Tl(r),e}var jJ=["Cassini","Cassini_Soldner","cass"];const VJ={init:DJ,forward:FJ,inverse:UJ,names:jJ};function ul(e,t){var i;return e>1e-7?(i=e*t,(1-e*e)*(t/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*t}var BJ=1,GJ=2,zJ=3,qJ=4;function WJ(){var e=Math.abs(this.lat0);if(Math.abs(e-he)<be?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<be?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=ul(this.e,1),this.mmf=.5/(1-this.es),this.apa=tZ(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ul(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function HJ(e){var t,i,r,s,n,o,a,l,c,f,d=e.x,p=e.y;if(d=Se(d-this.long0),this.sphere){if(n=Math.sin(p),f=Math.cos(p),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+f*r:1+this.sinph0*n+this.cosph0*f*r,i<=be)return null;i=Math.sqrt(2/i),t=i*f*Math.sin(d),i*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<be)return null;i=wt-p*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),t=i*Math.sin(d),i*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),s=Math.sin(d),n=Math.sin(p),o=ul(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=he+p,o=this.qp-o;break;case this.S_POLE:c=p-he,o=this.qp+o;break}if(Math.abs(c)<be)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?i=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):i=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*s,i=r*(this.mode===this.S_POLE?c:-c)):t=i=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*i+this.y0,e}function YJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s,n,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(t*t+i*i),s=d*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(s),f=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(d)<=be?0:Math.asin(i*p/d),t*=p,i=f*d;break;case this.OBLIQ:s=Math.abs(d)<=be?this.lat0:Math.asin(f*this.sinph0+i*p*this.cosph0/d),t*=p*this.cosph0,i=(f-Math.sin(s)*this.sinph0)*d;break;case this.N_POLE:i=-i,s=he-s;break;case this.S_POLE:s-=he;break}r=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,i)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,i*=this.dd,l=Math.sqrt(t*t+i*i),l<be)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),n=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=n*this.sinb1+i*o*this.cosb1/l,a=this.qp*c,i=l*this.cosb1*n-i*this.sinb1*o):(c=i*o/l,a=this.qp*c,i=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),a=t*t+i*i,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,i),s=iZ(Math.asin(c),this.apa)}return e.x=Se(this.long0+r),e.y=s,e}var JJ=.3333333333333333,ZJ=.17222222222222222,KJ=.10257936507936508,XJ=.06388888888888888,QJ=.0664021164021164,eZ=.016415012942191543;function tZ(e){var t,i=[];return i[0]=e*JJ,t=e*e,i[0]+=t*ZJ,i[1]=t*XJ,t*=e,i[0]+=t*KJ,i[1]+=t*QJ,i[2]=t*eZ,i}function iZ(e,t){var i=e+e;return e+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)}var rZ=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const sZ={init:WJ,forward:HJ,inverse:YJ,names:rZ,S_POLE:BJ,N_POLE:GJ,EQUIT:zJ,OBLIQ:qJ};function vl(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function nZ(){Math.abs(this.lat1+this.lat2)<be||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=wo(this.e3,this.sin_po,this.cos_po),this.qs1=ul(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=wo(this.e3,this.sin_po,this.cos_po),this.qs2=ul(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ul(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>be?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function oZ(e){var t=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var r=ul(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,n=this.ns0*Se(t-this.long0),o=s*Math.sin(n)+this.x0,a=this.rh-s*Math.cos(n)+this.y0;return e.x=o,e.y=a,e}function aZ(e){var t,i,r,s,n,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),s=0,t!==0&&(s=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,i)),n=Se(s/this.ns0+this.long0),e.x=n,e.y=o,e}function lZ(e,t){var i,r,s,n,o,a=vl(.5*t);if(e<be)return a;for(var l=e*e,c=1;c<=25;c++)if(i=Math.sin(a),r=Math.cos(a),s=e*i,n=1-s*s,o=.5*n*n/r*(t/(1-l)-i/n+.5/e*Math.log((1-s)/(1+s))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var cZ=["Albers_Conic_Equal_Area","Albers","aea"];const uZ={init:nZ,forward:oZ,inverse:aZ,names:cZ,phi1z:lZ};function hZ(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function fZ(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=Se(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,o>0||Math.abs(o)<=be?(a=this.x0+this.a*n*i*Math.sin(r)/o,l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)/o):(a=this.x0+this.infinity_dist*i*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function dZ(e){var t,i,r,s,n,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(s=Math.atan2(t,this.rc),i=Math.sin(s),r=Math.cos(s),o=vl(r*this.sin_p14+e.y*i*this.cos_p14/t),n=Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i),n=Se(this.long0+n)):(o=this.phic0,n=0),e.x=n,e.y=o,e}var pZ=["gnom"];const mZ={init:hZ,forward:fZ,inverse:dZ,names:pZ};function yZ(e,t){var i=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-i)<1e-6)return t<0?-1*he:he;for(var r=Math.asin(.5*t),s,n,o,a,l=0;l<30;l++)if(n=Math.sin(r),o=Math.cos(r),a=e*n,s=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-n/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),r+=s,Math.abs(s)<=1e-10)return r;return NaN}function gZ(){this.sphere||(this.k0=wo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function vZ(e){var t=e.x,i=e.y,r,s,n=Se(t-this.long0);if(this.sphere)r=this.x0+this.a*n*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=ul(this.e,Math.sin(i));r=this.x0+this.a*this.k0*n,s=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=s,e}function bZ(e){e.x-=this.x0,e.y-=this.y0;var t,i;return this.sphere?(t=Se(this.long0+e.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=yZ(this.e,2*e.y*this.k0/this.a),t=Se(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=i,e}var _Z=["cea"];const wZ={init:gZ,forward:vZ,inverse:bZ,names:_Z};function xZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function SZ(e){var t=e.x,i=e.y,r=Se(t-this.long0),s=Tl(i-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*s,e}function EZ(e){var t=e.x,i=e.y;return e.x=Se(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Tl(this.lat0+(i-this.y0)/this.a),e}var AZ=["Equirectangular","Equidistant_Cylindrical","eqc"];const TZ={init:xZ,forward:SZ,inverse:EZ,names:AZ};var R4=20;function MZ(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Om(this.es),this.e1=$m(this.es),this.e2=Cm(this.es),this.e3=Nm(this.es),this.ml0=this.a*Fr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function IZ(e){var t=e.x,i=e.y,r,s,n,o=Se(t-this.long0);if(n=o*Math.sin(i),this.sphere)Math.abs(i)<=be?(r=this.a*o,s=-1*this.a*this.lat0):(r=this.a*Math.sin(n)/Math.tan(i),s=this.a*(Tl(i-this.lat0)+(1-Math.cos(n))/Math.tan(i)));else if(Math.abs(i)<=be)r=this.a*o,s=-1*this.ml0;else{var a=jh(this.a,this.e,Math.sin(i))/Math.tan(i);r=a*Math.sin(n),s=this.a*Fr(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*(1-Math.cos(n))}return e.x=r+this.x0,e.y=s+this.y0,e}function OZ(e){var t,i,r,s,n,o,a,l,c;if(r=e.x-this.x0,s=e.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=be)t=Se(r/this.a+this.long0),i=0;else{o=this.lat0+s/this.a,a=r*r/this.a/this.a+o*o,l=o;var f;for(n=R4;n;--n)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=be){i=l;break}t=Se(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=be)i=0,t=Se(this.long0+r/this.a);else{o=(this.ml0+s)/this.a,a=r*r/this.a/this.a+o*o,l=o;var d,p,y,v,b;for(n=R4;n;--n)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),p=this.a*Fr(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=be){i=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),t=Se(this.long0+Math.asin(r*d/this.a)/Math.sin(i))}return e.x=t,e.y=i,e}var $Z=["Polyconic","poly"];const CZ={init:MZ,forward:IZ,inverse:OZ,names:$Z};function NZ(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function PZ(e){var t,i=e.x,r=e.y,s=r-this.lat0,n=i-this.long0,o=s/zd*1e-5,a=n,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var f=c,d=a,p=1,y=0,v,b,E=0,S=0;for(t=1;t<=6;t++)v=p*f-y*d,b=y*f+p*d,p=v,y=b,E=E+this.B_re[t]*p-this.B_im[t]*y,S=S+this.B_im[t]*p+this.B_re[t]*y;return e.x=S*this.a+this.x0,e.y=E*this.a+this.y0,e}function LZ(e){var t,i=e.x,r=e.y,s=i-this.x0,n=r-this.y0,o=n/this.a,a=s/this.a,l=1,c=0,f,d,p=0,y=0;for(t=1;t<=6;t++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var v=0;v<this.iterations;v++){var b=p,E=y,S,T,w=o,_=a;for(t=2;t<=6;t++)S=b*p-E*y,T=E*p+b*y,b=S,E=T,w=w+(t-1)*(this.B_re[t]*b-this.B_im[t]*E),_=_+(t-1)*(this.B_im[t]*b+this.B_re[t]*E);b=1,E=0;var M=this.B_re[1],I=this.B_im[1];for(t=2;t<=6;t++)S=b*p-E*y,T=E*p+b*y,b=S,E=T,M=M+t*(this.B_re[t]*b-this.B_im[t]*E),I=I+t*(this.B_im[t]*b+this.B_re[t]*E);var C=M*M+I*I;p=(w*M+_*I)/C,y=(_*M-w*I)/C}var P=p,N=y,U=1,j=0;for(t=1;t<=9;t++)U=U*P,j=j+this.D[t]*U;var F=this.lat0+j*zd*1e5,q=this.long0+N;return e.x=q,e.y=F,e}var kZ=["New_Zealand_Map_Grid","nzmg"];const RZ={init:NZ,forward:PZ,inverse:LZ,names:kZ};function DZ(){}function FZ(e){var t=e.x,i=e.y,r=Se(t-this.long0),s=this.x0+this.a*r,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=s,e.y=n,e}function UZ(e){e.x-=this.x0,e.y-=this.y0;var t=Se(this.long0+e.x/this.a),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=i,e}var jZ=["Miller_Cylindrical","mill"];const VZ={init:DZ,forward:FZ,inverse:UZ,names:jZ};var BZ=20;function GZ(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=XS(this.es)}function zZ(e){var t,i,r=e.x,s=e.y;if(r=Se(r-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var n=this.n*Math.sin(s),o=BZ;o;--o){var a=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=a,Math.abs(a)<be)break}t=this.a*this.C_x*r*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);i=this.a*If(s,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=i,e}function qZ(e){var t,i,r,s;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=vl((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=vl(Math.sin(t)/this.n)),r=Se(r+this.long0),t=Tl(t)):(t=QS(e.y/this.a,this.es,this.en),s=Math.abs(t),s<he?(s=Math.sin(t),i=this.long0+e.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(t)),r=Se(i)):s-be<he&&(r=this.long0)),e.x=r,e.y=t,e}var WZ=["Sinusoidal","sinu"];const HZ={init:GZ,forward:zZ,inverse:qZ,names:WZ};function YZ(){}function JZ(e){for(var t=e.x,i=e.y,r=Se(t-this.long0),s=i,n=Math.PI*Math.sin(i);;){var o=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=o,Math.abs(o)<be)break}s/=2,Math.PI/2-Math.abs(i)<be&&(r=0);var a=.900316316158*this.a*r*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return e.x=a,e.y=l,e}function ZZ(e){var t,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),t=Math.asin(i);var r=Se(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*t+Math.sin(2*t))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return e.x=r,e.y=s,e}var KZ=["Mollweide","moll"];const XZ={init:YZ,forward:JZ,inverse:ZZ,names:KZ};function QZ(){Math.abs(this.lat1+this.lat2)<be||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Om(this.es),this.e1=$m(this.es),this.e2=Cm(this.es),this.e3=Nm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=wo(this.e,this.sinphi,this.cosphi),this.ml1=Fr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<be?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=wo(this.e,this.sinphi,this.cosphi),this.ml2=Fr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Fr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function eK(e){var t=e.x,i=e.y,r;if(this.sphere)r=this.a*(this.g-i);else{var s=Fr(this.e0,this.e1,this.e2,this.e3,i);r=this.a*(this.g-s)}var n=this.ns*Se(t-this.long0),o=this.x0+r*Math.sin(n),a=this.y0+this.rh-r*Math.cos(n);return e.x=o,e.y=a,e}function tK(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i,r,s;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var n=0;if(i!==0&&(n=Math.atan2(t*e.x,t*e.y)),this.sphere)return s=Se(this.long0+n/this.ns),r=Tl(this.g-i/this.a),e.x=s,e.y=r,e;var o=this.g-i/this.a;return r=Og(o,this.e0,this.e1,this.e2,this.e3),s=Se(this.long0+n/this.ns),e.x=s,e.y=r,e}var iK=["Equidistant_Conic","eqdc"];const rK={init:QZ,forward:eK,inverse:tK,names:iK};function sK(){this.R=this.a}function nK(e){var t=e.x,i=e.y,r=Se(t-this.long0),s,n;Math.abs(i)<=be&&(s=this.x0+this.R*r,n=this.y0);var o=vl(2*Math.abs(i/Math.PI));(Math.abs(r)<=be||Math.abs(Math.abs(i)-he)<=be)&&(s=this.x0,i>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),v=y*y,b=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);r<0&&(b=-b),s=this.x0+b;var E=l+d;return b=Math.PI*this.R*(y*E-a*Math.sqrt((v+l)*(l+1)-E*E))/(v+l),i>=0?n=this.y0+b:n=this.y0-b,e.x=s,e.y=n,e}function oK(e){var t,i,r,s,n,o,a,l,c,f,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,r=e.x/d,s=e.y/d,n=r*r+s*s,o=-Math.abs(s)*(1+n),a=o-2*s*s+r*r,l=-2*o+1+2*s*s+n*n,y=s*s/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?i=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:i=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<be?t=this.long0:t=Se(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(r*r-s*s)+n*n))/2/r),e.x=t,e.y=i,e}var aK=["Van_der_Grinten_I","VanDerGrinten","vandg"];const lK={init:sK,forward:nK,inverse:oK,names:aK};function cK(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function uK(e){var t=e.x,i=e.y,r=Math.sin(e.y),s=Math.cos(e.y),n=Se(t-this.long0),o,a,l,c,f,d,p,y,v,b,E,S,T,w,_,M,I,C,P,N,U,j,F;return this.sphere?Math.abs(this.sin_p12-1)<=be?(e.x=this.x0+this.a*(he-i)*Math.sin(n),e.y=this.y0-this.a*(he-i)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=be?(e.x=this.x0+this.a*(he+i)*Math.sin(n),e.y=this.y0+this.a*(he+i)*Math.cos(n),e):(C=this.sin_p12*r+this.cos_p12*s*Math.cos(n),M=Math.acos(C),I=M?M/Math.sin(M):1,e.x=this.x0+this.a*I*s*Math.sin(n),e.y=this.y0+this.a*I*(this.cos_p12*r-this.sin_p12*s*Math.cos(n)),e):(o=Om(this.es),a=$m(this.es),l=Cm(this.es),c=Nm(this.es),Math.abs(this.sin_p12-1)<=be?(f=this.a*Fr(o,a,l,c,he),d=this.a*Fr(o,a,l,c,i),e.x=this.x0+(f-d)*Math.sin(n),e.y=this.y0-(f-d)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=be?(f=this.a*Fr(o,a,l,c,he),d=this.a*Fr(o,a,l,c,i),e.x=this.x0+(f+d)*Math.sin(n),e.y=this.y0+(f+d)*Math.cos(n),e):(p=r/s,y=jh(this.a,this.e,this.sin_p12),v=jh(this.a,this.e,r),b=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*s)),E=Math.atan2(Math.sin(n),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(n)),E===0?P=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(E)-Math.PI)<=be?P=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):P=Math.asin(Math.sin(n)*Math.cos(b)/Math.sin(E)),S=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(E)/Math.sqrt(1-this.es),w=S*T,_=T*T,N=P*P,U=N*P,j=U*P,F=j*P,M=y*P*(1-N*_*(1-_)/6+U/8*w*(1-2*_)+j/120*(_*(4-7*_)-3*S*S*(1-7*_))-F/48*w),e.x=this.x0+M*Math.sin(E),e.y=this.y0+M*Math.cos(E),e))}function hK(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o,a,l,c,f,d,p,y,v,b,E,S,T,w,_,M,I,C,P;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*he*this.a?void 0:(i=t/this.a,r=Math.sin(i),s=Math.cos(i),n=this.long0,Math.abs(t)<=be?o=this.lat0:(o=vl(s*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-he,Math.abs(a)<=be?this.lat0>=0?n=Se(this.long0+Math.atan2(e.x,-e.y)):n=Se(this.long0-Math.atan2(-e.x,e.y)):n=Se(this.long0+Math.atan2(e.x*r,t*this.cos_p12*s-e.y*this.sin_p12*r))),e.x=n,e.y=o,e)):(l=Om(this.es),c=$m(this.es),f=Cm(this.es),d=Nm(this.es),Math.abs(this.sin_p12-1)<=be?(p=this.a*Fr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=Og(y/this.a,l,c,f,d),n=Se(this.long0+Math.atan2(e.x,-1*e.y)),e.x=n,e.y=o,e):Math.abs(this.sin_p12+1)<=be?(p=this.a*Fr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=Og(y/this.a,l,c,f,d),n=Se(this.long0+Math.atan2(e.x,e.y)),e.x=n,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),E=Math.atan2(e.x,e.y),v=jh(this.a,this.e,this.sin_p12),S=Math.cos(E),T=this.e*this.cos_p12*S,w=-T*T/(1-this.es),_=3*this.es*(1-w)*this.sin_p12*this.cos_p12*S/(1-this.es),M=t/v,I=M-w*(1+w)*Math.pow(M,3)/6-_*(1+3*w)*Math.pow(M,4)/24,C=1-w*I*I/2-M*I*I*I/6,b=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*S),n=Se(this.long0+Math.asin(Math.sin(E)*Math.sin(I)/Math.cos(b))),P=Math.sin(b),o=Math.atan2((P-this.es*C*this.sin_p12)*Math.tan(b),P*(1-this.es)),e.x=n,e.y=o,e))}var fK=["Azimuthal_Equidistant","aeqd"];const dK={init:cK,forward:uK,inverse:hK,names:fK};function pK(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function mK(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=Se(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,(o>0||Math.abs(o)<=be)&&(a=this.a*n*i*Math.sin(r),l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function yK(e){var t,i,r,s,n,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),i=vl(t/this.a),r=Math.sin(i),s=Math.cos(i),o=this.long0,Math.abs(t)<=be?(a=this.lat0,e.x=o,e.y=a,e):(a=vl(s*this.sin_p14+e.y*r*this.cos_p14/t),n=Math.abs(this.lat0)-he,Math.abs(n)<=be?(this.lat0>=0?o=Se(this.long0+Math.atan2(e.x,-e.y)):o=Se(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=Se(this.long0+Math.atan2(e.x*r,t*this.cos_p14*s-e.y*this.sin_p14*r)),e.x=o,e.y=a,e))}var gK=["ortho"];const vK={init:pK,forward:mK,inverse:yK,names:gK};var si={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},xt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function bK(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=he-wt/2?this.face=si.TOP:this.lat0<=-(he-wt/2)?this.face=si.BOTTOM:Math.abs(this.long0)<=wt?this.face=si.FRONT:Math.abs(this.long0)<=he+wt?this.face=this.long0>0?si.RIGHT:si.LEFT:this.face=si.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function _K(e){var t={x:0,y:0},i,r,s,n,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):i=e.y,r=e.x,this.face===si.TOP)n=he-i,r>=wt&&r<=he+wt?(l.value=xt.AREA_0,s=r-he):r>he+wt||r<=-(he+wt)?(l.value=xt.AREA_1,s=r>0?r-bi:r+bi):r>-(he+wt)&&r<=-wt?(l.value=xt.AREA_2,s=r+he):(l.value=xt.AREA_3,s=r);else if(this.face===si.BOTTOM)n=he+i,r>=wt&&r<=he+wt?(l.value=xt.AREA_0,s=-r+he):r<wt&&r>=-wt?(l.value=xt.AREA_1,s=-r):r<-wt&&r>=-(he+wt)?(l.value=xt.AREA_2,s=-r-he):(l.value=xt.AREA_3,s=r>0?-r+bi:-r-bi);else{var c,f,d,p,y,v,b;this.face===si.RIGHT?r=bh(r,+he):this.face===si.BACK?r=bh(r,+bi):this.face===si.LEFT&&(r=bh(r,-he)),p=Math.sin(i),y=Math.cos(i),v=Math.sin(r),b=Math.cos(r),c=y*b,f=y*v,d=p,this.face===si.FRONT?(n=Math.acos(c),s=_0(n,d,f,l)):this.face===si.RIGHT?(n=Math.acos(f),s=_0(n,d,-c,l)):this.face===si.BACK?(n=Math.acos(-c),s=_0(n,d,-f,l)):this.face===si.LEFT?(n=Math.acos(-f),s=_0(n,d,c,l)):(n=s=0,l.value=xt.AREA_0)}return a=Math.atan(12/bi*(s+Math.acos(Math.sin(s)*Math.cos(wt))-he)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===xt.AREA_1?a+=he:l.value===xt.AREA_2?a+=bi:l.value===xt.AREA_3&&(a+=1.5*bi),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function wK(e){var t={lam:0,phi:0},i,r,s,n,o,a,l,c,f,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),i=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=xt.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=xt.AREA_1,i-=he):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=xt.AREA_2,i=i<0?i+bi:i-bi):(d.value=xt.AREA_3,i+=he),f=bi/12*Math.tan(i),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),s=Math.cos(i),n=Math.tan(r),l=1-s*s*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===si.TOP)c=Math.acos(l),t.phi=he-c,d.value===xt.AREA_0?t.lam=a+he:d.value===xt.AREA_1?t.lam=a<0?a+bi:a-bi:d.value===xt.AREA_2?t.lam=a-he:t.lam=a;else if(this.face===si.BOTTOM)c=Math.acos(l),t.phi=c-he,d.value===xt.AREA_0?t.lam=-a+he:d.value===xt.AREA_1?t.lam=-a:d.value===xt.AREA_2?t.lam=-a-he:t.lam=a<0?-a-bi:-a+bi;else{var p,y,v;p=l,f=p*p,f>=1?v=0:v=Math.sqrt(1-f)*Math.sin(a),f+=v*v,f>=1?y=0:y=Math.sqrt(1-f),d.value===xt.AREA_1?(f=y,y=-v,v=f):d.value===xt.AREA_2?(y=-y,v=-v):d.value===xt.AREA_3&&(f=y,y=v,v=-f),this.face===si.RIGHT?(f=p,p=-y,y=f):this.face===si.BACK?(p=-p,y=-y):this.face===si.LEFT&&(f=p,p=y,y=-f),t.phi=Math.acos(-v)-he,t.lam=Math.atan2(y,p),this.face===si.RIGHT?t.lam=bh(t.lam,-he):this.face===si.BACK?t.lam=bh(t.lam,-bi):this.face===si.LEFT&&(t.lam=bh(t.lam,+he))}if(this.es!==0){var b,E,S;b=t.phi<0?1:0,E=Math.tan(t.phi),S=this.b/Math.sqrt(E*E+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-S*S)/(this.one_minus_f*S)),b&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function _0(e,t,i,r){var s;return e<be?(r.value=xt.AREA_0,s=0):(s=Math.atan2(t,i),Math.abs(s)<=wt?r.value=xt.AREA_0:s>wt&&s<=he+wt?(r.value=xt.AREA_1,s-=he):s>he+wt||s<=-(he+wt)?(r.value=xt.AREA_2,s=s>=0?s-bi:s+bi):(r.value=xt.AREA_3,s+=he)),s}function bh(e,t){var i=e+t;return i<-bi?i+=kp:i>+bi&&(i-=kp),i}var xK=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const SK={init:bK,forward:_K,inverse:wK,names:xK};var Cw=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Od=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],pP=.8487,mP=1.3523,yP=so/5,EK=1/yP,ih=18,$g=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},AK=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function TK(e,t,i,r){for(var s=t;r;--r){var n=e(s);if(s-=n,Math.abs(n)<i)break}return s}function MK(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function IK(e){var t=Se(e.x-this.long0),i=Math.abs(e.y),r=Math.floor(i*yP);r<0?r=0:r>=ih&&(r=ih-1),i=so*(i-EK*r);var s={x:$g(Cw[r],i)*t,y:$g(Od[r],i)};return e.y<0&&(s.y=-s.y),s.x=s.x*this.a*pP+this.x0,s.y=s.y*this.a*mP+this.y0,s}function OK(e){var t={x:(e.x-this.x0)/(this.a*pP),y:Math.abs(e.y-this.y0)/(this.a*mP)};if(t.y>=1)t.x/=Cw[ih][0],t.y=e.y<0?-he:he;else{var i=Math.floor(t.y*ih);for(i<0?i=0:i>=ih&&(i=ih-1);;)if(Od[i][0]>t.y)--i;else if(Od[i+1][0]<=t.y)++i;else break;var r=Od[i],s=5*(t.y-r[0])/(Od[i+1][0]-r[0]);s=TK(function(n){return($g(r,n)-t.y)/AK(r,n)},s,be,100),t.x/=$g(Cw[i],s),t.y=(5*i+s)*sr,e.y<0&&(t.y=-t.y)}return t.x=Se(t.x+this.long0),t}var $K=["Robinson","robin"];const CK={init:MK,forward:IK,inverse:OK,names:$K};function NK(){this.name="geocent"}function PK(e){var t=rP(e,this.es,this.a);return t}function LK(e){var t=sP(e,this.es,this.a,this.b);return t}var kK=["Geocentric","geocentric","geocent","Geocent"];const RK={init:NK,forward:PK,inverse:LK,names:kK};var yr={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},zf={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function DK(){if(Object.keys(zf).forEach(function(i){if(typeof this[i]>"u")this[i]=zf[i].def;else{if(zf[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);zf[i].num&&(this[i]=parseFloat(this[i]))}zf[i].degrees&&(this[i]=this[i]*sr)}.bind(this)),Math.abs(Math.abs(this.lat0)-he)<be?this.mode=this.lat0<0?yr.S_POLE:yr.N_POLE:Math.abs(this.lat0)<be?this.mode=yr.EQUIT:(this.mode=yr.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function FK(e){e.x-=this.long0;var t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s,n;switch(this.mode){case yr.OBLIQ:n=this.sinph0*t+this.cosph0*i*r;break;case yr.EQUIT:n=i*r;break;case yr.S_POLE:n=-t;break;case yr.N_POLE:n=t;break}switch(n=this.pn1/(this.p-n),s=n*i*Math.sin(e.x),this.mode){case yr.OBLIQ:n*=this.cosph0*t-this.sinph0*i*r;break;case yr.EQUIT:n*=t;break;case yr.N_POLE:n*=-(i*r);break;case yr.S_POLE:n*=i*r;break}var o,a;return o=n*this.cg+s*this.sg,a=1/(o*this.sw*this.h1+this.cw),s=(s*this.cg-n*this.sg)*this.cw*a,n=o*a,e.x=s*this.a,e.y=n*this.a,e}function UK(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},i,r,s;s=1/(this.pn1-e.y*this.sw),i=this.pn1*e.x*s,r=this.pn1*e.y*this.cw*s,e.x=i*this.cg+r*this.sg,e.y=r*this.cg-i*this.sg;var n=Xr(e.x,e.y);if(Math.abs(n)<be)t.x=0,t.y=e.y;else{var o,a;switch(a=1-n*n*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-a*a),this.mode){case yr.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/n),e.y=(o-this.sinph0*Math.sin(t.y))*n,e.x*=a*this.cosph0;break;case yr.EQUIT:t.y=Math.asin(e.y*a/n),e.y=o*n,e.x*=a;break;case yr.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case yr.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var jK=["Tilted_Perspective","tpers"];const VK={init:DK,forward:FK,inverse:UK,names:jK};function BK(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function GK(e){var t=e.x,i=e.y,r,s,n,o;if(t=t-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var a=this.radius_p/Xr(this.radius_p*Math.cos(i),Math.sin(i));if(s=a*Math.cos(t)*Math.cos(i),n=a*Math.sin(t)*Math.cos(i),o=a*Math.sin(i),(this.radius_g-s)*s-n*n-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/Xr(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/Xr(n,r)))}else this.shape==="sphere"&&(r=Math.cos(i),s=Math.cos(t)*r,n=Math.sin(t)*r,o=Math.sin(i),r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/Xr(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/Xr(n,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function zK(e){var t=-1,i=0,r=0,s,n,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Xr(1,r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Xr(1,i));var l=r/this.radius_p;if(s=i*i+l*l+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),s=i*i+r*r+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var qK=["Geostationary Satellite View","Geostationary_Satellite","geos"];const WK={init:BK,forward:GK,inverse:zK,names:qK};var qd=1.340264,Wd=-.081106,Hd=893e-6,Yd=.003796,Cg=Math.sqrt(3)/2;function HK(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function YK(e){var t=Se(e.x-this.long0),i=e.y,r=Math.asin(Cg*Math.sin(i)),s=r*r,n=s*s*s;return e.x=t*Math.cos(r)/(Cg*(qd+3*Wd*s+n*(7*Hd+9*Yd*s))),e.y=r*(qd+Wd*s+n*(Hd+Yd*s)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function JK(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,i=12,r=e.y,s,n,o,a,l,c;for(c=0;c<i&&(s=r*r,n=s*s*s,o=r*(qd+Wd*s+n*(Hd+Yd*s))-e.y,a=qd+3*Wd*s+n*(7*Hd+9*Yd*s),r-=l=o/a,!(Math.abs(l)<t));++c);return s=r*r,n=s*s*s,e.x=Cg*e.x*(qd+3*Wd*s+n*(7*Hd+9*Yd*s))/Math.cos(r),e.y=Math.asin(Math.sin(r)/Cg),e.x=Se(e.x+this.long0),e}var ZK=["eqearth","Equal Earth","Equal_Earth"];const KK={init:HK,forward:YK,inverse:JK,names:ZK};var Fp=1e-10;function XK(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Fp)throw new Error;this.es?(this.en=XS(this.es),this.m1=If(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=eX,this.forward=QK):(Math.abs(this.phi1)+Fp>=he?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=iX,this.forward=tX)}function QK(e){var t=Se(e.x-(this.long0||0)),i=e.y,r,s,n;return r=this.am1+this.m1-If(i,s=Math.sin(i),n=Math.cos(i),this.en),s=n*t/(r*Math.sqrt(1-this.es*s*s)),e.x=r*Math.sin(s),e.y=this.am1-r*Math.cos(s),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function eX(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r,s;if(i=Xr(e.x,e.y=this.am1-e.y),s=QS(this.am1+this.m1-i,this.es,this.en),(t=Math.abs(s))<he)t=Math.sin(s),r=i*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(s);else if(Math.abs(t-he)<=Fp)r=0;else throw new Error;return e.x=Se(r+(this.long0||0)),e.y=Tl(s),e}function tX(e){var t=Se(e.x-(this.long0||0)),i=e.y,r,s;return s=this.cphi1+this.phi1-i,Math.abs(s)>Fp?(e.x=s*Math.sin(r=t*Math.cos(i)/s),e.y=this.cphi1-s*Math.cos(r)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function iX(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r=Xr(e.x,e.y=this.cphi1-e.y);if(i=this.cphi1+this.phi1-r,Math.abs(i)>he)throw new Error;return Math.abs(Math.abs(i)-he)<=Fp?t=0:t=r*Math.atan2(e.x,e.y)/Math.cos(i),e.x=Se(t+(this.long0||0)),e.y=Tl(i),e}var rX=["bonne","Bonne (Werner lat_1=90)"];const sX={init:XK,names:rX};function nX(e){e.Proj.projections.add(Cy),e.Proj.projections.add(Ny),e.Proj.projections.add(QY),e.Proj.projections.add(cJ),e.Proj.projections.add(mJ),e.Proj.projections.add(_J),e.Proj.projections.add(TJ),e.Proj.projections.add(CJ),e.Proj.projections.add(RJ),e.Proj.projections.add(VJ),e.Proj.projections.add(sZ),e.Proj.projections.add(uZ),e.Proj.projections.add(mZ),e.Proj.projections.add(wZ),e.Proj.projections.add(TZ),e.Proj.projections.add(CZ),e.Proj.projections.add(RZ),e.Proj.projections.add(VZ),e.Proj.projections.add(HZ),e.Proj.projections.add(XZ),e.Proj.projections.add(rK),e.Proj.projections.add(lK),e.Proj.projections.add(dK),e.Proj.projections.add(vK),e.Proj.projections.add(SK),e.Proj.projections.add(CK),e.Proj.projections.add(RK),e.Proj.projections.add(VK),e.Proj.projections.add(WK),e.Proj.projections.add(KK),e.Proj.projections.add(sX)}Lt.defaultDatum="WGS84";Lt.Proj=uo;Lt.WGS84=new Lt.Proj("WGS84");Lt.Point=Uh;Lt.toPoint=nP;Lt.defs=Nr;Lt.nadgrid=tY;Lt.transform=Ig;Lt.mgrs=gY;Lt.version="__VERSION__";nX(Lt);const oX="EPSG:4326";class aX{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Lt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Lt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Lt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Lt.defs("EPSG:102100",Lt.defs("EPSG:3857")),Lt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Lt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const i=t<10?`0${t}`:t;Lt.defs(`EPSG:326${i}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,i){t=typeof t=="number"?`EPSG:${t}`:t,Lt.defs(t,i)}defaultEpsgLookup(t){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=/EPSG:(\d+)/,s=String(t).match(i)||String(t).match(r)||[];if(s.length<2)throw new Error("Invalid code provided.");return new Promise((n,o)=>{const a=`https://epsg.io/${s[1]}.proj4`;Pi(a,{responseType:"text"}).then(f=>{f.data?n(f.data):o()},f=>{o(f)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let i,r="";try{i=this.normalizeProj(t)}catch{return!1}if(!i.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(r=this.normalizeProj(t.latestWkid));const s=(l,c)=>{l!==c&&Lt.defs(c,Lt.defs(l))};if(Lt.defs(i))return!0;if(r&&Lt.defs(r))return s(r,i),!0;const n=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Lt.defs(l,c),!0)}catch{return!1}};return await(r?n(r):Promise.resolve(!1))?(s(r,i),!0):n(i)}async checkProjBomber(t){if(t.length>0){const i=t.pop();if(await this.checkProj(i))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",i),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,i,r){let s,n;if(i?s=this.normalizeProj(i):s=Ve.parseGeoJsonCrs(t.crs),r?n=this.normalizeProj(r):n=oX,n===s)return t;await this.checkProjBomber([s,n]);const o=Lt(s,n).forward;return mH(t,o)}async projectGeometry(t,i){if(i.type===Ze.EXTENT)return this.projectExtent(t,i);await this.checkProjBomber([t,i.sr]);const r=i.toGeoJSON(),s=await this.projectGeoJson(r,this.normalizeProj(i.sr),this.normalizeProj(t)),n=Mh.geom.geomGeoJsonToRamp(s,i.id);return n.sr=Ve.parseSR(t),n}async projectExtent(t,i){const r=(b,E,S)=>{if(S===0)return[b,E];const T=[(b[0]+E[0])/2,(b[1]+E[1])/2];if(S===1)return[b,T,E];if(S>1){const w=r(b,T,S-1),_=r(T,E,S-1);return w.concat(_.slice(1))}return[[]]},s=i.toPolygonArray().pop()||[];let n=[];[0,1,2,3].map(b=>r(s[b],s[b+1],3).slice(1)).forEach(b=>n=n.concat(b));const o=new gr("warpy",[n],i.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),f=l.map(b=>b[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),v=Math.max.apply(null,f);return Qt.fromParams(i.id+"_projected",d,y,p,v,a.sr)}}class lX{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new aX,this.geom=new sH,this.sharedUtils=new lH}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const i=r=>r.map(s=>({level:s[0],resolution:s[1],scale:s[2]}));if(t===this.DEFAULT_LAMBERT)return i([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return i([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class Mi{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function cX(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function uX(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(i=>e[i]!==void 0)}function gP(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function hX(e){return typeof e=="object"&&e.default!==void 0}var w0={exports:{}},D4;function fX(){if(D4)return w0.exports;D4=1;function e(){}return e.prototype={on:function(t,i,r){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:i,ctx:r}),this},once:function(t,i,r){var s=this;function n(){s.off(t,n),i.apply(r,arguments)}return n._=i,this.on(t,n,r)},emit:function(t){var i=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=r.length;for(s;s<n;s++)r[s].fn.apply(r[s].ctx,i);return this},off:function(t,i){var r=this.e||(this.e={}),s=r[t],n=[];if(s&&i)for(var o=0,a=s.length;o<a;o++)s[o].fn!==i&&s[o].fn._!==i&&n.push(s[o]);return n.length?r[t]=n:delete r[t],this}},w0.exports=e,w0.exports.TinyEmitter=e,w0.exports}var dX=fX();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Es(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const st={},_h=[],or=()=>{},$d=()=>!1,uu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),rE=e=>e.startsWith("onUpdate:"),nt=Object.assign,sE=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},pX=Object.prototype.hasOwnProperty,vt=(e,t)=>pX.call(e,t),Ee=Array.isArray,wh=e=>Of(e)==="[object Map]",hu=e=>Of(e)==="[object Set]",F4=e=>Of(e)==="[object Date]",mX=e=>Of(e)==="[object RegExp]",Fe=e=>typeof e=="function",Je=e=>typeof e=="string",ls=e=>typeof e=="symbol",It=e=>e!==null&&typeof e=="object",nE=e=>(It(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),vP=Object.prototype.toString,Of=e=>vP.call(e),yX=e=>Of(e).slice(8,-1),cv=e=>Of(e)==="[object Object]",oE=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hl=Es(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gX=Es("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),uv=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},vX=/-(\w)/g,Bt=uv(e=>e.replace(vX,(t,i)=>i?i.toUpperCase():"")),bX=/\B([A-Z])/g,Qr=uv(e=>e.replace(bX,"-$1").toLowerCase()),Ml=uv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mc=uv(e=>e?`on${Ml(e)}`:""),kr=(e,t)=>!Object.is(e,t),xh=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},bP=(e,t,i,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:i})},Ng=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Pg=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let U4;const hv=()=>U4||(U4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _X(e,t){return e+JSON.stringify(t,(i,r)=>typeof r=="function"?r.toString():r)}const wX="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",xX=Es(wX);function Il(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],s=Je(r)?_P(r):Il(r);if(s)for(const n in s)t[n]=s[n]}return t}else if(Je(e)||It(e))return e}const SX=/;(?![^(]*\))/g,EX=/:([^]+)/,AX=/\/\*[^]*?\*\//g;function _P(e){const t={};return e.replace(AX,"").split(SX).forEach(i=>{if(i){const r=i.split(EX);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function pi(e){let t="";if(Je(e))t=e;else if(Ee(e))for(let i=0;i<e.length;i++){const r=pi(e[i]);r&&(t+=r+" ")}else if(It(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function wP(e){if(!e)return null;let{class:t,style:i}=e;return t&&!Je(t)&&(e.class=pi(t)),i&&(e.style=Il(i)),e}const TX="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",MX="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",IX="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",OX="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",$X=Es(TX),CX=Es(MX),NX=Es(IX),PX=Es(OX),LX="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kX=Es(LX);function xP(e){return!!e||e===""}function RX(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=bl(e[r],t[r]);return i}function bl(e,t){if(e===t)return!0;let i=F4(e),r=F4(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=ls(e),r=ls(t),i||r)return e===t;if(i=Ee(e),r=Ee(t),i||r)return i&&r?RX(e,t):!1;if(i=It(e),r=It(t),i||r){if(!i||!r)return!1;const s=Object.keys(e).length,n=Object.keys(t).length;if(s!==n)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!bl(e[o],t[o]))return!1}}return String(e)===String(t)}function fv(e,t){return e.findIndex(i=>bl(i,t))}const SP=e=>!!(e&&e.__v_isRef===!0),jt=e=>Je(e)?e:e==null?"":Ee(e)||It(e)&&(e.toString===vP||!Fe(e.toString))?SP(e)?jt(e.value):JSON.stringify(e,EP,2):String(e),EP=(e,t)=>SP(t)?EP(e,t.value):wh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,s],n)=>(i[Gb(r,n)+" =>"]=s,i),{})}:hu(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Gb(i))}:ls(t)?Gb(t):It(t)&&!Ee(t)&&!cv(t)?String(t):t,Gb=(e,t="")=>{var i;return ls(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pr;class dv{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pr,!t&&Pr&&(this.index=(Pr.scopes||(Pr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Pr;try{return Pr=this,t()}finally{Pr=i}}}on(){Pr=this}off(){Pr=this.parent}stop(t){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Pm(e){return new dv(e)}function pv(){return Pr}function aE(e,t=!1){Pr&&Pr.cleanups.push(e)}let Ft;const zb=new WeakSet;class Vh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pr&&Pr.active&&Pr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zb.has(this)&&(zb.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||TP(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,j4(this),MP(this);const t=Ft,i=wn;Ft=this,wn=!0;try{return this.fn()}finally{IP(this),Ft=t,wn=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)uE(t);this.deps=this.depsTail=void 0,j4(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zb.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nw(this)&&this.run()}get dirty(){return Nw(this)}}let AP=0,Jd,Zd;function TP(e,t=!1){if(e.flags|=8,t){e.next=Zd,Zd=e;return}e.next=Jd,Jd=e}function lE(){AP++}function cE(){if(--AP>0)return;if(Zd){let t=Zd;for(Zd=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Jd;){let t=Jd;for(Jd=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=i}}if(e)throw e}function MP(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function IP(e){let t,i=e.depsTail,r=i;for(;r;){const s=r.prevDep;r.version===-1?(r===i&&(i=s),uE(r),DX(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=i}function Nw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(OP(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function OP(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Up))return;e.globalVersion=Up;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Nw(e)){e.flags&=-3;return}const i=Ft,r=wn;Ft=e,wn=!0;try{MP(e);const s=e.fn(e._value);(t.version===0||kr(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ft=i,wn=r,IP(e),e.flags&=-3}}function uE(e,t=!1){const{dep:i,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let n=i.computed.deps;n;n=n.nextDep)uE(n,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function DX(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}function $P(e,t){e.effect instanceof Vh&&(e=e.effect.fn);const i=new Vh(e);t&&nt(i,t);try{i.run()}catch(s){throw i.stop(),s}const r=i.run.bind(i);return r.effect=i,r}function CP(e){e.effect.stop()}let wn=!0;const NP=[];function Ol(){NP.push(wn),wn=!1}function $l(){const e=NP.pop();wn=e===void 0?!0:e}function j4(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Ft;Ft=void 0;try{t()}finally{Ft=i}}}let Up=0;class FX{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mv{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ft||!wn||Ft===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ft)i=this.activeLink=new FX(Ft,this),Ft.deps?(i.prevDep=Ft.depsTail,Ft.depsTail.nextDep=i,Ft.depsTail=i):Ft.deps=Ft.depsTail=i,PP(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=Ft.depsTail,i.nextDep=void 0,Ft.depsTail.nextDep=i,Ft.depsTail=i,Ft.deps===i&&(Ft.deps=r)}return i}trigger(t){this.version++,Up++,this.notify(t)}notify(t){lE();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{cE()}}}function PP(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)PP(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Lg=new WeakMap,Ic=Symbol(""),Pw=Symbol(""),jp=Symbol("");function vr(e,t,i){if(wn&&Ft){let r=Lg.get(e);r||Lg.set(e,r=new Map);let s=r.get(i);s||(r.set(i,s=new mv),s.map=r,s.key=i),s.track()}}function Xo(e,t,i,r,s,n){const o=Lg.get(e);if(!o){Up++;return}const a=l=>{l&&l.trigger()};if(lE(),t==="clear")o.forEach(a);else{const l=Ee(e),c=l&&oE(i);if(l&&i==="length"){const f=Number(r);o.forEach((d,p)=>{(p==="length"||p===jp||!ls(p)&&p>=f)&&a(d)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),c&&a(o.get(jp)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Ic)),wh(e)&&a(o.get(Pw)));break;case"delete":l||(a(o.get(Ic)),wh(e)&&a(o.get(Pw)));break;case"set":wh(e)&&a(o.get(Ic));break}}cE()}function UX(e,t){const i=Lg.get(e);return i&&i.get(t)}function Iu(e){const t=Ge(e);return t===e?t:(vr(t,"iterate",jp),rs(e)?t:t.map(br))}function yv(e){return vr(e=Ge(e),"iterate",jp),e}const jX={__proto__:null,[Symbol.iterator](){return qb(this,Symbol.iterator,br)},concat(...e){return Iu(this).concat(...e.map(t=>Ee(t)?Iu(t):t))},entries(){return qb(this,"entries",e=>(e[1]=br(e[1]),e))},every(e,t){return No(this,"every",e,t,void 0,arguments)},filter(e,t){return No(this,"filter",e,t,i=>i.map(br),arguments)},find(e,t){return No(this,"find",e,t,br,arguments)},findIndex(e,t){return No(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return No(this,"findLast",e,t,br,arguments)},findLastIndex(e,t){return No(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return No(this,"forEach",e,t,void 0,arguments)},includes(...e){return Wb(this,"includes",e)},indexOf(...e){return Wb(this,"indexOf",e)},join(e){return Iu(this).join(e)},lastIndexOf(...e){return Wb(this,"lastIndexOf",e)},map(e,t){return No(this,"map",e,t,void 0,arguments)},pop(){return qf(this,"pop")},push(...e){return qf(this,"push",e)},reduce(e,...t){return V4(this,"reduce",e,t)},reduceRight(e,...t){return V4(this,"reduceRight",e,t)},shift(){return qf(this,"shift")},some(e,t){return No(this,"some",e,t,void 0,arguments)},splice(...e){return qf(this,"splice",e)},toReversed(){return Iu(this).toReversed()},toSorted(e){return Iu(this).toSorted(e)},toSpliced(...e){return Iu(this).toSpliced(...e)},unshift(...e){return qf(this,"unshift",e)},values(){return qb(this,"values",br)}};function qb(e,t,i){const r=yv(e),s=r[t]();return r!==e&&!rs(e)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=i(n.value)),n}),s}const VX=Array.prototype;function No(e,t,i,r,s,n){const o=yv(e),a=o!==e&&!rs(e),l=o[t];if(l!==VX[t]){const d=l.apply(e,n);return a?br(d):d}let c=i;o!==e&&(a?c=function(d,p){return i.call(this,br(d),p,e)}:i.length>2&&(c=function(d,p){return i.call(this,d,p,e)}));const f=l.call(o,c,r);return a&&s?s(f):f}function V4(e,t,i,r){const s=yv(e);let n=i;return s!==e&&(rs(e)?i.length>3&&(n=function(o,a,l){return i.call(this,o,a,l,e)}):n=function(o,a,l){return i.call(this,o,br(a),l,e)}),s[t](n,...r)}function Wb(e,t,i){const r=Ge(e);vr(r,"iterate",jp);const s=r[t](...i);return(s===-1||s===!1)&&Lm(i[0])?(i[0]=Ge(i[0]),r[t](...i)):s}function qf(e,t,i=[]){Ol(),lE();const r=Ge(e)[t].apply(e,i);return cE(),$l(),r}const BX=Es("__proto__,__v_isRef,__isVue"),LP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ls));function GX(e){ls(e)||(e=String(e));const t=Ge(this);return vr(t,"has",e),t.hasOwnProperty(e)}class kP{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,r){if(i==="__v_skip")return t.__v_skip;const s=this._isReadonly,n=this._isShallow;if(i==="__v_isReactive")return!s;if(i==="__v_isReadonly")return s;if(i==="__v_isShallow")return n;if(i==="__v_raw")return r===(s?n?VP:jP:n?UP:FP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ee(t);if(!s){let l;if(o&&(l=jX[i]))return l;if(i==="hasOwnProperty")return GX}const a=Reflect.get(t,i,ht(t)?t:r);return(ls(i)?LP.has(i):BX(i))||(s||vr(t,"get",i),n)?a:ht(a)?o&&oE(i)?a:a.value:It(a)?s?vv(a):tr(a):a}}class RP extends kP{constructor(t=!1){super(!1,t)}set(t,i,r,s){let n=t[i];if(!this._isShallow){const l=la(n);if(!rs(r)&&!la(r)&&(n=Ge(n),r=Ge(r)),!Ee(t)&&ht(n)&&!ht(r))return l?!1:(n.value=r,!0)}const o=Ee(t)&&oE(i)?Number(i)<t.length:vt(t,i),a=Reflect.set(t,i,r,ht(t)?t:s);return t===Ge(s)&&(o?kr(r,n)&&Xo(t,"set",i,r):Xo(t,"add",i,r)),a}deleteProperty(t,i){const r=vt(t,i);t[i];const s=Reflect.deleteProperty(t,i);return s&&r&&Xo(t,"delete",i,void 0),s}has(t,i){const r=Reflect.has(t,i);return(!ls(i)||!LP.has(i))&&vr(t,"has",i),r}ownKeys(t){return vr(t,"iterate",Ee(t)?"length":Ic),Reflect.ownKeys(t)}}class DP extends kP{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const zX=new RP,qX=new DP,WX=new RP(!0),HX=new DP(!0),Lw=e=>e,x0=e=>Reflect.getPrototypeOf(e);function YX(e,t,i){return function(...r){const s=this.__v_raw,n=Ge(s),o=wh(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),f=i?Lw:t?kw:br;return!t&&vr(n,"iterate",l?Pw:Ic),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function S0(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function JX(e,t){const i={get(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);e||(kr(s,a)&&vr(o,"get",s),vr(o,"get",a));const{has:l}=x0(o),c=t?Lw:e?kw:br;if(l.call(o,s))return c(n.get(s));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(s)},get size(){const s=this.__v_raw;return!e&&vr(Ge(s),"iterate",Ic),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);return e||(kr(s,a)&&vr(o,"has",s),vr(o,"has",a)),s===a?n.has(s):n.has(s)||n.has(a)},forEach(s,n){const o=this,a=o.__v_raw,l=Ge(a),c=t?Lw:e?kw:br;return!e&&vr(l,"iterate",Ic),a.forEach((f,d)=>s.call(n,c(f),c(d),o))}};return nt(i,e?{add:S0("add"),set:S0("set"),delete:S0("delete"),clear:S0("clear")}:{add(s){!t&&!rs(s)&&!la(s)&&(s=Ge(s));const n=Ge(this);return x0(n).has.call(n,s)||(n.add(s),Xo(n,"add",s,s)),this},set(s,n){!t&&!rs(n)&&!la(n)&&(n=Ge(n));const o=Ge(this),{has:a,get:l}=x0(o);let c=a.call(o,s);c||(s=Ge(s),c=a.call(o,s));const f=l.call(o,s);return o.set(s,n),c?kr(n,f)&&Xo(o,"set",s,n):Xo(o,"add",s,n),this},delete(s){const n=Ge(this),{has:o,get:a}=x0(n);let l=o.call(n,s);l||(s=Ge(s),l=o.call(n,s)),a&&a.call(n,s);const c=n.delete(s);return l&&Xo(n,"delete",s,void 0),c},clear(){const s=Ge(this),n=s.size!==0,o=s.clear();return n&&Xo(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=YX(s,e,t)}),i}function gv(e,t){const i=JX(e,t);return(r,s,n)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(vt(i,s)&&s in r?i:r,s,n)}const ZX={get:gv(!1,!1)},KX={get:gv(!1,!0)},XX={get:gv(!0,!1)},QX={get:gv(!0,!0)},FP=new WeakMap,UP=new WeakMap,jP=new WeakMap,VP=new WeakMap;function eQ(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tQ(e){return e.__v_skip||!Object.isExtensible(e)?0:eQ(yX(e))}function tr(e){return la(e)?e:bv(e,!1,zX,ZX,FP)}function hE(e){return bv(e,!1,WX,KX,UP)}function vv(e){return bv(e,!0,qX,XX,jP)}function BP(e){return bv(e,!0,HX,QX,VP)}function bv(e,t,i,r,s){if(!It(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=s.get(e);if(n)return n;const o=tQ(e);if(o===0)return e;const a=new Proxy(e,o===2?r:i);return s.set(e,a),a}function bs(e){return la(e)?bs(e.__v_raw):!!(e&&e.__v_isReactive)}function la(e){return!!(e&&e.__v_isReadonly)}function rs(e){return!!(e&&e.__v_isShallow)}function Lm(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function di(e){return!vt(e,"__v_skip")&&Object.isExtensible(e)&&bP(e,"__v_skip",!0),e}const br=e=>It(e)?tr(e):e,kw=e=>It(e)?vv(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function X(e){return GP(e,!1)}function $f(e){return GP(e,!0)}function GP(e,t){return ht(e)?e:new iQ(e,t)}class iQ{constructor(t,i){this.dep=new mv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Ge(t),this._value=i?t:br(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,r=this.__v_isShallow||rs(t)||la(t);t=r?t:Ge(t),kr(t,i)&&(this._rawValue=t,this._value=r?t:br(t),this.dep.trigger())}}function zP(e){e.dep&&e.dep.trigger()}function Ie(e){return ht(e)?e.value:e}function qP(e){return Fe(e)?e():Ie(e)}const rQ={get:(e,t,i)=>t==="__v_raw"?e:Ie(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const s=e[t];return ht(s)&&!ht(i)?(s.value=i,!0):Reflect.set(e,t,i,r)}};function _v(e){return bs(e)?e:new Proxy(e,rQ)}class sQ{constructor(t){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new mv,{get:r,set:s}=t(i.track.bind(i),i.trigger.bind(i));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function fE(e){return new sQ(e)}function dE(e){const t=Ee(e)?new Array(e.length):{};for(const i in e)t[i]=HP(e,i);return t}class nQ{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return UX(Ge(this._object),this._key)}}class oQ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function WP(e,t,i){return ht(e)?e:Fe(e)?new oQ(e):It(e)&&arguments.length>1?HP(e,t,i):X(e)}function HP(e,t,i){const r=e[t];return ht(r)?r:new nQ(e,t,i)}class aQ{constructor(t,i,r){this.fn=t,this.setter=i,this._value=void 0,this.dep=new mv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Up-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return TP(this,!0),!0}get value(){const t=this.dep.track();return OP(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function lQ(e,t,i=!1){let r,s;return Fe(e)?r=e:(r=e.get,s=e.set),new aQ(r,s,i)}const YP={GET:"get",HAS:"has",ITERATE:"iterate"},JP={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},E0={},kg=new WeakMap;let Wa;function ZP(){return Wa}function pE(e,t=!1,i=Wa){if(i){let r=kg.get(i);r||kg.set(i,r=[]),r.push(e)}}function cQ(e,t,i=st){const{immediate:r,deep:s,once:n,scheduler:o,augmentJob:a,call:l}=i,c=_=>s?_:rs(_)||s===!1||s===0?Qo(_,1):Qo(_);let f,d,p,y,v=!1,b=!1;if(ht(e)?(d=()=>e.value,v=rs(e)):bs(e)?(d=()=>c(e),v=!0):Ee(e)?(b=!0,v=e.some(_=>bs(_)||rs(_)),d=()=>e.map(_=>{if(ht(_))return _.value;if(bs(_))return c(_);if(Fe(_))return l?l(_,2):_()})):Fe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){Ol();try{p()}finally{$l()}}const _=Wa;Wa=f;try{return l?l(e,3,[y]):e(y)}finally{Wa=_}}:d=or,t&&s){const _=d,M=s===!0?1/0:s;d=()=>Qo(_(),M)}const E=pv(),S=()=>{f.stop(),E&&E.active&&sE(E.effects,f)};if(n&&t){const _=t;t=(...M)=>{_(...M),S()}}let T=b?new Array(e.length).fill(E0):E0;const w=_=>{if(!(!(f.flags&1)||!f.dirty&&!_))if(t){const M=f.run();if(s||v||(b?M.some((I,C)=>kr(I,T[C])):kr(M,T))){p&&p();const I=Wa;Wa=f;try{const C=[M,T===E0?void 0:b&&T[0]===E0?[]:T,y];l?l(t,3,C):t(...C),T=M}finally{Wa=I}}}else f.run()};return a&&a(w),f=new Vh(d),f.scheduler=o?()=>o(w,!1):w,y=_=>pE(_,!1,f),p=f.onStop=()=>{const _=kg.get(f);if(_){if(l)l(_,4);else for(const M of _)M();kg.delete(f)}},t?r?w(!0):T=f.run():o?o(w.bind(null,!0),!0):f.run(),S.pause=f.pause.bind(f),S.resume=f.resume.bind(f),S.stop=S,S}function Qo(e,t=1/0,i){if(t<=0||!It(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,ht(e))Qo(e.value,t,i);else if(Ee(e))for(let r=0;r<e.length;r++)Qo(e[r],t,i);else if(hu(e)||wh(e))e.forEach(r=>{Qo(r,t,i)});else if(cv(e)){for(const r in e)Qo(e[r],t,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Qo(e[r],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const KP=[];function uQ(e){KP.push(e)}function hQ(){KP.pop()}function XP(e,t){}const QP={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},fQ={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function fu(e,t,i,r){try{return r?e(...r):e()}catch(s){Cl(s,t,i)}}function ws(e,t,i,r){if(Fe(e)){const s=fu(e,t,i,r);return s&&nE(s)&&s.catch(n=>{Cl(n,t,i)}),s}if(Ee(e)){const s=[];for(let n=0;n<e.length;n++)s.push(ws(e[n],t,i,r));return s}}function Cl(e,t,i,r=!0){const s=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||st;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,c)===!1)return}a=a.parent}if(n){Ol(),fu(n,null,10,[e,l,c]),$l();return}}dQ(e,i,s,r,o)}function dQ(e,t,i,r=!0,s=!1){if(s)throw e;console.error(e)}const Rr=[];let Zn=-1;const Sh=[];let Ha=null,Gu=0;const eL=Promise.resolve();let Rg=null;function Ln(e){const t=Rg||eL;return e?t.then(this?e.bind(this):e):t}function pQ(e){let t=Zn+1,i=Rr.length;for(;t<i;){const r=t+i>>>1,s=Rr[r],n=Vp(s);n<e||n===e&&s.flags&2?t=r+1:i=r}return t}function mE(e){if(!(e.flags&1)){const t=Vp(e),i=Rr[Rr.length-1];!i||!(e.flags&2)&&t>=Vp(i)?Rr.push(e):Rr.splice(pQ(t),0,e),e.flags|=1,tL()}}function tL(){Rg||(Rg=eL.then(iL))}function Bh(e){Ee(e)?Sh.push(...e):Ha&&e.id===-1?Ha.splice(Gu+1,0,e):e.flags&1||(Sh.push(e),e.flags|=1),tL()}function B4(e,t,i=Zn+1){for(;i<Rr.length;i++){const r=Rr[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Rr.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Dg(e){if(Sh.length){const t=[...new Set(Sh)].sort((i,r)=>Vp(i)-Vp(r));if(Sh.length=0,Ha){Ha.push(...t);return}for(Ha=t,Gu=0;Gu<Ha.length;Gu++){const i=Ha[Gu];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Ha=null,Gu=0}}const Vp=e=>e.id==null?e.flags&2?-1:1/0:e.id;function iL(e){try{for(Zn=0;Zn<Rr.length;Zn++){const t=Rr[Zn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),fu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Zn<Rr.length;Zn++){const t=Rr[Zn];t&&(t.flags&=-2)}Zn=-1,Rr.length=0,Dg(),Rg=null,(Rr.length||Sh.length)&&iL()}}let zu,A0=[];function rL(e,t){var i,r;zu=e,zu?(zu.enabled=!0,A0.forEach(({event:s,args:n})=>zu.emit(s,...n)),A0=[]):typeof window<"u"&&window.HTMLElement&&!((r=(i=window.navigator)==null?void 0:i.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{rL(n,t)}),setTimeout(()=>{zu||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,A0=[])},3e3)):A0=[]}let zi=null,wv=null;function Bp(e){const t=zi;return zi=e,wv=e&&e.type.__scopeId||null,t}function sL(e){wv=e}function nL(){wv=null}const oL=e=>Ti;function Ti(e,t=zi,i){if(!t||e._n)return e;const r=(...s)=>{r._d&&Bg(-1);const n=Bp(t);let o;try{o=e(...s)}finally{Bp(n),r._d&&Bg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Et(e,t){if(zi===null)return e;const i=Fm(zi),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[n,o,a,l=st]=t[s];n&&(Fe(n)&&(n={mounted:n,updated:n}),n.deep&&Qo(o),r.push({dir:n,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Qn(e,t,i,r){const s=e.dirs,n=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[r];l&&(Ol(),ws(l,i,8,[e.el,a,e,t]),$l())}}const aL=Symbol("_vte"),lL=e=>e.__isTeleport,Kd=e=>e&&(e.disabled||e.disabled===""),G4=e=>e&&(e.defer||e.defer===""),z4=e=>typeof SVGElement<"u"&&e instanceof SVGElement,q4=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Rw=(e,t)=>{const i=e&&e.to;return Je(i)?t?t(i):null:i},cL={name:"Teleport",__isTeleport:!0,process(e,t,i,r,s,n,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:b,createComment:E}}=c,S=Kd(t.props);let{shapeFlag:T,children:w,dynamicChildren:_}=t;if(e==null){const M=t.el=b(""),I=t.anchor=b("");y(M,i,r),y(I,i,r);const C=(N,U)=>{T&16&&(s&&s.isCE&&(s.ce._teleportTarget=N),f(w,N,U,s,n,o,a,l))},P=()=>{const N=t.target=Rw(t.props,v),U=uL(N,t,b,y);N&&(o!=="svg"&&z4(N)?o="svg":o!=="mathml"&&q4(N)&&(o="mathml"),S||(C(N,U),Py(t,!1)))};S&&(C(i,I),Py(t,!0)),G4(t.props)?ji(()=>{P(),t.el.__isMounted=!0},n):P()}else{if(G4(t.props)&&!e.el.__isMounted){ji(()=>{cL.process(e,t,i,r,s,n,o,a,l,c),delete e.el.__isMounted},n);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,I=t.target=e.target,C=t.targetAnchor=e.targetAnchor,P=Kd(e.props),N=P?i:I,U=P?M:C;if(o==="svg"||z4(I)?o="svg":(o==="mathml"||q4(I))&&(o="mathml"),_?(p(e.dynamicChildren,_,N,s,n,o,a),RE(e,t,!0)):l||d(e,t,N,U,s,n,o,a,!1),S)P?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):T0(t,i,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=Rw(t.props,v);j&&T0(t,j,null,c,0)}else P&&T0(t,I,C,c,1);Py(t,S)}},remove(e,t,i,{um:r,o:{remove:s}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=e;if(d&&(s(c),s(f)),n&&s(l),o&16){const y=n||!Kd(p);for(let v=0;v<a.length;v++){const b=a[v];r(b,t,i,y,!!b.dynamicChildren)}}},move:T0,hydrate:mQ};function T0(e,t,i,{o:{insert:r},m:s},n=2){n===0&&r(e.targetAnchor,t,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,d=n===2;if(d&&r(o,t,i),(!d||Kd(f))&&l&16)for(let p=0;p<c.length;p++)s(c[p],t,i,2);d&&r(a,t,i)}function mQ(e,t,i,r,s,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=t.target=Rw(t.props,l);if(p){const y=Kd(t.props),v=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,a(e),i,r,s,n),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}b=o(b)}t.targetAnchor||uL(p,t,f,c),d(v&&o(v),t,p,i,r,s,n)}Py(t,y)}return t.anchor&&o(t.anchor)}const yE=cL;function Py(e,t){const i=e.ctx;if(i&&i.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function uL(e,t,i,r){const s=t.targetStart=i(""),n=t.targetAnchor=i("");return s[aL]=n,e&&(r(s,e),r(n,e)),n}const Ya=Symbol("_leaveCb"),M0=Symbol("_enterCb");function xv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return lr(()=>{e.isMounted=!0}),kn(()=>{e.isUnmounting=!0}),e}const Is=[Function,Array],Sv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Is,onEnter:Is,onAfterEnter:Is,onEnterCancelled:Is,onBeforeLeave:Is,onLeave:Is,onAfterLeave:Is,onLeaveCancelled:Is,onBeforeAppear:Is,onAppear:Is,onAfterAppear:Is,onAppearCancelled:Is},hL=e=>{const t=e.subTree;return t.component?hL(t.component):t},yQ={name:"BaseTransition",props:Sv,setup(e,{slots:t}){const i=ki(),r=xv();return()=>{const s=t.default&&km(t.default(),!0);if(!s||!s.length)return;const n=fL(s),o=Ge(e),{mode:a}=o;if(r.isLeaving)return Hb(n);const l=W4(n);if(!l)return Hb(n);let c=Yc(l,o,r,i,d=>c=d);l.type!==wi&&xo(l,c);let f=i.subTree&&W4(i.subTree);if(f&&f.type!==wi&&!hn(l,f)&&hL(i).type!==wi){let d=Yc(f,o,r,i);if(xo(f,d),a==="out-in"&&l.type!==wi)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete d.afterLeave,f=void 0},Hb(n);a==="in-out"&&l.type!==wi?d.delayLeave=(p,y,v)=>{const b=dL(r,f);b[String(f.key)]=f,p[Ya]=()=>{y(),p[Ya]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return n}}};function fL(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==wi){t=i;break}}return t}const gE=yQ;function dL(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function Yc(e,t,i,r,s){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:E,onAppear:S,onAfterAppear:T,onAppearCancelled:w}=t,_=String(e.key),M=dL(i,e),I=(N,U)=>{N&&ws(N,r,9,U)},C=(N,U)=>{const j=U[1];I(N,U),Ee(N)?N.every(F=>F.length<=1)&&j():N.length<=1&&j()},P={mode:o,persisted:a,beforeEnter(N){let U=l;if(!i.isMounted)if(n)U=E||l;else return;N[Ya]&&N[Ya](!0);const j=M[_];j&&hn(e,j)&&j.el[Ya]&&j.el[Ya](),I(U,[N])},enter(N){let U=c,j=f,F=d;if(!i.isMounted)if(n)U=S||c,j=T||f,F=w||d;else return;let q=!1;const te=N[M0]=h=>{q||(q=!0,h?I(F,[N]):I(j,[N]),P.delayedLeave&&P.delayedLeave(),N[M0]=void 0)};U?C(U,[N,te]):te()},leave(N,U){const j=String(e.key);if(N[M0]&&N[M0](!0),i.isUnmounting)return U();I(p,[N]);let F=!1;const q=N[Ya]=te=>{F||(F=!0,U(),te?I(b,[N]):I(v,[N]),N[Ya]=void 0,M[j]===e&&delete M[j])};M[j]=e,y?C(y,[N,q]):q()},clone(N){const U=Yc(N,t,i,r,s);return s&&s(U),U}};return P}function Hb(e){if(Rm(e))return e=$n(e),e.children=null,e}function W4(e){if(!Rm(e))return lL(e.type)&&e.children?fL(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&Fe(i.default))return i.default()}}function xo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,xo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function km(e,t=!1,i){let r=[],s=0;for(let n=0;n<e.length;n++){let o=e[n];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:n);o.type===$t?(o.patchFlag&128&&s++,r=r.concat(km(o.children,t,a))):(t||o.type!==wi)&&r.push(a!=null?$n(o,{key:a}):o)}if(s>1)for(let n=0;n<r.length;n++)r[n].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rt(e,t){return Fe(e)?nt({name:e.name},t,{setup:e}):e}function pL(){const e=ki();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function vE(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Fg(e){const t=ki(),i=$f(null);if(t){const s=t.refs===st?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>i.value,set:n=>i.value=n})}return i}function Gp(e,t,i,r,s=!1){if(Ee(e)){e.forEach((v,b)=>Gp(v,t&&(Ee(t)?t[b]:t),i,r,s));return}if(fl(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Gp(e,t,i,r.component.subTree);return}const n=r.shapeFlag&4?Fm(r.component):r.el,o=s?null:n,{i:a,r:l}=e,c=t&&t.r,f=a.refs===st?a.refs={}:a.refs,d=a.setupState,p=Ge(d),y=d===st?()=>!1:v=>vt(p,v);if(c!=null&&c!==l&&(Je(c)?(f[c]=null,y(c)&&(d[c]=null)):ht(c)&&(c.value=null)),Fe(l))fu(l,a,12,[o,f]);else{const v=Je(l),b=ht(l);if(v||b){const E=()=>{if(e.f){const S=v?y(l)?d[l]:f[l]:l.value;s?Ee(S)&&sE(S,n):Ee(S)?S.includes(n)||S.push(n):v?(f[l]=[n],y(l)&&(d[l]=f[l])):(l.value=[n],e.k&&(f[e.k]=l.value))}else v?(f[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,e.k&&(f[e.k]=o))};o?(E.id=-1,ji(E,i)):E()}}}let H4=!1;const Ou=()=>{H4||(console.error("Hydration completed but contains mismatches."),H4=!0)},gQ=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",vQ=e=>e.namespaceURI.includes("MathML"),I0=e=>{if(e.nodeType===1){if(gQ(e))return"svg";if(vQ(e))return"mathml"}},rh=e=>e.nodeType===8;function bQ(e){const{mt:t,p:i,o:{patchProp:r,createText:s,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(w,_)=>{if(!_.hasChildNodes()){i(null,w,_),Dg(),_._vnode=w;return}d(_.firstChild,w,null,null,null),Dg(),_._vnode=w},d=(w,_,M,I,C,P=!1)=>{P=P||!!_.dynamicChildren;const N=rh(w)&&w.data==="[",U=()=>b(w,_,M,I,C,N),{type:j,ref:F,shapeFlag:q,patchFlag:te}=_;let h=w.nodeType;_.el=w,te===-2&&(P=!1,_.dynamicChildren=null);let m=null;switch(j){case ho:h!==3?_.children===""?(l(_.el=s(""),o(w),w),m=w):m=U():(w.data!==_.children&&(Ou(),w.data=_.children),m=n(w));break;case wi:T(w)?(m=n(w),S(_.el=w.content.firstChild,w,M)):h!==8||N?m=U():m=n(w);break;case dl:if(N&&(w=n(w),h=w.nodeType),h===1||h===3){m=w;const x=!_.children.length;for(let $=0;$<_.staticCount;$++)x&&(_.children+=m.nodeType===1?m.outerHTML:m.data),$===_.staticCount-1&&(_.anchor=m),m=n(m);return N?n(m):m}else U();break;case $t:N?m=v(w,_,M,I,C,P):m=U();break;default:if(q&1)(h!==1||_.type.toLowerCase()!==w.tagName.toLowerCase())&&!T(w)?m=U():m=p(w,_,M,I,C,P);else if(q&6){_.slotScopeIds=C;const x=o(w);if(N?m=E(w):rh(w)&&w.data==="teleport start"?m=E(w,w.data,"teleport end"):m=n(w),t(_,x,null,M,I,I0(x),P),fl(_)&&!_.type.__asyncResolved){let $;N?($=Ke($t),$.anchor=m?m.previousSibling:x.lastChild):$=w.nodeType===3?fo(""):Ke("div"),$.el=w,_.component.subTree=$}}else q&64?h!==8?m=U():m=_.type.hydrate(w,_,M,I,C,P,e,y):q&128&&(m=_.type.hydrate(w,_,M,I,I0(o(w)),C,P,e,d))}return F!=null&&Gp(F,null,I,_),m},p=(w,_,M,I,C,P)=>{P=P||!!_.dynamicChildren;const{type:N,props:U,patchFlag:j,shapeFlag:F,dirs:q,transition:te}=_,h=N==="input"||N==="option";if(h||j!==-1){q&&Qn(_,null,M,"created");let m=!1;if(T(w)){m=ZL(null,te)&&M&&M.vnode.props&&M.vnode.props.appear;const $=w.content.firstChild;m&&te.beforeEnter($),S($,w,M),_.el=w=$}if(F&16&&!(U&&(U.innerHTML||U.textContent))){let $=y(w.firstChild,_,w,M,I,C,P);for(;$;){O0(w,1)||Ou();const B=$;$=$.nextSibling,a(B)}}else if(F&8){let $=_.children;$[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&($=$.slice(1)),w.textContent!==$&&(O0(w,0)||Ou(),w.textContent=_.children)}if(U){if(h||!P||j&48){const $=w.tagName.includes("-");for(const B in U)(h&&(B.endsWith("value")||B==="indeterminate")||uu(B)&&!hl(B)||B[0]==="."||$)&&r(w,B,null,U[B],void 0,M)}else if(U.onClick)r(w,"onClick",null,U.onClick,void 0,M);else if(j&4&&bs(U.style))for(const $ in U.style)U.style[$]}let x;(x=U&&U.onVnodeBeforeMount)&&Yr(x,M,_),q&&Qn(_,null,M,"beforeMount"),((x=U&&U.onVnodeMounted)||q||m)&&o8(()=>{x&&Yr(x,M,_),m&&te.enter(w),q&&Qn(_,null,M,"mounted")},I)}return w.nextSibling},y=(w,_,M,I,C,P,N)=>{N=N||!!_.dynamicChildren;const U=_.children,j=U.length;for(let F=0;F<j;F++){const q=N?U[F]:U[F]=Zr(U[F]),te=q.type===ho;w?(te&&!N&&F+1<j&&Zr(U[F+1]).type===ho&&(l(s(w.data.slice(q.children.length)),M,n(w)),w.data=q.children),w=d(w,q,I,C,P,N)):te&&!q.children?l(q.el=s(""),M):(O0(M,1)||Ou(),i(null,q,M,null,I,C,I0(M),P))}return w},v=(w,_,M,I,C,P)=>{const{slotScopeIds:N}=_;N&&(C=C?C.concat(N):N);const U=o(w),j=y(n(w),_,U,M,I,C,P);return j&&rh(j)&&j.data==="]"?n(_.anchor=j):(Ou(),l(_.anchor=c("]"),U,j),j)},b=(w,_,M,I,C,P)=>{if(O0(w.parentElement,1)||Ou(),_.el=null,P){const j=E(w);for(;;){const F=n(w);if(F&&F!==j)a(F);else break}}const N=n(w),U=o(w);return a(w),i(null,_,U,N,M,I,I0(U),C),M&&(M.vnode.el=_.el,Iv(M,_.el)),N},E=(w,_="[",M="]")=>{let I=0;for(;w;)if(w=n(w),w&&rh(w)&&(w.data===_&&I++,w.data===M)){if(I===0)return n(w);I--}return w},S=(w,_,M)=>{const I=_.parentNode;I&&I.replaceChild(w,_);let C=M;for(;C;)C.vnode.el===_&&(C.vnode.el=C.subTree.el=w),C=C.parent},T=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[f,d]}const Y4="data-allow-mismatch",_Q={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function O0(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Y4);)e=e.parentElement;const i=e&&e.getAttribute(Y4);if(i==null)return!1;if(i==="")return!0;{const r=i.split(",");return t===0&&r.includes("children")?!0:i.split(",").includes(_Q[t])}}const wQ=hv().requestIdleCallback||(e=>setTimeout(e,1)),xQ=hv().cancelIdleCallback||(e=>clearTimeout(e)),mL=(e=1e4)=>t=>{const i=wQ(t,{timeout:e});return()=>xQ(i)};function SQ(e){const{top:t,left:i,bottom:r,right:s}=e.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(t>0&&t<n||r>0&&r<n)&&(i>0&&i<o||s>0&&s<o)}const yL=e=>(t,i)=>{const r=new IntersectionObserver(s=>{for(const n of s)if(n.isIntersecting){r.disconnect(),t();break}},e);return i(s=>{if(s instanceof Element){if(SQ(s))return t(),r.disconnect(),!1;r.observe(s)}}),()=>r.disconnect()},gL=e=>t=>{if(e){const i=matchMedia(e);if(i.matches)t();else return i.addEventListener("change",t,{once:!0}),()=>i.removeEventListener("change",t)}},vL=(e=[])=>(t,i)=>{Je(e)&&(e=[e]);let r=!1;const s=o=>{r||(r=!0,n(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{i(o=>{for(const a of e)o.removeEventListener(a,s)})};return i(o=>{for(const a of e)o.addEventListener(a,s,{once:!0})}),n};function EQ(e,t){if(rh(e)&&e.data==="["){let i=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(rh(r))if(r.data==="]"){if(--i===0)break}else r.data==="["&&i++;r=r.nextSibling}}else t(e)}const fl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function bE(e){Fe(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:s=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=t().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((E,S)=>{l(b,()=>E(p()),()=>S(b),d+1)});throw b}).then(b=>v!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),f=b,b)))};return rt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,b,E){const S=n?()=>{const T=n(E,w=>EQ(v,w));T&&(b.bum||(b.bum=[])).push(T)}:E;f?S():y().then(()=>!b.isUnmounted&&S())},get __asyncResolved(){return f},setup(){const v=Gi;if(vE(v),f)return()=>Yb(f,v);const b=w=>{c=null,Cl(w,v,13,!r)};if(a&&v.suspense||Gh)return y().then(w=>()=>Yb(w,v)).catch(w=>(b(w),()=>r?Ke(r,{error:w}):null));const E=X(!1),S=X(),T=X(!!s);return s&&setTimeout(()=>{T.value=!1},s),o!=null&&setTimeout(()=>{if(!E.value&&!S.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),S.value=w}},o),y().then(()=>{E.value=!0,v.parent&&Rm(v.parent.vnode)&&v.parent.update()}).catch(w=>{b(w),S.value=w}),()=>{if(E.value&&f)return Yb(f,v);if(S.value&&r)return Ke(r,{error:S.value});if(i&&!T.value)return Ke(i)}}})}function Yb(e,t){const{ref:i,props:r,children:s,ce:n}=t.vnode,o=Ke(e,r,s);return o.ref=i,o.ce=n,delete t.vnode.ce,o}const Rm=e=>e.type.__isKeepAlive,AQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=ki(),r=i.ctx;if(!r.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const s=new Map,n=new Set;let o=null;const a=i.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=r,p=d("div");r.activate=(T,w,_,M,I)=>{const C=T.component;c(T,w,_,0,a),l(C.vnode,T,w,_,C,a,M,T.slotScopeIds,I),ji(()=>{C.isDeactivated=!1,C.a&&xh(C.a);const P=T.props&&T.props.onVnodeMounted;P&&Yr(P,C.parent,T)},a)},r.deactivate=T=>{const w=T.component;jg(w.m),jg(w.a),c(T,p,null,1,a),ji(()=>{w.da&&xh(w.da);const _=T.props&&T.props.onVnodeUnmounted;_&&Yr(_,w.parent,T),w.isDeactivated=!0},a)};function y(T){Jb(T),f(T,i,a,!0)}function v(T){s.forEach((w,_)=>{const M=Hw(w.type);M&&!T(M)&&b(_)})}function b(T){const w=s.get(T);w&&(!o||!hn(w,o))?y(w):o&&Jb(o),s.delete(T),n.delete(T)}Wi(()=>[e.include,e.exclude],([T,w])=>{T&&v(_=>Cd(T,_)),w&&v(_=>!Cd(w,_))},{flush:"post",deep:!0});let E=null;const S=()=>{E!=null&&(Vg(i.subTree.type)?ji(()=>{s.set(E,$0(i.subTree))},i.subTree.suspense):s.set(E,$0(i.subTree)))};return lr(S),Cf(S),kn(()=>{s.forEach(T=>{const{subTree:w,suspense:_}=i,M=$0(w);if(T.type===M.type&&T.key===M.key){Jb(M);const I=M.component.da;I&&ji(I,_);return}y(T)})}),()=>{if(E=null,!t.default)return o=null;const T=t.default(),w=T[0];if(T.length>1)return o=null,T;if(!On(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let _=$0(w);if(_.type===wi)return o=null,_;const M=_.type,I=Hw(fl(_)?_.type.__asyncResolved||{}:M),{include:C,exclude:P,max:N}=e;if(C&&(!I||!Cd(C,I))||P&&I&&Cd(P,I))return _.shapeFlag&=-257,o=_,w;const U=_.key==null?M:_.key,j=s.get(U);return _.el&&(_=$n(_),w.shapeFlag&128&&(w.ssContent=_)),E=U,j?(_.el=j.el,_.component=j.component,_.transition&&xo(_,_.transition),_.shapeFlag|=512,n.delete(U),n.add(U)):(n.add(U),N&&n.size>parseInt(N,10)&&b(n.values().next().value)),_.shapeFlag|=256,o=_,Vg(w.type)?w:_}}},bL=AQ;function Cd(e,t){return Ee(e)?e.some(i=>Cd(i,t)):Je(e)?e.split(",").includes(t):mX(e)?(e.lastIndex=0,e.test(t)):!1}function _E(e,t){_L(e,"a",t)}function wE(e,t){_L(e,"da",t)}function _L(e,t,i=Gi){const r=e.__wdc||(e.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ev(t,r,i),i){let s=i.parent;for(;s&&s.parent;)Rm(s.parent.vnode)&&TQ(r,t,i,s),s=s.parent}}function TQ(e,t,i,r){const s=Ev(t,e,r,!0);du(()=>{sE(r[t],s)},i)}function Jb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function $0(e){return e.shapeFlag&128?e.ssContent:e}function Ev(e,t,i=Gi,r=!1){if(i){const s=i[e]||(i[e]=[]),n=t.__weh||(t.__weh=(...o)=>{Ol();const a=Zc(i),l=ws(t,i,e,o);return a(),$l(),l});return r?s.unshift(n):s.push(n),n}}const fa=e=>(t,i=Gi)=>{(!Gh||e==="sp")&&Ev(e,(...r)=>t(...r),i)},Av=fa("bm"),lr=fa("m"),Tv=fa("bu"),Cf=fa("u"),kn=fa("bum"),du=fa("um"),xE=fa("sp"),SE=fa("rtg"),EE=fa("rtc");function AE(e,t=Gi){Ev("ec",e,t)}const TE="components",MQ="directives";function _i(e,t){return IE(TE,e,!0,t)||e}const wL=Symbol.for("v-ndc");function ME(e){return Je(e)?IE(TE,e,!1)||e:e||wL}function At(e){return IE(MQ,e)}function IE(e,t,i=!0,r=!1){const s=zi||Gi;if(s){const n=s.type;if(e===TE){const a=Hw(n,!1);if(a&&(a===t||a===Bt(t)||a===Ml(Bt(t))))return n}const o=J4(s[e]||n[e],t)||J4(s.appContext[e],t);return!o&&r?n:o}}function J4(e,t){return e&&(e[t]||e[Bt(t)]||e[Ml(Bt(t))])}function Nl(e,t,i,r){let s;const n=i&&i[r],o=Ee(e);if(o||Je(e)){const a=o&&bs(e);let l=!1;a&&(l=!rs(e),e=yv(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(l?br(e[c]):e[c],c,void 0,n&&n[c])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,n&&n[a])}else if(It(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,n&&n[l]));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];s[l]=t(e[f],f,l,n&&n[l])}}else s=[];return i&&(i[r]=s),s}function xL(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(Ee(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const n=r.fn(...s);return n&&(n.key=r.key),n}:r.fn)}return e}function pn(e,t,i={},r,s){if(zi.ce||zi.parent&&fl(zi.parent)&&zi.parent.ce)return t!=="default"&&(i.name=t),fe(),Vt($t,null,[Ke("slot",i,r&&r())],64);let n=e[t];n&&n._c&&(n._d=!1),fe();const o=n&&OE(n(i)),a=i.key||o&&o.key,l=Vt($t,{key:(a&&!ls(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function OE(e){return e.some(t=>On(t)?!(t.type===wi||t.type===$t&&!OE(t.children)):!0)?e:null}function SL(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:Mc(r)]=e[r];return i}const Dw=e=>e?d8(e)?Fm(e):Dw(e.parent):null,Xd=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dw(e.parent),$root:e=>Dw(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$E(e),$forceUpdate:e=>e.f||(e.f=()=>{mE(e.update)}),$nextTick:e=>e.n||(e.n=Ln.bind(e.proxy)),$watch:e=>GQ.bind(e)}),Zb=(e,t)=>e!==st&&!e.__isScriptSetup&&vt(e,t),Fw={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:r,data:s,props:n,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return s[t];case 4:return i[t];case 3:return n[t]}else{if(Zb(r,t))return o[t]=1,r[t];if(s!==st&&vt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,n[t];if(i!==st&&vt(i,t))return o[t]=4,i[t];Uw&&(o[t]=0)}}const f=Xd[t];let d,p;if(f)return t==="$attrs"&&vr(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(i!==st&&vt(i,t))return o[t]=4,i[t];if(p=l.config.globalProperties,vt(p,t))return p[t]},set({_:e},t,i){const{data:r,setupState:s,ctx:n}=e;return Zb(s,t)?(s[t]=i,!0):r!==st&&vt(r,t)?(r[t]=i,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:s,propsOptions:n}},o){let a;return!!i[o]||e!==st&&vt(e,o)||Zb(t,o)||(a=n[0])&&vt(a,o)||vt(r,o)||vt(Xd,o)||vt(s.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:vt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},IQ=nt({},Fw,{get(e,t){if(t!==Symbol.unscopables)return Fw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!xX(t)}});function EL(){return null}function AL(){return null}function TL(e){}function ML(e){}function IL(){return null}function OL(){}function $L(e,t){return null}function CL(){return PL().slots}function NL(){return PL().attrs}function PL(){const e=ki();return e.setupContext||(e.setupContext=g8(e))}function zp(e){return Ee(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function LL(e,t){const i=zp(e);for(const r in t){if(r.startsWith("__skip"))continue;let s=i[r];s?Ee(s)||Fe(s)?s=i[r]={type:s,default:t[r]}:s.default=t[r]:s===null&&(s=i[r]={default:t[r]}),s&&t[`__skip_${r}`]&&(s.skipFactory=!0)}return i}function kL(e,t){return!e||!t?e||t:Ee(e)&&Ee(t)?e.concat(t):nt({},zp(e),zp(t))}function RL(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function DL(e){const t=ki();let i=e();return zw(),nE(i)&&(i=i.catch(r=>{throw Zc(t),r})),[i,()=>Zc(t)]}let Uw=!0;function OQ(e){const t=$E(e),i=e.proxy,r=e.ctx;Uw=!1,t.beforeCreate&&Z4(t.beforeCreate,e,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:b,deactivated:E,beforeDestroy:S,beforeUnmount:T,destroyed:w,unmounted:_,render:M,renderTracked:I,renderTriggered:C,errorCaptured:P,serverPrefetch:N,expose:U,inheritAttrs:j,components:F,directives:q,filters:te}=t;if(c&&$Q(c,r,null),o)for(const x in o){const $=o[x];Fe($)&&(r[x]=$.bind(i))}if(s){const x=s.call(i,i);It(x)&&(e.data=tr(x))}if(Uw=!0,n)for(const x in n){const $=n[x],B=Fe($)?$.bind(i,i):Fe($.get)?$.get.bind(i,i):or,Y=!Fe($)&&Fe($.set)?$.set.bind(i):or,pe=tt({get:B,set:Y});Object.defineProperty(r,x,{enumerable:!0,configurable:!0,get:()=>pe.value,set:le=>pe.value=le})}if(a)for(const x in a)FL(a[x],r,i,x);if(l){const x=Fe(l)?l.call(i):l;Reflect.ownKeys(x).forEach($=>{CE($,x[$])})}f&&Z4(f,e,"c");function m(x,$){Ee($)?$.forEach(B=>x(B.bind(i))):$&&x($.bind(i))}if(m(Av,d),m(lr,p),m(Tv,y),m(Cf,v),m(_E,b),m(wE,E),m(AE,P),m(EE,I),m(SE,C),m(kn,T),m(du,_),m(xE,N),Ee(U))if(U.length){const x=e.exposed||(e.exposed={});U.forEach($=>{Object.defineProperty(x,$,{get:()=>i[$],set:B=>i[$]=B})})}else e.exposed||(e.exposed={});M&&e.render===or&&(e.render=M),j!=null&&(e.inheritAttrs=j),F&&(e.components=F),q&&(e.directives=q),N&&vE(e)}function $Q(e,t,i=or){Ee(e)&&(e=jw(e));for(const r in e){const s=e[r];let n;It(s)?"default"in s?n=Li(s.from||r,s.default,!0):n=Li(s.from||r):n=Li(s),ht(n)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):t[r]=n}}function Z4(e,t,i){ws(Ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function FL(e,t,i,r){let s=r.includes(".")?e8(i,r):()=>i[r];if(Je(e)){const n=t[e];Fe(n)&&Wi(s,n)}else if(Fe(e))Wi(s,e.bind(i));else if(It(e))if(Ee(e))e.forEach(n=>FL(n,t,i,r));else{const n=Fe(e.handler)?e.handler.bind(i):t[e.handler];Fe(n)&&Wi(s,n,e)}}function $E(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(t);let l;return a?l=a:!s.length&&!i&&!r?l=t:(l={},s.length&&s.forEach(c=>Ug(l,c,o,!0)),Ug(l,t,o)),It(t)&&n.set(t,l),l}function Ug(e,t,i,r=!1){const{mixins:s,extends:n}=t;n&&Ug(e,n,i,!0),s&&s.forEach(o=>Ug(e,o,i,!0));for(const o in t)if(!(r&&o==="expose")){const a=CQ[o]||i&&i[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const CQ={data:K4,props:X4,emits:X4,methods:Nd,computed:Nd,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:Nd,directives:Nd,watch:PQ,provide:K4,inject:NQ};function K4(e,t){return t?e?function(){return nt(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function NQ(e,t){return Nd(jw(e),jw(t))}function jw(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ir(e,t){return e?[...new Set([].concat(e,t))]:t}function Nd(e,t){return e?nt(Object.create(null),e,t):t}function X4(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:nt(Object.create(null),zp(e),zp(t??{})):t}function PQ(e,t){if(!e)return t;if(!t)return e;const i=nt(Object.create(null),e);for(const r in t)i[r]=Ir(e[r],t[r]);return i}function UL(){return{app:null,config:{isNativeTag:$d,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let LQ=0;function kQ(e,t){return function(r,s=null){Fe(r)||(r=nt({},r)),s!=null&&!It(s)&&(s=null);const n=UL(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:LQ++,_component:r,_props:s,_container:null,_context:n,_instance:null,version:zE,get config(){return n.config},set config(f){},use(f,...d){return o.has(f)||(f&&Fe(f.install)?(o.add(f),f.install(c,...d)):Fe(f)&&(o.add(f),f(c,...d))),c},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),c},component(f,d){return d?(n.components[f]=d,c):n.components[f]},directive(f,d){return d?(n.directives[f]=d,c):n.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Ke(r,s);return y.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,f):e(y,f,p),l=!0,c._container=f,f.__vue_app__=c,Fm(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(ws(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,d){return n.provides[f]=d,c},runWithContext(f){const d=Oc;Oc=c;try{return f()}finally{Oc=d}}};return c}}let Oc=null;function CE(e,t){if(Gi){let i=Gi.provides;const r=Gi.parent&&Gi.parent.provides;r===i&&(i=Gi.provides=Object.create(r)),i[e]=t}}function Li(e,t,i=!1){const r=Gi||zi;if(r||Oc){const s=Oc?Oc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return i&&Fe(t)?t.call(r&&r.proxy):t}}function NE(){return!!(Gi||zi||Oc)}const jL={},VL=()=>Object.create(jL),BL=e=>Object.getPrototypeOf(e)===jL;function RQ(e,t,i,r=!1){const s={},n=VL();e.propsDefaults=Object.create(null),GL(e,t,s,n);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);i?e.props=r?s:hE(s):e.type.props?e.props=s:e.props=n,e.attrs=n}function DQ(e,t,i,r){const{props:s,attrs:n,vnode:{patchFlag:o}}=e,a=Ge(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(Mv(e.emitsOptions,p))continue;const y=t[p];if(l)if(vt(n,p))y!==n[p]&&(n[p]=y,c=!0);else{const v=Bt(p);s[v]=Vw(l,a,v,y,e,!1)}else y!==n[p]&&(n[p]=y,c=!0)}}}else{GL(e,t,s,n)&&(c=!0);let f;for(const d in a)(!t||!vt(t,d)&&((f=Qr(d))===d||!vt(t,f)))&&(l?i&&(i[d]!==void 0||i[f]!==void 0)&&(s[d]=Vw(l,a,d,void 0,e,!0)):delete s[d]);if(n!==a)for(const d in n)(!t||!vt(t,d))&&(delete n[d],c=!0)}c&&Xo(e.attrs,"set","")}function GL(e,t,i,r){const[s,n]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(hl(l))continue;const c=t[l];let f;s&&vt(s,f=Bt(l))?!n||!n.includes(f)?i[f]=c:(a||(a={}))[f]=c:Mv(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(n){const l=Ge(i),c=a||st;for(let f=0;f<n.length;f++){const d=n[f];i[d]=Vw(s,l,d,c[d],e,!vt(c,d))}}return o}function Vw(e,t,i,r,s,n){const o=e[i];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(l)){const{propsDefaults:c}=s;if(i in c)r=c[i];else{const f=Zc(s);r=c[i]=l.call(null,t),f()}}else r=l;s.ce&&s.ce._setProp(i,r)}o[0]&&(n&&!a?r=!1:o[1]&&(r===""||r===Qr(i))&&(r=!0))}return r}const FQ=new WeakMap;function zL(e,t,i=!1){const r=i?FQ:t.propsCache,s=r.get(e);if(s)return s;const n=e.props,o={},a=[];let l=!1;if(!Fe(e)){const f=d=>{l=!0;const[p,y]=zL(d,t,!0);nt(o,p),y&&a.push(...y)};!i&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!n&&!l)return It(e)&&r.set(e,_h),_h;if(Ee(n))for(let f=0;f<n.length;f++){const d=Bt(n[f]);Q4(d)&&(o[d]=st)}else if(n)for(const f in n){const d=Bt(f);if(Q4(d)){const p=n[f],y=o[d]=Ee(p)||Fe(p)?{type:p}:nt({},p),v=y.type;let b=!1,E=!0;if(Ee(v))for(let S=0;S<v.length;++S){const T=v[S],w=Fe(T)&&T.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(E=!1)}else b=Fe(v)&&v.name==="Boolean";y[0]=b,y[1]=E,(b||vt(y,"default"))&&a.push(d)}}const c=[o,a];return It(e)&&r.set(e,c),c}function Q4(e){return e[0]!=="$"&&!hl(e)}const qL=e=>e[0]==="_"||e==="$stable",PE=e=>Ee(e)?e.map(Zr):[Zr(e)],UQ=(e,t,i)=>{if(t._n)return t;const r=Ti((...s)=>PE(t(...s)),i);return r._c=!1,r},WL=(e,t,i)=>{const r=e._ctx;for(const s in e){if(qL(s))continue;const n=e[s];if(Fe(n))t[s]=UQ(s,n,r);else if(n!=null){const o=PE(n);t[s]=()=>o}}},HL=(e,t)=>{const i=PE(t);e.slots.default=()=>i},YL=(e,t,i)=>{for(const r in t)(i||r!=="_")&&(e[r]=t[r])},jQ=(e,t,i)=>{const r=e.slots=VL();if(e.vnode.shapeFlag&32){const s=t._;s?(YL(r,t,i),i&&bP(r,"_",s,!0)):WL(t,r)}else t&&HL(e,t)},VQ=(e,t,i)=>{const{vnode:r,slots:s}=e;let n=!0,o=st;if(r.shapeFlag&32){const a=t._;a?i&&a===1?n=!1:YL(s,t,i):(n=!t.$stable,WL(t,s)),o=t}else t&&(HL(e,t),o={default:1});if(n)for(const a in s)!qL(a)&&o[a]==null&&delete s[a]},ji=o8;function LE(e){return JL(e)}function kE(e){return JL(e,bQ)}function JL(e,t){const i=hv();i.__VUE__=!0;const{insert:r,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=or,insertStaticContent:v}=e,b=(V,D,H,oe=null,Q=null,ce=null,ye=void 0,L=null,k=!!D.dynamicChildren)=>{if(V===D)return;V&&!hn(V,D)&&(oe=Gt(V),le(V,Q,ce,!0),V=null),D.patchFlag===-2&&(k=!1,D.dynamicChildren=null);const{type:G,ref:ee,shapeFlag:se}=D;switch(G){case ho:E(V,D,H,oe);break;case wi:S(V,D,H,oe);break;case dl:V==null&&T(D,H,oe,ye);break;case $t:F(V,D,H,oe,Q,ce,ye,L,k);break;default:se&1?M(V,D,H,oe,Q,ce,ye,L,k):se&6?q(V,D,H,oe,Q,ce,ye,L,k):(se&64||se&128)&&G.process(V,D,H,oe,Q,ce,ye,L,k,Rt)}ee!=null&&Q&&Gp(ee,V&&V.ref,ce,D||V,!D)},E=(V,D,H,oe)=>{if(V==null)r(D.el=a(D.children),H,oe);else{const Q=D.el=V.el;D.children!==V.children&&c(Q,D.children)}},S=(V,D,H,oe)=>{V==null?r(D.el=l(D.children||""),H,oe):D.el=V.el},T=(V,D,H,oe)=>{[V.el,V.anchor]=v(V.children,D,H,oe,V.el,V.anchor)},w=({el:V,anchor:D},H,oe)=>{let Q;for(;V&&V!==D;)Q=p(V),r(V,H,oe),V=Q;r(D,H,oe)},_=({el:V,anchor:D})=>{let H;for(;V&&V!==D;)H=p(V),s(V),V=H;s(D)},M=(V,D,H,oe,Q,ce,ye,L,k)=>{D.type==="svg"?ye="svg":D.type==="math"&&(ye="mathml"),V==null?I(D,H,oe,Q,ce,ye,L,k):N(V,D,Q,ce,ye,L,k)},I=(V,D,H,oe,Q,ce,ye,L)=>{let k,G;const{props:ee,shapeFlag:se,transition:ne,dirs:W}=V;if(k=V.el=o(V.type,ce,ee&&ee.is,ee),se&8?f(k,V.children):se&16&&P(V.children,k,null,oe,Q,Kb(V,ce),ye,L),W&&Qn(V,null,oe,"created"),C(k,V,V.scopeId,ye,oe),ee){for(const Ae in ee)Ae!=="value"&&!hl(Ae)&&n(k,Ae,null,ee[Ae],ce,oe);"value"in ee&&n(k,"value",null,ee.value,ce),(G=ee.onVnodeBeforeMount)&&Yr(G,oe,V)}W&&Qn(V,null,oe,"beforeMount");const Z=ZL(Q,ne);Z&&ne.beforeEnter(k),r(k,D,H),((G=ee&&ee.onVnodeMounted)||Z||W)&&ji(()=>{G&&Yr(G,oe,V),Z&&ne.enter(k),W&&Qn(V,null,oe,"mounted")},Q)},C=(V,D,H,oe,Q)=>{if(H&&y(V,H),oe)for(let ce=0;ce<oe.length;ce++)y(V,oe[ce]);if(Q){let ce=Q.subTree;if(D===ce||Vg(ce.type)&&(ce.ssContent===D||ce.ssFallback===D)){const ye=Q.vnode;C(V,ye,ye.scopeId,ye.slotScopeIds,Q.parent)}}},P=(V,D,H,oe,Q,ce,ye,L,k=0)=>{for(let G=k;G<V.length;G++){const ee=V[G]=L?Ja(V[G]):Zr(V[G]);b(null,ee,D,H,oe,Q,ce,ye,L)}},N=(V,D,H,oe,Q,ce,ye)=>{const L=D.el=V.el;let{patchFlag:k,dynamicChildren:G,dirs:ee}=D;k|=V.patchFlag&16;const se=V.props||st,ne=D.props||st;let W;if(H&&ql(H,!1),(W=ne.onVnodeBeforeUpdate)&&Yr(W,H,D,V),ee&&Qn(D,V,H,"beforeUpdate"),H&&ql(H,!0),(se.innerHTML&&ne.innerHTML==null||se.textContent&&ne.textContent==null)&&f(L,""),G?U(V.dynamicChildren,G,L,H,oe,Kb(D,Q),ce):ye||$(V,D,L,null,H,oe,Kb(D,Q),ce,!1),k>0){if(k&16)j(L,se,ne,H,Q);else if(k&2&&se.class!==ne.class&&n(L,"class",null,ne.class,Q),k&4&&n(L,"style",se.style,ne.style,Q),k&8){const Z=D.dynamicProps;for(let Ae=0;Ae<Z.length;Ae++){const ke=Z[Ae],Dt=se[ke],zt=ne[ke];(zt!==Dt||ke==="value")&&n(L,ke,Dt,zt,Q,H)}}k&1&&V.children!==D.children&&f(L,D.children)}else!ye&&G==null&&j(L,se,ne,H,Q);((W=ne.onVnodeUpdated)||ee)&&ji(()=>{W&&Yr(W,H,D,V),ee&&Qn(D,V,H,"updated")},oe)},U=(V,D,H,oe,Q,ce,ye)=>{for(let L=0;L<D.length;L++){const k=V[L],G=D[L],ee=k.el&&(k.type===$t||!hn(k,G)||k.shapeFlag&70)?d(k.el):H;b(k,G,ee,null,oe,Q,ce,ye,!0)}},j=(V,D,H,oe,Q)=>{if(D!==H){if(D!==st)for(const ce in D)!hl(ce)&&!(ce in H)&&n(V,ce,D[ce],null,Q,oe);for(const ce in H){if(hl(ce))continue;const ye=H[ce],L=D[ce];ye!==L&&ce!=="value"&&n(V,ce,L,ye,Q,oe)}"value"in H&&n(V,"value",D.value,H.value,Q)}},F=(V,D,H,oe,Q,ce,ye,L,k)=>{const G=D.el=V?V.el:a(""),ee=D.anchor=V?V.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:W}=D;W&&(L=L?L.concat(W):W),V==null?(r(G,H,oe),r(ee,H,oe),P(D.children||[],H,ee,Q,ce,ye,L,k)):se>0&&se&64&&ne&&V.dynamicChildren?(U(V.dynamicChildren,ne,H,Q,ce,ye,L),(D.key!=null||Q&&D===Q.subTree)&&RE(V,D,!0)):$(V,D,H,ee,Q,ce,ye,L,k)},q=(V,D,H,oe,Q,ce,ye,L,k)=>{D.slotScopeIds=L,V==null?D.shapeFlag&512?Q.ctx.activate(D,H,oe,ye,k):te(D,H,oe,Q,ce,ye,k):h(V,D,k)},te=(V,D,H,oe,Q,ce,ye)=>{const L=V.component=f8(V,oe,Q);if(Rm(V)&&(L.ctx.renderer=Rt),p8(L,!1,ye),L.asyncDep){if(Q&&Q.registerDep(L,m,ye),!V.el){const k=L.subTree=Ke(wi);S(null,k,D,H)}}else m(L,V,D,H,Q,ce,ye)},h=(V,D,H)=>{const oe=D.component=V.component;if(YQ(V,D,H))if(oe.asyncDep&&!oe.asyncResolved){x(oe,D,H);return}else oe.next=D,oe.update();else D.el=V.el,oe.vnode=D},m=(V,D,H,oe,Q,ce,ye)=>{const L=()=>{if(V.isMounted){let{next:se,bu:ne,u:W,parent:Z,vnode:Ae}=V;{const Ri=KL(V);if(Ri){se&&(se.el=Ae.el,x(V,se,ye)),Ri.asyncDep.then(()=>{V.isUnmounted||L()});return}}let ke=se,Dt;ql(V,!1),se?(se.el=Ae.el,x(V,se,ye)):se=Ae,ne&&xh(ne),(Dt=se.props&&se.props.onVnodeBeforeUpdate)&&Yr(Dt,Z,se,Ae),ql(V,!0);const zt=Ly(V),ai=V.subTree;V.subTree=zt,b(ai,zt,d(ai.el),Gt(ai),V,Q,ce),se.el=zt.el,ke===null&&Iv(V,zt.el),W&&ji(W,Q),(Dt=se.props&&se.props.onVnodeUpdated)&&ji(()=>Yr(Dt,Z,se,Ae),Q)}else{let se;const{el:ne,props:W}=D,{bm:Z,m:Ae,parent:ke,root:Dt,type:zt}=V,ai=fl(D);if(ql(V,!1),Z&&xh(Z),!ai&&(se=W&&W.onVnodeBeforeMount)&&Yr(se,ke,D),ql(V,!0),ne&&Ji){const Ri=()=>{V.subTree=Ly(V),Ji(ne,V.subTree,V,Q,null)};ai&&zt.__asyncHydrate?zt.__asyncHydrate(ne,V,Ri):Ri()}else{Dt.ce&&Dt.ce._injectChildStyle(zt);const Ri=V.subTree=Ly(V);b(null,Ri,H,oe,V,Q,ce),D.el=Ri.el}if(Ae&&ji(Ae,Q),!ai&&(se=W&&W.onVnodeMounted)){const Ri=D;ji(()=>Yr(se,ke,Ri),Q)}(D.shapeFlag&256||ke&&fl(ke.vnode)&&ke.vnode.shapeFlag&256)&&V.a&&ji(V.a,Q),V.isMounted=!0,D=H=oe=null}};V.scope.on();const k=V.effect=new Vh(L);V.scope.off();const G=V.update=k.run.bind(k),ee=V.job=k.runIfDirty.bind(k);ee.i=V,ee.id=V.uid,k.scheduler=()=>mE(ee),ql(V,!0),G()},x=(V,D,H)=>{D.component=V;const oe=V.vnode.props;V.vnode=D,V.next=null,DQ(V,D.props,oe,H),VQ(V,D.children,H),Ol(),B4(V),$l()},$=(V,D,H,oe,Q,ce,ye,L,k=!1)=>{const G=V&&V.children,ee=V?V.shapeFlag:0,se=D.children,{patchFlag:ne,shapeFlag:W}=D;if(ne>0){if(ne&128){Y(G,se,H,oe,Q,ce,ye,L,k);return}else if(ne&256){B(G,se,H,oe,Q,ce,ye,L,k);return}}W&8?(ee&16&&at(G,Q,ce),se!==G&&f(H,se)):ee&16?W&16?Y(G,se,H,oe,Q,ce,ye,L,k):at(G,Q,ce,!0):(ee&8&&f(H,""),W&16&&P(se,H,oe,Q,ce,ye,L,k))},B=(V,D,H,oe,Q,ce,ye,L,k)=>{V=V||_h,D=D||_h;const G=V.length,ee=D.length,se=Math.min(G,ee);let ne;for(ne=0;ne<se;ne++){const W=D[ne]=k?Ja(D[ne]):Zr(D[ne]);b(V[ne],W,H,null,Q,ce,ye,L,k)}G>ee?at(V,Q,ce,!0,!1,se):P(D,H,oe,Q,ce,ye,L,k,se)},Y=(V,D,H,oe,Q,ce,ye,L,k)=>{let G=0;const ee=D.length;let se=V.length-1,ne=ee-1;for(;G<=se&&G<=ne;){const W=V[G],Z=D[G]=k?Ja(D[G]):Zr(D[G]);if(hn(W,Z))b(W,Z,H,null,Q,ce,ye,L,k);else break;G++}for(;G<=se&&G<=ne;){const W=V[se],Z=D[ne]=k?Ja(D[ne]):Zr(D[ne]);if(hn(W,Z))b(W,Z,H,null,Q,ce,ye,L,k);else break;se--,ne--}if(G>se){if(G<=ne){const W=ne+1,Z=W<ee?D[W].el:oe;for(;G<=ne;)b(null,D[G]=k?Ja(D[G]):Zr(D[G]),H,Z,Q,ce,ye,L,k),G++}}else if(G>ne)for(;G<=se;)le(V[G],Q,ce,!0),G++;else{const W=G,Z=G,Ae=new Map;for(G=Z;G<=ne;G++){const Oe=D[G]=k?Ja(D[G]):Zr(D[G]);Oe.key!=null&&Ae.set(Oe.key,G)}let ke,Dt=0;const zt=ne-Z+1;let ai=!1,Ri=0;const K=new Array(zt);for(G=0;G<zt;G++)K[G]=0;for(G=W;G<=se;G++){const Oe=V[G];if(Dt>=zt){le(Oe,Q,ce,!0);continue}let He;if(Oe.key!=null)He=Ae.get(Oe.key);else for(ke=Z;ke<=ne;ke++)if(K[ke-Z]===0&&hn(Oe,D[ke])){He=ke;break}He===void 0?le(Oe,Q,ce,!0):(K[He-Z]=G+1,He>=Ri?Ri=He:ai=!0,b(Oe,D[He],H,null,Q,ce,ye,L,k),Dt++)}const Te=ai?BQ(K):_h;for(ke=Te.length-1,G=zt-1;G>=0;G--){const Oe=Z+G,He=D[Oe],Xe=Oe+1<ee?D[Oe+1].el:oe;K[G]===0?b(null,He,H,Xe,Q,ce,ye,L,k):ai&&(ke<0||G!==Te[ke]?pe(He,H,Xe,2):ke--)}}},pe=(V,D,H,oe,Q=null)=>{const{el:ce,type:ye,transition:L,children:k,shapeFlag:G}=V;if(G&6){pe(V.component.subTree,D,H,oe);return}if(G&128){V.suspense.move(D,H,oe);return}if(G&64){ye.move(V,D,H,Rt);return}if(ye===$t){r(ce,D,H);for(let se=0;se<k.length;se++)pe(k[se],D,H,oe);r(V.anchor,D,H);return}if(ye===dl){w(V,D,H);return}if(oe!==2&&G&1&&L)if(oe===0)L.beforeEnter(ce),r(ce,D,H),ji(()=>L.enter(ce),Q);else{const{leave:se,delayLeave:ne,afterLeave:W}=L,Z=()=>r(ce,D,H),Ae=()=>{se(ce,()=>{Z(),W&&W()})};ne?ne(ce,Z,Ae):Ae()}else r(ce,D,H)},le=(V,D,H,oe=!1,Q=!1)=>{const{type:ce,props:ye,ref:L,children:k,dynamicChildren:G,shapeFlag:ee,patchFlag:se,dirs:ne,cacheIndex:W}=V;if(se===-2&&(Q=!1),L!=null&&Gp(L,null,H,V,!0),W!=null&&(D.renderCache[W]=void 0),ee&256){D.ctx.deactivate(V);return}const Z=ee&1&&ne,Ae=!fl(V);let ke;if(Ae&&(ke=ye&&ye.onVnodeBeforeUnmount)&&Yr(ke,D,V),ee&6)ze(V.component,H,oe);else{if(ee&128){V.suspense.unmount(H,oe);return}Z&&Qn(V,null,D,"beforeUnmount"),ee&64?V.type.remove(V,D,H,Rt,oe):G&&!G.hasOnce&&(ce!==$t||se>0&&se&64)?at(G,D,H,!1,!0):(ce===$t&&se&384||!Q&&ee&16)&&at(k,D,H),oe&&Me(V)}(Ae&&(ke=ye&&ye.onVnodeUnmounted)||Z)&&ji(()=>{ke&&Yr(ke,D,V),Z&&Qn(V,null,D,"unmounted")},H)},Me=V=>{const{type:D,el:H,anchor:oe,transition:Q}=V;if(D===$t){je(H,oe);return}if(D===dl){_(V);return}const ce=()=>{s(H),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(V.shapeFlag&1&&Q&&!Q.persisted){const{leave:ye,delayLeave:L}=Q,k=()=>ye(H,ce);L?L(V.el,ce,k):k()}else ce()},je=(V,D)=>{let H;for(;V!==D;)H=p(V),s(V),V=H;s(D)},ze=(V,D,H)=>{const{bum:oe,scope:Q,job:ce,subTree:ye,um:L,m:k,a:G}=V;jg(k),jg(G),oe&&xh(oe),Q.stop(),ce&&(ce.flags|=8,le(ye,V,D,H)),L&&ji(L,D),ji(()=>{V.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},at=(V,D,H,oe=!1,Q=!1,ce=0)=>{for(let ye=ce;ye<V.length;ye++)le(V[ye],D,H,oe,Q)},Gt=V=>{if(V.shapeFlag&6)return Gt(V.component.subTree);if(V.shapeFlag&128)return V.suspense.next();const D=p(V.anchor||V.el),H=D&&D[aL];return H?p(H):D};let Tt=!1;const mi=(V,D,H)=>{V==null?D._vnode&&le(D._vnode,null,null,!0):b(D._vnode||null,V,D,null,null,null,H),D._vnode=V,Tt||(Tt=!0,B4(),Dg(),Tt=!1)},Rt={p:b,um:le,m:pe,r:Me,mt:te,mc:P,pc:$,pbc:U,n:Gt,o:e};let ri,Ji;return t&&([ri,Ji]=t(Rt)),{render:mi,hydrate:ri,createApp:kQ(mi,ri)}}function Kb({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function ql({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ZL(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function RE(e,t,i=!1){const r=e.children,s=t.children;if(Ee(r)&&Ee(s))for(let n=0;n<r.length;n++){const o=r[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=Ja(s[n]),a.el=o.el),!i&&a.patchFlag!==-2&&RE(o,a)),a.type===ho&&(a.el=o.el)}}function BQ(e){const t=e.slice(),i=[0];let r,s,n,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=i[i.length-1],e[s]<c){t[r]=s,i.push(r);continue}for(n=0,o=i.length-1;n<o;)a=n+o>>1,e[i[a]]<c?n=a+1:o=a;c<e[i[n]]&&(n>0&&(t[r]=i[n-1]),i[n]=r)}}for(n=i.length,o=i[n-1];n-- >0;)i[n]=o,o=t[o];return i}function KL(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:KL(t)}function jg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const DE=Symbol.for("v-scx"),FE=()=>Li(DE);function XL(e,t){return Dm(e,null,t)}function QL(e,t){return Dm(e,null,{flush:"post"})}function UE(e,t){return Dm(e,null,{flush:"sync"})}function Wi(e,t,i){return Dm(e,t,i)}function Dm(e,t,i=st){const{immediate:r,deep:s,flush:n,once:o}=i,a=nt({},i),l=t&&r||!t&&n!=="post";let c;if(Gh){if(n==="sync"){const y=FE();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=or,y.resume=or,y.pause=or,y}}const f=Gi;a.call=(y,v,b)=>ws(y,f,v,b);let d=!1;n==="post"?a.scheduler=y=>{ji(y,f&&f.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():mE(y)}),a.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const p=cQ(e,t,a);return Gh&&(c?c.push(p):l&&p()),p}function GQ(e,t,i){const r=this.proxy,s=Je(e)?e.includes(".")?e8(r,e):()=>r[e]:e.bind(r,r);let n;Fe(t)?n=t:(n=t.handler,i=t);const o=Zc(this),a=Dm(s,n.bind(r),i);return o(),a}function e8(e,t){const i=t.split(".");return()=>{let r=e;for(let s=0;s<i.length&&r;s++)r=r[i[s]];return r}}function t8(e,t,i=st){const r=ki(),s=Bt(t),n=Qr(t),o=i8(e,s),a=fE((l,c)=>{let f,d=st,p;return UE(()=>{const y=e[s];kr(f,y)&&(f=y,c())}),{get(){return l(),i.get?i.get(f):f},set(y){const v=i.set?i.set(y):y;if(!kr(v,f)&&!(d!==st&&kr(y,d)))return;const b=r.vnode.props;b&&(t in b||s in b||n in b)&&(`onUpdate:${t}`in b||`onUpdate:${s}`in b||`onUpdate:${n}`in b)||(f=y,c()),r.emit(`update:${t}`,v),kr(y,v)&&kr(y,d)&&!kr(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||st:a,done:!1}:{done:!0}}}},a}const i8=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Bt(t)}Modifiers`]||e[`${Qr(t)}Modifiers`];function zQ(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||st;let s=i;const n=t.startsWith("update:"),o=n&&i8(r,t.slice(7));o&&(o.trim&&(s=i.map(f=>Je(f)?f.trim():f)),o.number&&(s=i.map(Ng)));let a,l=r[a=Mc(t)]||r[a=Mc(Bt(t))];!l&&n&&(l=r[a=Mc(Qr(t))]),l&&ws(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ws(c,e,6,s)}}function r8(e,t,i=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const n=e.emits;let o={},a=!1;if(!Fe(e)){const l=c=>{const f=r8(c,t,!0);f&&(a=!0,nt(o,f))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(It(e)&&r.set(e,null),null):(Ee(n)?n.forEach(l=>o[l]=null):nt(o,n),It(e)&&r.set(e,o),o)}function Mv(e,t){return!e||!uu(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,Qr(t))||vt(e,t))}function Ly(e){const{type:t,vnode:i,proxy:r,withProxy:s,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:v,inheritAttrs:b}=e,E=Bp(e);let S,T;try{if(i.shapeFlag&4){const _=s||r,M=_;S=Zr(c.call(M,_,f,d,y,p,v)),T=a}else{const _=t;S=Zr(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),T=t.props?a:WQ(a)}}catch(_){Qd.length=0,Cl(_,e,1),S=Ke(wi)}let w=S;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:M}=w;_.length&&M&7&&(n&&_.some(rE)&&(T=HQ(T,n)),w=$n(w,T,!1,!0))}return i.dirs&&(w=$n(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(i.dirs):i.dirs),i.transition&&xo(w,i.transition),S=w,Bp(E),S}function qQ(e,t=!0){let i;for(let r=0;r<e.length;r++){const s=e[r];if(On(s)){if(s.type!==wi||s.children==="v-if"){if(i)return;i=s}}else return}return i}const WQ=e=>{let t;for(const i in e)(i==="class"||i==="style"||uu(i))&&((t||(t={}))[i]=e[i]);return t},HQ=(e,t)=>{const i={};for(const r in e)(!rE(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function YQ(e,t,i){const{props:r,children:s,component:n}=e,{props:o,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?eM(r,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==r[p]&&!Mv(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?eM(r,o,c):!0:!!o;return!1}function eM(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const n=r[s];if(t[n]!==e[n]&&!Mv(i,n))return!0}return!1}function Iv({vnode:e,parent:t},i){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=i,t=t.parent;else break}}const Vg=e=>e.__isSuspense;let Bw=0;const JQ={name:"Suspense",__isSuspense:!0,process(e,t,i,r,s,n,o,a,l,c){if(e==null)ZQ(t,i,r,s,n,o,a,l,c);else{if(n&&n.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}KQ(e,t,i,r,s,o,a,l,c)}},hydrate:XQ,normalize:QQ},s8=JQ;function qp(e,t){const i=e.props&&e.props[t];Fe(i)&&i()}function ZQ(e,t,i,r,s,n,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=e.suspense=n8(e,s,r,t,d,i,n,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,r,p,n,o),p.deps>0?(qp(e,"onPending"),qp(e,"onFallback"),c(null,e.ssFallback,t,i,r,null,n,o),Eh(p,e.ssFallback)):p.resolve(!1,!0)}function KQ(e,t,i,r,s,n,o,a,{p:l,um:c,o:{createElement:f}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:E,isHydrating:S}=d;if(b)d.pendingBranch=p,hn(p,b)?(l(b,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():E&&(S||(l(v,y,i,r,s,null,n,o,a),Eh(d,y)))):(d.pendingId=Bw++,S?(d.isHydrating=!1,d.activeBranch=b):c(b,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),E?(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():(l(v,y,i,r,s,null,n,o,a),Eh(d,y))):v&&hn(p,v)?(l(v,p,i,r,s,d,n,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0&&d.resolve()));else if(v&&hn(p,v))l(v,p,i,r,s,d,n,o,a),Eh(d,p);else if(qp(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Bw++,l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:w}=d;T>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},T):T===0&&d.fallback(y)}}function n8(e,t,i,r,s,n,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:b,remove:E}}=c;let S;const T=eee(e);T&&t&&t.pendingBranch&&(S=t.pendingId,t.deps++);const w=e.props?Pg(e.props.timeout):void 0,_=n,M={vnode:e,parent:t,parentComponent:i,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Bw++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(I=!1,C=!1){const{vnode:P,activeBranch:N,pendingBranch:U,pendingId:j,effects:F,parentComponent:q,container:te}=M;let h=!1;M.isHydrating?M.isHydrating=!1:I||(h=N&&U.transition&&U.transition.mode==="out-in",h&&(N.transition.afterLeave=()=>{j===M.pendingId&&(p(U,te,n===_?v(N):n,0),Bh(F))}),N&&(b(N.el)===te&&(n=v(N)),y(N,q,M,!0)),h||p(U,te,n,0)),Eh(M,U),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,x=!1;for(;m;){if(m.pendingBranch){m.effects.push(...F),x=!0;break}m=m.parent}!x&&!h&&Bh(F),M.effects=[],T&&t&&t.pendingBranch&&S===t.pendingId&&(t.deps--,t.deps===0&&!C&&t.resolve()),qp(P,"onResolve")},fallback(I){if(!M.pendingBranch)return;const{vnode:C,activeBranch:P,parentComponent:N,container:U,namespace:j}=M;qp(C,"onFallback");const F=v(P),q=()=>{M.isInFallback&&(d(null,I,U,F,N,null,j,a,l),Eh(M,I))},te=I.transition&&I.transition.mode==="out-in";te&&(P.transition.afterLeave=q),M.isInFallback=!0,y(P,N,null,!0),te||q()},move(I,C,P){M.activeBranch&&p(M.activeBranch,I,C,P),M.container=I},next(){return M.activeBranch&&v(M.activeBranch)},registerDep(I,C,P){const N=!!M.pendingBranch;N&&M.deps++;const U=I.vnode.el;I.asyncDep.catch(j=>{Cl(j,I,0)}).then(j=>{if(I.isUnmounted||M.isUnmounted||M.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:F}=I;qw(I,j,!1),U&&(F.el=U);const q=!U&&I.subTree.el;C(I,F,b(U||I.subTree.el),U?null:v(I.subTree),M,o,P),q&&E(q),Iv(I,F.el),N&&--M.deps===0&&M.resolve()})},unmount(I,C){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,i,I,C),M.pendingBranch&&y(M.pendingBranch,i,I,C)}};return M}function XQ(e,t,i,r,s,n,o,a,l){const c=t.suspense=n8(t,r,i,e.parentNode,document.createElement("div"),null,s,n,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,i,c,n,o);return c.deps===0&&c.resolve(!1,!0),f}function QQ(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=tM(r?i.default:i),e.ssFallback=r?tM(i.fallback):Ke(wi)}function tM(e){let t;if(Fe(e)){const i=Jc&&e._c;i&&(e._d=!1,fe()),e=e(),i&&(e._d=!0,t=Sr,a8())}return Ee(e)&&(e=qQ(e)),e=Zr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function o8(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Bh(e)}function Eh(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;i.el=s,r&&r.subTree===i&&(r.vnode.el=s,Iv(r,s))}function eee(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const $t=Symbol.for("v-fgt"),ho=Symbol.for("v-txt"),wi=Symbol.for("v-cmt"),dl=Symbol.for("v-stc"),Qd=[];let Sr=null;function fe(e=!1){Qd.push(Sr=e?null:[])}function a8(){Qd.pop(),Sr=Qd[Qd.length-1]||null}let Jc=1;function Bg(e,t=!1){Jc+=e,e<0&&Sr&&t&&(Sr.hasOnce=!0)}function l8(e){return e.dynamicChildren=Jc>0?Sr||_h:null,a8(),Jc>0&&Sr&&Sr.push(e),e}function xe(e,t,i,r,s,n){return l8(ue(e,t,i,r,s,n,!0))}function Vt(e,t,i,r,s){return l8(Ke(e,t,i,r,s,!0))}function On(e){return e?e.__v_isVNode===!0:!1}function hn(e,t){return e.type===t.type&&e.key===t.key}function c8(e){}const u8=({key:e})=>e??null,ky=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||ht(e)||Fe(e)?{i:zi,r:e,k:t,f:!!i}:e:null);function ue(e,t=null,i=null,r=0,s=null,n=e===$t?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&u8(t),ref:t&&ky(t),scopeId:wv,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:zi};return a?(VE(l,i),n&128&&e.normalize(l)):i&&(l.shapeFlag|=Je(i)?8:16),Jc>0&&!o&&Sr&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Sr.push(l),l}const Ke=tee;function tee(e,t=null,i=null,r=0,s=null,n=!1){if((!e||e===wL)&&(e=wi),On(e)){const a=$n(e,t,!0);return i&&VE(a,i),Jc>0&&!n&&Sr&&(a.shapeFlag&6?Sr[Sr.indexOf(e)]=a:Sr.push(a)),a.patchFlag=-2,a}if(oee(e)&&(e=e.__vccOpts),t){t=jE(t);let{class:a,style:l}=t;a&&!Je(a)&&(t.class=pi(a)),It(l)&&(Lm(l)&&!Ee(l)&&(l=nt({},l)),t.style=Il(l))}const o=Je(e)?1:Vg(e)?128:lL(e)?64:It(e)?4:Fe(e)?2:0;return ue(e,t,i,r,s,o,n,!0)}function jE(e){return e?Lm(e)||BL(e)?nt({},e):e:null}function $n(e,t,i=!1,r=!1){const{props:s,ref:n,patchFlag:o,children:a,transition:l}=e,c=t?Ov(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&u8(c),ref:t&&t.ref?i&&n?Ee(n)?n.concat(ky(t)):[n,ky(t)]:ky(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$t?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&xo(f,l.clone(f)),f}function fo(e=" ",t=0){return Ke(ho,null,e,t)}function h8(e,t){const i=Ke(dl,null,e);return i.staticCount=t,i}function Wt(e="",t=!1){return t?(fe(),Vt(wi,null,e)):Ke(wi,null,e)}function Zr(e){return e==null||typeof e=="boolean"?Ke(wi):Ee(e)?Ke($t,null,e.slice()):On(e)?Ja(e):Ke(ho,null,String(e))}function Ja(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$n(e)}function VE(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ee(t))i=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),VE(e,s()),s._c&&(s._d=!0));return}else{i=32;const s=t._;!s&&!BL(t)?t._ctx=zi:s===3&&zi&&(zi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:zi},i=32):(t=String(t),r&64?(i=16,t=[fo(t)]):i=8);e.children=t,e.shapeFlag|=i}function Ov(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=pi([t.class,r.class]));else if(s==="style")t.style=Il([t.style,r.style]);else if(uu(s)){const n=t[s],o=r[s];o&&n!==o&&!(Ee(n)&&n.includes(o))&&(t[s]=n?[].concat(n,o):o)}else s!==""&&(t[s]=r[s])}return t}function Yr(e,t,i,r=null){ws(e,t,7,[i,r])}const iee=UL();let ree=0;function f8(e,t,i){const r=e.type,s=(t?t.appContext:e.appContext)||iee,n={uid:ree++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zL(r,s),emitsOptions:r8(r,s),emit:null,emitted:null,propsDefaults:st,inheritAttrs:r.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=zQ.bind(null,n),e.ce&&e.ce(n),n}let Gi=null;const ki=()=>Gi||zi;let Gg,Gw;{const e=hv(),t=(i,r)=>{let s;return(s=e[i])||(s=e[i]=[]),s.push(r),n=>{s.length>1?s.forEach(o=>o(n)):s[0](n)}};Gg=t("__VUE_INSTANCE_SETTERS__",i=>Gi=i),Gw=t("__VUE_SSR_SETTERS__",i=>Gh=i)}const Zc=e=>{const t=Gi;return Gg(e),e.scope.on(),()=>{e.scope.off(),Gg(t)}},zw=()=>{Gi&&Gi.scope.off(),Gg(null)};function d8(e){return e.vnode.shapeFlag&4}let Gh=!1;function p8(e,t=!1,i=!1){t&&Gw(t);const{props:r,children:s}=e.vnode,n=d8(e);RQ(e,r,n,t),jQ(e,s,i);const o=n?see(e,t):void 0;return t&&Gw(!1),o}function see(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Fw);const{setup:r}=i;if(r){Ol();const s=e.setupContext=r.length>1?g8(e):null,n=Zc(e),o=fu(r,e,0,[e.props,s]),a=nE(o);if($l(),n(),(a||e.sp)&&!fl(e)&&vE(e),a){if(o.then(zw,zw),t)return o.then(l=>{qw(e,l,t)}).catch(l=>{Cl(l,e,0)});e.asyncDep=o}else qw(e,o,t)}else y8(e,t)}function qw(e,t,i){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:It(t)&&(e.setupState=_v(t)),y8(e,i)}let zg,Ww;function BE(e){zg=e,Ww=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,IQ))}}const m8=()=>!zg;function y8(e,t,i){const r=e.type;if(!e.render){if(!t&&zg&&!r.render){const s=r.template||$E(e).template;if(s){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=nt(nt({isCustomElement:n,delimiters:a},o),l);r.render=zg(s,c)}}e.render=r.render||or,Ww&&Ww(e)}{const s=Zc(e);Ol();try{OQ(e)}finally{$l(),s()}}}const nee={get(e,t){return vr(e,"get",""),e[t]}};function g8(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,nee),slots:e.slots,emit:e.emit,expose:t}}function Fm(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_v(di(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Xd)return Xd[i](e)},has(t,i){return i in t||i in Xd}})):e.proxy}function Hw(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function oee(e){return Fe(e)&&"__vccOpts"in e}const tt=(e,t)=>lQ(e,t,Gh);function Vs(e,t,i){const r=arguments.length;return r===2?It(t)&&!Ee(t)?On(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&On(i)&&(i=[i]),Ke(e,t,i))}function v8(){}function b8(e,t,i,r){const s=i[r];if(s&&GE(s,e))return s;const n=t();return n.memo=e.slice(),n.cacheIndex=r,i[r]=n}function GE(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(kr(i[r],t[r]))return!1;return Jc>0&&Sr&&Sr.push(e),!0}const zE="3.5.13",_8=or,w8=fQ,x8=zu,S8=rL,aee={createComponentInstance:f8,setupComponent:p8,renderComponentRoot:Ly,setCurrentRenderingInstance:Bp,isVNode:On,normalizeVNode:Zr,getComponentPublicInstance:Fm,ensureValidVNode:OE,pushWarningContext:uQ,popWarningContext:hQ},E8=aee,A8=null,T8=null,M8=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yw;const iM=typeof window<"u"&&window.trustedTypes;if(iM)try{Yw=iM.createPolicy("vue",{createHTML:e=>e})}catch{}const I8=Yw?e=>Yw.createHTML(e):e=>e,lee="http://www.w3.org/2000/svg",cee="http://www.w3.org/1998/Math/MathML",Wo=typeof document<"u"?document:null,rM=Wo&&Wo.createElement("template"),uee={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const s=t==="svg"?Wo.createElementNS(lee,e):t==="mathml"?Wo.createElementNS(cee,e):i?Wo.createElement(e,{is:i}):Wo.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Wo.createTextNode(e),createComment:e=>Wo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,s,n){const o=i?i.previousSibling:t.lastChild;if(s&&(s===n||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),!(s===n||!(s=s.nextSibling)););else{rM.innerHTML=I8(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=rM.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Sa="transition",Wf="animation",zh=Symbol("_vtc"),O8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$8=nt({},Sv,O8),hee=e=>(e.displayName="Transition",e.props=$8,e),$v=hee((e,{slots:t})=>Vs(gE,C8(e),t)),Wl=(e,t=[])=>{Ee(e)?e.forEach(i=>i(...t)):e&&e(...t)},sM=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function C8(e){const t={};for(const F in e)F in O8||(t[F]=e[F]);if(e.css===!1)return t;const{name:i="v",type:r,duration:s,enterFromClass:n=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:y=`${i}-leave-to`}=e,v=fee(s),b=v&&v[0],E=v&&v[1],{onBeforeEnter:S,onEnter:T,onEnterCancelled:w,onLeave:_,onLeaveCancelled:M,onBeforeAppear:I=S,onAppear:C=T,onAppearCancelled:P=w}=t,N=(F,q,te,h)=>{F._enterCancelled=h,Ua(F,q?f:a),Ua(F,q?c:o),te&&te()},U=(F,q)=>{F._isLeaving=!1,Ua(F,d),Ua(F,y),Ua(F,p),q&&q()},j=F=>(q,te)=>{const h=F?C:T,m=()=>N(q,F,te);Wl(h,[q,m]),nM(()=>{Ua(q,F?l:n),Yn(q,F?f:a),sM(h)||oM(q,r,b,m)})};return nt(t,{onBeforeEnter(F){Wl(S,[F]),Yn(F,n),Yn(F,o)},onBeforeAppear(F){Wl(I,[F]),Yn(F,l),Yn(F,c)},onEnter:j(!1),onAppear:j(!0),onLeave(F,q){F._isLeaving=!0;const te=()=>U(F,q);Yn(F,d),F._enterCancelled?(Yn(F,p),Jw()):(Jw(),Yn(F,p)),nM(()=>{F._isLeaving&&(Ua(F,d),Yn(F,y),sM(_)||oM(F,r,E,te))}),Wl(_,[F,te])},onEnterCancelled(F){N(F,!1,void 0,!0),Wl(w,[F])},onAppearCancelled(F){N(F,!0,void 0,!0),Wl(P,[F])},onLeaveCancelled(F){U(F),Wl(M,[F])}})}function fee(e){if(e==null)return null;if(It(e))return[Xb(e.enter),Xb(e.leave)];{const t=Xb(e);return[t,t]}}function Xb(e){return Pg(e)}function Yn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[zh]||(e[zh]=new Set)).add(t)}function Ua(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const i=e[zh];i&&(i.delete(t),i.size||(e[zh]=void 0))}function nM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let dee=0;function oM(e,t,i,r){const s=e._endId=++dee,n=()=>{s===e._endId&&r()};if(i!=null)return setTimeout(n,i);const{type:o,timeout:a,propCount:l}=N8(e,t);if(!o)return r();const c=o+"end";let f=0;const d=()=>{e.removeEventListener(c,p),n()},p=y=>{y.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),e.addEventListener(c,p)}function N8(e,t){const i=window.getComputedStyle(e),r=v=>(i[v]||"").split(", "),s=r(`${Sa}Delay`),n=r(`${Sa}Duration`),o=aM(s,n),a=r(`${Wf}Delay`),l=r(`${Wf}Duration`),c=aM(a,l);let f=null,d=0,p=0;t===Sa?o>0&&(f=Sa,d=o,p=n.length):t===Wf?c>0&&(f=Wf,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?Sa:Wf:null,p=f?f===Sa?n.length:l.length:0);const y=f===Sa&&/\b(transform|all)(,|$)/.test(r(`${Sa}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function aM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>lM(i)+lM(e[r])))}function lM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Jw(){return document.body.offsetHeight}function pee(e,t,i){const r=e[zh];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const qg=Symbol("_vod"),P8=Symbol("_vsh"),Cv={beforeMount(e,{value:t},{transition:i}){e[qg]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):Hf(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),Hf(e,!0),r.enter(e)):r.leave(e,()=>{Hf(e,!1)}):Hf(e,t))},beforeUnmount(e,{value:t}){Hf(e,t)}};function Hf(e,t){e.style.display=t?e[qg]:"none",e[P8]=!t}function mee(){Cv.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const L8=Symbol("");function k8(e){const t=ki();if(!t)return;const i=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(n=>Wg(n,s))},r=()=>{const s=e(t.proxy);t.ce?Wg(t.ce,s):Zw(t.subTree,s),i(s)};Tv(()=>{Bh(r)}),lr(()=>{Wi(r,or,{flush:"post"});const s=new MutationObserver(r);s.observe(t.subTree.el.parentNode,{childList:!0}),du(()=>s.disconnect())})}function Zw(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{Zw(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Wg(e.el,t);else if(e.type===$t)e.children.forEach(i=>Zw(i,t));else if(e.type===dl){let{el:i,anchor:r}=e;for(;i&&(Wg(i,t),i!==r);)i=i.nextSibling}}function Wg(e,t){if(e.nodeType===1){const i=e.style;let r="";for(const s in t)i.setProperty(`--${s}`,t[s]),r+=`--${s}: ${t[s]};`;i[L8]=r}}const yee=/(^|;)\s*display\s*:/;function gee(e,t,i){const r=e.style,s=Je(i);let n=!1;if(i&&!s){if(t)if(Je(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&Ry(r,a,"")}else for(const o in t)i[o]==null&&Ry(r,o,"");for(const o in i)o==="display"&&(n=!0),Ry(r,o,i[o])}else if(s){if(t!==i){const o=r[L8];o&&(i+=";"+o),r.cssText=i,n=yee.test(i)}}else t&&e.removeAttribute("style");qg in e&&(e[qg]=n?r.display:"",e[P8]&&(r.display="none"))}const cM=/\s*!important$/;function Ry(e,t,i){if(Ee(i))i.forEach(r=>Ry(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=vee(e,t);cM.test(i)?e.setProperty(Qr(r),i.replace(cM,""),"important"):e[r]=i}}const uM=["Webkit","Moz","ms"],Qb={};function vee(e,t){const i=Qb[t];if(i)return i;let r=Bt(t);if(r!=="filter"&&r in e)return Qb[t]=r;r=Ml(r);for(let s=0;s<uM.length;s++){const n=uM[s]+r;if(n in e)return Qb[t]=n}return t}const hM="http://www.w3.org/1999/xlink";function fM(e,t,i,r,s,n=kX(t)){r&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(hM,t.slice(6,t.length)):e.setAttributeNS(hM,t,i):i==null||n&&!xP(i)?e.removeAttribute(t):e.setAttribute(t,n?"":ls(i)?String(i):i)}function dM(e,t,i,r,s){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?I8(i):i);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=xP(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(s||t)}function ea(e,t,i,r){e.addEventListener(t,i,r)}function bee(e,t,i,r){e.removeEventListener(t,i,r)}const pM=Symbol("_vei");function _ee(e,t,i,r,s=null){const n=e[pM]||(e[pM]={}),o=n[t];if(r&&o)o.value=r;else{const[a,l]=wee(t);if(r){const c=n[t]=Eee(r,s);ea(e,a,c,l)}else o&&(bee(e,a,o,l),n[t]=void 0)}}const mM=/(?:Once|Passive|Capture)$/;function wee(e){let t;if(mM.test(e)){t={};let r;for(;r=e.match(mM);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qr(e.slice(2)),t]}let e_=0;const xee=Promise.resolve(),See=()=>e_||(xee.then(()=>e_=0),e_=Date.now());function Eee(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;ws(Aee(r,i.value),t,5,[r])};return i.value=e,i.attached=See(),i}function Aee(e,t){if(Ee(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const yM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Tee=(e,t,i,r,s,n)=>{const o=s==="svg";t==="class"?pee(e,r,o):t==="style"?gee(e,i,r):uu(t)?rE(t)||_ee(e,t,i,r,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Mee(e,t,r,o))?(dM(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&fM(e,t,r,o,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(r))?dM(e,Bt(t),r,n,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),fM(e,t,r,o))};function Mee(e,t,i,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&yM(t)&&Fe(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return yM(t)&&Je(i)?!1:t in e}const gM={};/*! #__NO_SIDE_EFFECTS__ */function qE(e,t,i){const r=rt(e,t);cv(r)&&nt(r,t);class s extends Um{constructor(o){super(r,o,i)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const R8=(e,t)=>qE(e,t,ZE),Iee=typeof HTMLElement<"u"?HTMLElement:class{};class Um extends Iee{constructor(t,i={},r=wl){super(),this._def=t,this._props=i,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==wl?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Um){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Ln(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=r;let a;if(n&&!Ee(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Pg(this._props[l])),(a||(a=Object.create(null)))[Bt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},i=this._def.__asyncLoader;i?this._pendingResolve=i().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const i=this._instance&&this._instance.exposed;if(i)for(const r in i)vt(this,r)||Object.defineProperty(this,r,{get:()=>Ie(i[r])})}_resolveProps(t){const{props:i}=t,r=Ee(i)?i:Object.keys(i||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Bt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const i=this.hasAttribute(t);let r=i?this.getAttribute(t):gM;const s=Bt(t);i&&this._numberProps&&this._numberProps[s]&&(r=Pg(r)),this._setProp(s,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,s=!1){if(i!==this._props[t]&&(i===gM?delete this._props[t]:(this._props[t]=i,t==="key"&&this._app&&(this._app._ceVNode.key=i)),s&&this._instance&&this._update(),r)){const n=this._ob;n&&n.disconnect(),i===!0?this.setAttribute(Qr(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(Qr(t),i+""):i||this.removeAttribute(Qr(t)),n&&n.observe(this,{attributes:!0})}}_update(){Ah(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const i=Ke(this._def,nt(t,this._props));return this._instance||(i.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(n,o)=>{this.dispatchEvent(new CustomEvent(n,cv(o[0])?nt({detail:o},o[0]):{detail:o}))};r.emit=(n,...o)=>{s(n,o),Qr(n)!==n&&s(Qr(n),o)},this._setParent()}),i}_applyStyles(t,i){if(!t)return;if(i){if(i===this._def||this._styleChildren.has(i))return;this._styleChildren.add(i)}const r=this._nonce;for(let s=t.length-1;s>=0;s--){const n=document.createElement("style");r&&n.setAttribute("nonce",r),n.textContent=t[s],this.shadowRoot.prepend(n)}}_parseSlots(){const t=this._slots={};let i;for(;i=this.firstChild;){const r=i.nodeType===1&&i.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(i),this.removeChild(i)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),i=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const s=t[r],n=s.getAttribute("name")||"default",o=this._slots[n],a=s.parentNode;if(o)for(const l of o){if(i&&l.nodeType===1){const c=i+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function WE(e){const t=ki(),i=t&&t.ce;return i||null}function D8(){const e=WE();return e&&e.shadowRoot}function F8(e="$style"){{const t=ki();if(!t)return st;const i=t.type.__cssModules;if(!i)return st;const r=i[e];return r||st}}const U8=new WeakMap,j8=new WeakMap,Hg=Symbol("_moveCb"),vM=Symbol("_enterCb"),Oee=e=>(delete e.props.mode,e),$ee=Oee({name:"TransitionGroup",props:nt({},$8,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=ki(),r=xv();let s,n;return Cf(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Lee(s[0].el,i.vnode.el,o))return;s.forEach(Cee),s.forEach(Nee);const a=s.filter(Pee);Jw(),a.forEach(l=>{const c=l.el,f=c.style;Yn(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Hg]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Hg]=null,Ua(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ge(e),a=C8(o);let l=o.tag||$t;if(s=[],n)for(let c=0;c<n.length;c++){const f=n[c];f.el&&f.el instanceof Element&&(s.push(f),xo(f,Yc(f,a,r,i)),U8.set(f,f.el.getBoundingClientRect()))}n=t.default?km(t.default()):[];for(let c=0;c<n.length;c++){const f=n[c];f.key!=null&&xo(f,Yc(f,a,r,i))}return Ke(l,null,n)}}}),Nv=$ee;function Cee(e){const t=e.el;t[Hg]&&t[Hg](),t[vM]&&t[vM]()}function Nee(e){j8.set(e,e.el.getBoundingClientRect())}function Pee(e){const t=U8.get(e),i=j8.get(e),r=t.left-i.left,s=t.top-i.top;if(r||s){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${r}px,${s}px)`,n.transitionDuration="0s",e}}function Lee(e,t,i){const r=e.cloneNode(),s=e[zh];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(r);const{hasTransform:o}=N8(r);return n.removeChild(r),o}const _l=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?i=>xh(t,i):t};function kee(e){e.target.composing=!0}function bM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gs=Symbol("_assign"),Wp={created(e,{modifiers:{lazy:t,trim:i,number:r}},s){e[Gs]=_l(s);const n=r||s.props&&s.props.type==="number";ea(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;i&&(a=a.trim()),n&&(a=Ng(a)),e[Gs](a)}),i&&ea(e,"change",()=>{e.value=e.value.trim()}),t||(ea(e,"compositionstart",kee),ea(e,"compositionend",bM),ea(e,"change",bM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:r,trim:s,number:n}},o){if(e[Gs]=_l(o),e.composing)return;const a=(n||e.type==="number")&&!/^0\d/.test(e.value)?Ng(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===i||s&&e.value.trim()===l)||(e.value=l))}},Pv={deep:!0,created(e,t,i){e[Gs]=_l(i),ea(e,"change",()=>{const r=e._modelValue,s=qh(e),n=e.checked,o=e[Gs];if(Ee(r)){const a=fv(r,s),l=a!==-1;if(n&&!l)o(r.concat(s));else if(!n&&l){const c=[...r];c.splice(a,1),o(c)}}else if(hu(r)){const a=new Set(r);n?a.add(s):a.delete(s),o(a)}else o(V8(e,n))})},mounted:_M,beforeUpdate(e,t,i){e[Gs]=_l(i),_M(e,t,i)}};function _M(e,{value:t,oldValue:i},r){e._modelValue=t;let s;if(Ee(t))s=fv(t,r.props.value)>-1;else if(hu(t))s=t.has(r.props.value);else{if(t===i)return;s=bl(t,V8(e,!0))}e.checked!==s&&(e.checked=s)}const Lv={created(e,{value:t},i){e.checked=bl(t,i.props.value),e[Gs]=_l(i),ea(e,"change",()=>{e[Gs](qh(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e[Gs]=_l(r),t!==i&&(e.checked=bl(t,r.props.value))}},HE={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const s=hu(t);ea(e,"change",()=>{const n=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>i?Ng(qh(o)):qh(o));e[Gs](e.multiple?s?new Set(n):n:n[0]),e._assigning=!0,Ln(()=>{e._assigning=!1})}),e[Gs]=_l(r)},mounted(e,{value:t}){wM(e,t)},beforeUpdate(e,t,i){e[Gs]=_l(i)},updated(e,{value:t}){e._assigning||wM(e,t)}};function wM(e,t){const i=e.multiple,r=Ee(t);if(!(i&&!r&&!hu(t))){for(let s=0,n=e.options.length;s<n;s++){const o=e.options[s],a=qh(o);if(i)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=fv(t,a)>-1}else o.selected=t.has(a);else if(bl(qh(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function qh(e){return"_value"in e?e._value:e.value}function V8(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const YE={created(e,t,i){C0(e,t,i,null,"created")},mounted(e,t,i){C0(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){C0(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){C0(e,t,i,r,"updated")}};function B8(e,t){switch(e){case"SELECT":return HE;case"TEXTAREA":return Wp;default:switch(t){case"checkbox":return Pv;case"radio":return Lv;default:return Wp}}}function C0(e,t,i,r,s){const o=B8(e.tagName,i.props&&i.props.type)[s];o&&o(e,t,i,r)}function Ree(){Wp.getSSRProps=({value:e})=>({value:e}),Lv.getSSRProps=({value:e},t)=>{if(t.props&&bl(t.props.value,e))return{checked:!0}},Pv.getSSRProps=({value:e},t)=>{if(Ee(e)){if(t.props&&fv(e,t.props.value)>-1)return{checked:!0}}else if(hu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},YE.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=B8(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const Dee=["ctrl","shift","alt","meta"],Fee={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Dee.some(i=>e[`${i}Key`]&&!t.includes(i))},jm=(e,t)=>{const i=e._withMods||(e._withMods={}),r=t.join(".");return i[r]||(i[r]=(s,...n)=>{for(let o=0;o<t.length;o++){const a=Fee[t[o]];if(a&&a(s,t))return}return e(s,...n)})},Uee={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},JE=(e,t)=>{const i=e._withKeys||(e._withKeys={}),r=t.join(".");return i[r]||(i[r]=s=>{if(!("key"in s))return;const n=Qr(s.key);if(t.some(o=>o===n||Uee[o]===n))return e(s)})},G8=nt({patchProp:Tee},uee);let ep,xM=!1;function z8(){return ep||(ep=LE(G8))}function q8(){return ep=xM?ep:kE(G8),xM=!0,ep}const Ah=(...e)=>{z8().render(...e)},W8=(...e)=>{q8().hydrate(...e)},wl=(...e)=>{const t=z8().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=Y8(r);if(!s)return;const n=t._component;!Fe(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=i(s,!1,H8(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t},ZE=(...e)=>{const t=q8().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=Y8(r);if(s)return i(s,!0,H8(s))},t};function H8(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Y8(e){return Je(e)?document.querySelector(e):e}let SM=!1;const J8=()=>{SM||(SM=!0,Ree(),mee())},jee=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:gE,BaseTransitionPropsValidators:Sv,Comment:wi,DeprecationTypes:M8,EffectScope:dv,ErrorCodes:QP,ErrorTypeStrings:w8,Fragment:$t,KeepAlive:bL,ReactiveEffect:Vh,Static:dl,Suspense:s8,Teleport:yE,Text:ho,TrackOpTypes:YP,Transition:$v,TransitionGroup:Nv,TriggerOpTypes:JP,VueElement:Um,assertNumber:XP,callWithAsyncErrorHandling:ws,callWithErrorHandling:fu,camelize:Bt,capitalize:Ml,cloneVNode:$n,compatUtils:T8,computed:tt,createApp:wl,createBlock:Vt,createCommentVNode:Wt,createElementBlock:xe,createElementVNode:ue,createHydrationRenderer:kE,createPropsRestProxy:RL,createRenderer:LE,createSSRApp:ZE,createSlots:xL,createStaticVNode:h8,createTextVNode:fo,createVNode:Ke,customRef:fE,defineAsyncComponent:bE,defineComponent:rt,defineCustomElement:qE,defineEmits:AL,defineExpose:TL,defineModel:OL,defineOptions:ML,defineProps:EL,defineSSRCustomElement:R8,defineSlots:IL,devtools:x8,effect:$P,effectScope:Pm,getCurrentInstance:ki,getCurrentScope:pv,getCurrentWatcher:ZP,getTransitionRawChildren:km,guardReactiveProps:jE,h:Vs,handleError:Cl,hasInjectionContext:NE,hydrate:W8,hydrateOnIdle:mL,hydrateOnInteraction:vL,hydrateOnMediaQuery:gL,hydrateOnVisible:yL,initCustomFormatter:v8,initDirectivesForSSR:J8,inject:Li,isMemoSame:GE,isProxy:Lm,isReactive:bs,isReadonly:la,isRef:ht,isRuntimeOnly:m8,isShallow:rs,isVNode:On,markRaw:di,mergeDefaults:LL,mergeModels:kL,mergeProps:Ov,nextTick:Ln,normalizeClass:pi,normalizeProps:wP,normalizeStyle:Il,onActivated:_E,onBeforeMount:Av,onBeforeUnmount:kn,onBeforeUpdate:Tv,onDeactivated:wE,onErrorCaptured:AE,onMounted:lr,onRenderTracked:EE,onRenderTriggered:SE,onScopeDispose:aE,onServerPrefetch:xE,onUnmounted:du,onUpdated:Cf,onWatcherCleanup:pE,openBlock:fe,popScopeId:nL,provide:CE,proxyRefs:_v,pushScopeId:sL,queuePostFlushCb:Bh,reactive:tr,readonly:vv,ref:X,registerRuntimeCompiler:BE,render:Ah,renderList:Nl,renderSlot:pn,resolveComponent:_i,resolveDirective:At,resolveDynamicComponent:ME,resolveFilter:A8,resolveTransitionHooks:Yc,setBlockTracking:Bg,setDevtoolsHook:S8,setTransitionHooks:xo,shallowReactive:hE,shallowReadonly:BP,shallowRef:$f,ssrContextKey:DE,ssrUtils:E8,stop:CP,toDisplayString:jt,toHandlerKey:Mc,toHandlers:SL,toRaw:Ge,toRef:WP,toRefs:dE,toValue:qP,transformVNodeArgs:c8,triggerRef:zP,unref:Ie,useAttrs:NL,useCssModule:F8,useCssVars:k8,useHost:WE,useId:pL,useModel:t8,useSSRContext:FE,useShadowRoot:D8,useSlots:CL,useTemplateRef:Fg,useTransitionState:xv,vModelCheckbox:Pv,vModelDynamic:YE,vModelRadio:Lv,vModelSelect:HE,vModelText:Wp,vShow:Cv,version:zE,warn:_8,watch:Wi,watchEffect:XL,watchPostEffect:QL,watchSyncEffect:UE,withAsyncContext:DL,withCtx:Ti,withDefaults:$L,withDirectives:Et,withKeys:JE,withMemo:b8,withModifiers:jm,withScopeId:oL},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hp=Symbol(""),tp=Symbol(""),KE=Symbol(""),Yg=Symbol(""),Z8=Symbol(""),Kc=Symbol(""),K8=Symbol(""),X8=Symbol(""),XE=Symbol(""),QE=Symbol(""),Vm=Symbol(""),e3=Symbol(""),Q8=Symbol(""),t3=Symbol(""),i3=Symbol(""),r3=Symbol(""),s3=Symbol(""),n3=Symbol(""),o3=Symbol(""),ek=Symbol(""),tk=Symbol(""),kv=Symbol(""),Jg=Symbol(""),a3=Symbol(""),l3=Symbol(""),Yp=Symbol(""),Bm=Symbol(""),c3=Symbol(""),Kw=Symbol(""),Vee=Symbol(""),Xw=Symbol(""),Zg=Symbol(""),Bee=Symbol(""),Gee=Symbol(""),u3=Symbol(""),zee=Symbol(""),qee=Symbol(""),h3=Symbol(""),ik=Symbol(""),Wh={[Hp]:"Fragment",[tp]:"Teleport",[KE]:"Suspense",[Yg]:"KeepAlive",[Z8]:"BaseTransition",[Kc]:"openBlock",[K8]:"createBlock",[X8]:"createElementBlock",[XE]:"createVNode",[QE]:"createElementVNode",[Vm]:"createCommentVNode",[e3]:"createTextVNode",[Q8]:"createStaticVNode",[t3]:"resolveComponent",[i3]:"resolveDynamicComponent",[r3]:"resolveDirective",[s3]:"resolveFilter",[n3]:"withDirectives",[o3]:"renderList",[ek]:"renderSlot",[tk]:"createSlots",[kv]:"toDisplayString",[Jg]:"mergeProps",[a3]:"normalizeClass",[l3]:"normalizeStyle",[Yp]:"normalizeProps",[Bm]:"guardReactiveProps",[c3]:"toHandlers",[Kw]:"camelize",[Vee]:"capitalize",[Xw]:"toHandlerKey",[Zg]:"setBlockTracking",[Bee]:"pushScopeId",[Gee]:"popScopeId",[u3]:"withCtx",[zee]:"unref",[qee]:"isRef",[h3]:"withMemo",[ik]:"isMemoSame"};function Wee(e){Object.getOwnPropertySymbols(e).forEach(t=>{Wh[t]=e[t]})}const As={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Hee(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:As}}function Jp(e,t,i,r,s,n,o,a=!1,l=!1,c=!1,f=As){return e&&(a?(e.helper(Kc),e.helper(Jh(e.inSSR,c))):e.helper(Yh(e.inSSR,c)),o&&e.helper(n3)),{type:13,tag:t,props:i,children:r,patchFlag:s,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function $c(e,t=As){return{type:17,loc:t,elements:e}}function Bs(e,t=As){return{type:15,loc:t,properties:e}}function Ei(e,t){return{type:16,loc:As,key:Je(e)?Qe(e,!0):e,value:t}}function Qe(e,t=!1,i=As,r=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:r}}function xn(e,t=As){return{type:8,loc:t,children:e}}function Bi(e,t=[],i=As){return{type:14,loc:i,callee:e,arguments:t}}function Hh(e,t=void 0,i=!1,r=!1,s=As){return{type:18,params:e,returns:t,newline:i,isSlot:r,loc:s}}function Qw(e,t,i,r=!0){return{type:19,test:e,consequent:t,alternate:i,newline:r,loc:As}}function Yee(e,t,i=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:i,inVOnce:r,needArraySpread:!1,loc:As}}function Jee(e){return{type:21,body:e,loc:As}}function Yh(e,t){return e||t?XE:QE}function Jh(e,t){return e||t?K8:X8}function f3(e,{helper:t,removeHelper:i,inSSR:r}){e.isBlock||(e.isBlock=!0,i(Yh(r,e.isComponent)),t(Kc),t(Jh(r,e.isComponent)))}const EM=new Uint8Array([123,123]),AM=new Uint8Array([125,125]);function TM(e){return e>=97&&e<=122||e>=65&&e<=90}function fs(e){return e===32||e===10||e===9||e===12||e===13}function Ea(e){return e===47||e===62||fs(e)}function Kg(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}const ur={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Zee=class{constructor(t,i){this.stack=t,this.cbs=i,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=EM,this.delimiterClose=AM,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=EM,this.delimiterClose=AM}getPos(t){let i=1,r=t+1;for(let s=this.newlines.length-1;s>=0;s--){const n=this.newlines[s];if(t>n){i=s+2,r=t-n;break}}return{column:r,line:i,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const i=this.index+1-this.delimiterOpen.length;i>this.sectionStart&&this.cbs.ontext(this.sectionStart,i),this.state=3,this.sectionStart=i}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const i=this.sequenceIndex===this.currentSequence.length;if(!(i?Ea(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!i){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||fs(t)){const i=this.index-this.currentSequence.length;if(this.sectionStart<i){const r=this.index;this.index=i,this.cbs.ontext(this.sectionStart,i),this.index=r}this.sectionStart=i+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ur.TitleEnd||this.currentSequence===ur.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===ur.Cdata[this.sequenceIndex]?++this.sequenceIndex===ur.Cdata.length&&(this.state=28,this.currentSequence=ur.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);if(i===10&&this.newlines.push(this.index),i===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ur.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,i){this.enterRCDATA(t,i),this.state=31}enterRCDATA(t,i){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=i}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):TM(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Ea(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Ea(t)){const i=this.buffer.slice(this.sectionStart,this.index);i!=="template"&&this.enterRCDATA(Kg("</"+i),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){fs(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=TM(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||fs(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):fs(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):fs(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Ea(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Ea(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Ea(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Ea(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Ea(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):fs(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):fs(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,i){(t===i||this.fastForwardTo(i))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){fs(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=ur.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===ur.ScriptEnd[3]?this.startSpecial(ur.ScriptEnd,4):t===ur.StyleEnd[3]?this.startSpecial(ur.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===ur.TitleEnd[3]?this.startSpecial(ur.TitleEnd,4):t===ur.TextareaEnd[3]?this.startSpecial(ur.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);switch(i===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(i);break}case 2:{this.stateInterpolationOpen(i);break}case 3:{this.stateInterpolation(i);break}case 4:{this.stateInterpolationClose(i);break}case 31:{this.stateSpecialStartSequence(i);break}case 32:{this.stateInRCDATA(i);break}case 26:{this.stateCDATASequence(i);break}case 19:{this.stateInAttrValueDoubleQuotes(i);break}case 12:{this.stateInAttrName(i);break}case 13:{this.stateInDirName(i);break}case 14:{this.stateInDirArg(i);break}case 15:{this.stateInDynamicDirArg(i);break}case 16:{this.stateInDirModifier(i);break}case 28:{this.stateInCommentLike(i);break}case 27:{this.stateInSpecialComment(i);break}case 11:{this.stateBeforeAttrName(i);break}case 6:{this.stateInTagName(i);break}case 34:{this.stateInSFCRootTagName(i);break}case 9:{this.stateInClosingTagName(i);break}case 5:{this.stateBeforeTagName(i);break}case 17:{this.stateAfterAttrName(i);break}case 20:{this.stateInAttrValueSingleQuotes(i);break}case 18:{this.stateBeforeAttrValue(i);break}case 8:{this.stateBeforeClosingTagName(i);break}case 10:{this.stateAfterClosingTagName(i);break}case 29:{this.stateBeforeSpecialS(i);break}case 30:{this.stateBeforeSpecialT(i);break}case 21:{this.stateInAttrValueNoQuotes(i);break}case 7:{this.stateInSelfClosingTag(i);break}case 23:{this.stateInDeclaration(i);break}case 22:{this.stateBeforeDeclaration(i);break}case 25:{this.stateBeforeComment(i);break}case 24:{this.stateInProcessingInstruction(i);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===ur.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,i){}};function MM(e,{compatConfig:t}){const i=t&&t[e];return e==="MODE"?i||3:i}function Cc(e,t){const i=MM("MODE",t),r=MM(e,t);return i===3?r===!0:r!==!1}function Zp(e,t,i,...r){return Cc(e,t)}function d3(e){throw e}function rk(e){}function ei(e,t,i,r){const s=`https://vuejs.org/error-reference/#compiler-${e}`,n=new SyntaxError(String(s));return n.code=e,n.loc=t,n}const is=e=>e.type===4&&e.isStatic;function sk(e){switch(e){case"Teleport":case"teleport":return tp;case"Suspense":case"suspense":return KE;case"KeepAlive":case"keep-alive":return Yg;case"BaseTransition":case"base-transition":return Z8}}const Kee=/^\d|[^\$\w\xA0-\uFFFF]/,p3=e=>!Kee.test(e),Xee=/[A-Za-z_$\xA0-\uFFFF]/,Qee=/[\.\?\w$\xA0-\uFFFF]/,ete=/\s+[.[]\s*|\s*[.[]\s+/g,nk=e=>e.type===4?e.content:e.loc.source,tte=e=>{const t=nk(e).trim().replace(ete,a=>a.trim());let i=0,r=[],s=0,n=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(i){case 0:if(l==="[")r.push(i),i=1,s++;else if(l==="(")r.push(i),i=2,n++;else if(!(a===0?Xee:Qee).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(i),i=3,o=l):l==="["?s++:l==="]"&&(--s||(i=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(i),i=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===t.length-1)return!1;--n||(i=r.pop())}break;case 3:l===o&&(i=r.pop(),o=null);break}}return!s&&!n},ok=tte,ite=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,rte=e=>ite.test(nk(e)),ste=rte;function Ds(e,t,i=!1){for(let r=0;r<e.props.length;r++){const s=e.props[r];if(s.type===7&&(i||s.exp)&&(Je(t)?s.name===t:t.test(s.name)))return s}}function Rv(e,t,i=!1,r=!1){for(let s=0;s<e.props.length;s++){const n=e.props[s];if(n.type===6){if(i)continue;if(n.name===t&&(n.value||r))return n}else if(n.name==="bind"&&(n.exp||r)&&xc(n.arg,t))return n}}function xc(e,t){return!!(e&&is(e)&&e.content===t)}function nte(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function t_(e){return e.type===5||e.type===2}function ote(e){return e.type===7&&e.name==="slot"}function Xg(e){return e.type===1&&e.tagType===3}function Qg(e){return e.type===1&&e.tagType===2}const ate=new Set([Yp,Bm]);function ak(e,t=[]){if(e&&!Je(e)&&e.type===14){const i=e.callee;if(!Je(i)&&ate.has(i))return ak(e.arguments[0],t.concat(e))}return[e,t]}function e1(e,t,i){let r,s=e.type===13?e.props:e.arguments[2],n=[],o;if(s&&!Je(s)&&s.type===14){const a=ak(s);s=a[0],n=a[1],o=n[n.length-1]}if(s==null||Je(s))r=Bs([t]);else if(s.type===14){const a=s.arguments[0];!Je(a)&&a.type===15?IM(t,a)||a.properties.unshift(t):s.callee===c3?r=Bi(i.helper(Jg),[Bs([t]),s]):s.arguments.unshift(Bs([t])),!r&&(r=s)}else s.type===15?(IM(t,s)||s.properties.unshift(t),r=s):(r=Bi(i.helper(Jg),[Bs([t]),s]),o&&o.callee===Bm&&(o=n[n.length-2]));e.type===13?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function IM(e,t){let i=!1;if(e.key.type===4){const r=e.key.content;i=t.properties.some(s=>s.key.type===4&&s.key.content===r)}return i}function Kp(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,r)=>i==="-"?"_":e.charCodeAt(r).toString())}`}function lte(e){return e.type===14&&e.callee===h3?e.arguments[1].returns:e}const cte=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,lk={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:$d,isPreTag:$d,isIgnoreNewlineTag:$d,isCustomElement:$d,onError:d3,onWarn:rk,comments:!1,prefixIdentifiers:!1};let bt=lk,Xp=null,sa="",pr=null,lt=null,qr="",Go=-1,dc=-1,m3=0,Za=!1,ex=null;const Kt=[],fi=new Zee(Kt,{onerr:Po,ontext(e,t){N0(rr(e,t),e,t)},ontextentity(e,t,i){N0(e,t,i)},oninterpolation(e,t){if(Za)return N0(rr(e,t),e,t);let i=e+fi.delimiterOpen.length,r=t-fi.delimiterClose.length;for(;fs(sa.charCodeAt(i));)i++;for(;fs(sa.charCodeAt(r-1));)r--;let s=rr(i,r);s.includes("&")&&(s=bt.decodeEntities(s,!1)),tx({type:5,content:Fy(s,!1,vi(i,r)),loc:vi(e,t)})},onopentagname(e,t){const i=rr(e,t);pr={type:1,tag:i,ns:bt.getNamespace(i,Kt[0],bt.ns),tagType:0,props:[],children:[],loc:vi(e-1,t),codegenNode:void 0}},onopentagend(e){$M(e)},onclosetag(e,t){const i=rr(e,t);if(!bt.isVoidTag(i)){let r=!1;for(let s=0;s<Kt.length;s++)if(Kt[s].tag.toLowerCase()===i.toLowerCase()){r=!0,s>0&&Po(24,Kt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Kt.shift();Dy(a,t,o<s)}break}r||Po(23,ck(e,60))}},onselfclosingtag(e){const t=pr.tag;pr.isSelfClosing=!0,$M(e),Kt[0]&&Kt[0].tag===t&&Dy(Kt.shift(),e)},onattribname(e,t){lt={type:6,name:rr(e,t),nameLoc:vi(e,t),value:void 0,loc:vi(e)}},ondirname(e,t){const i=rr(e,t),r=i==="."||i===":"?"bind":i==="@"?"on":i==="#"?"slot":i.slice(2);if(!Za&&r===""&&Po(26,e),Za||r==="")lt={type:6,name:i,nameLoc:vi(e,t),value:void 0,loc:vi(e)};else if(lt={type:7,name:r,rawName:i,exp:void 0,arg:void 0,modifiers:i==="."?[Qe("prop")]:[],loc:vi(e)},r==="pre"){Za=fi.inVPre=!0,ex=pr;const s=pr.props;for(let n=0;n<s.length;n++)s[n].type===7&&(s[n]=_te(s[n]))}},ondirarg(e,t){if(e===t)return;const i=rr(e,t);if(Za)lt.name+=i,Sc(lt.nameLoc,t);else{const r=i[0]!=="[";lt.arg=Fy(r?i:i.slice(1,-1),r,vi(e,t),r?3:0)}},ondirmodifier(e,t){const i=rr(e,t);if(Za)lt.name+="."+i,Sc(lt.nameLoc,t);else if(lt.name==="slot"){const r=lt.arg;r&&(r.content+="."+i,Sc(r.loc,t))}else{const r=Qe(i,!0,vi(e,t));lt.modifiers.push(r)}},onattribdata(e,t){qr+=rr(e,t),Go<0&&(Go=e),dc=t},onattribentity(e,t,i){qr+=e,Go<0&&(Go=t),dc=i},onattribnameend(e){const t=lt.loc.start.offset,i=rr(t,e);lt.type===7&&(lt.rawName=i),pr.props.some(r=>(r.type===7?r.rawName:r.name)===i)&&Po(2,t)},onattribend(e,t){if(pr&&lt){if(Sc(lt.loc,t),e!==0)if(qr.includes("&")&&(qr=bt.decodeEntities(qr,!0)),lt.type===6)lt.name==="class"&&(qr=hk(qr).trim()),e===1&&!qr&&Po(13,t),lt.value={type:2,content:qr,loc:e===1?vi(Go,dc):vi(Go-1,dc+1)},fi.inSFCRoot&&pr.tag==="template"&&lt.name==="lang"&&qr&&qr!=="html"&&fi.enterRCDATA(Kg("</template"),0);else{let i=0;lt.exp=Fy(qr,!1,vi(Go,dc),0,i),lt.name==="for"&&(lt.forParseResult=hte(lt.exp));let r=-1;lt.name==="bind"&&(r=lt.modifiers.findIndex(s=>s.content==="sync"))>-1&&Zp("COMPILER_V_BIND_SYNC",bt,lt.loc,lt.rawName)&&(lt.name="model",lt.modifiers.splice(r,1))}(lt.type!==7||lt.name!=="pre")&&pr.props.push(lt)}qr="",Go=dc=-1},oncomment(e,t){bt.comments&&tx({type:3,content:rr(e,t),loc:vi(e-4,t+3)})},onend(){const e=sa.length;for(let t=0;t<Kt.length;t++)Dy(Kt[t],e-1),Po(24,Kt[t].loc.start.offset)},oncdata(e,t){Kt[0].ns!==0?N0(rr(e,t),e,t):Po(1,e-9)},onprocessinginstruction(e){(Kt[0]?Kt[0].ns:bt.ns)===0&&Po(21,e-1)}}),OM=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,ute=/^\(|\)$/g;function hte(e){const t=e.loc,i=e.content,r=i.match(cte);if(!r)return;const[,s,n]=r,o=(d,p,y=!1)=>{const v=t.start.offset+p,b=v+d.length;return Fy(d,!1,vi(v,b),0,y?1:0)},a={source:o(n.trim(),i.indexOf(n,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(ute,"").trim();const c=s.indexOf(l),f=l.match(OM);if(f){l=l.replace(OM,"").trim();const d=f[1].trim();let p;if(d&&(p=i.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,i.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function rr(e,t){return sa.slice(e,t)}function $M(e){fi.inSFCRoot&&(pr.innerLoc=vi(e+1,e+1)),tx(pr);const{tag:t,ns:i}=pr;i===0&&bt.isPreTag(t)&&m3++,bt.isVoidTag(t)?Dy(pr,e):(Kt.unshift(pr),(i===1||i===2)&&(fi.inXML=!0)),pr=null}function N0(e,t,i){{const n=Kt[0]&&Kt[0].tag;n!=="script"&&n!=="style"&&e.includes("&")&&(e=bt.decodeEntities(e,!1))}const r=Kt[0]||Xp,s=r.children[r.children.length-1];s&&s.type===2?(s.content+=e,Sc(s.loc,i)):r.children.push({type:2,content:e,loc:vi(t,i)})}function Dy(e,t,i=!1){i?Sc(e.loc,ck(t,60)):Sc(e.loc,fte(t,62)+1),fi.inSFCRoot&&(e.children.length?e.innerLoc.end=nt({},e.children[e.children.length-1].loc.end):e.innerLoc.end=nt({},e.innerLoc.start),e.innerLoc.source=rr(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:s,children:n}=e;if(Za||(r==="slot"?e.tagType=2:CM(e)?e.tagType=3:pte(e)&&(e.tagType=1)),fi.inRCDATA||(e.children=uk(n)),s===0&&bt.isIgnoreNewlineTag(r)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&bt.isPreTag(r)&&m3--,ex===e&&(Za=fi.inVPre=!1,ex=null),fi.inXML&&(Kt[0]?Kt[0].ns:bt.ns)===0&&(fi.inXML=!1);{const o=e.props;if(!fi.inSFCRoot&&Cc("COMPILER_NATIVE_TEMPLATE",bt)&&e.tag==="template"&&!CM(e)){const l=Kt[0]||Xp,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Zp("COMPILER_INLINE_TEMPLATE",bt,a.loc)&&e.children.length&&(a.value={type:2,content:rr(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function fte(e,t){let i=e;for(;sa.charCodeAt(i)!==t&&i<sa.length-1;)i++;return i}function ck(e,t){let i=e;for(;sa.charCodeAt(i)!==t&&i>=0;)i--;return i}const dte=new Set(["if","else","else-if","for","slot"]);function CM({tag:e,props:t}){if(e==="template"){for(let i=0;i<t.length;i++)if(t[i].type===7&&dte.has(t[i].name))return!0}return!1}function pte({tag:e,props:t}){if(bt.isCustomElement(e))return!1;if(e==="component"||mte(e.charCodeAt(0))||sk(e)||bt.isBuiltInComponent&&bt.isBuiltInComponent(e)||bt.isNativeTag&&!bt.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const r=t[i];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Zp("COMPILER_IS_ON_ELEMENT",bt,r.loc))return!0}}else if(r.name==="bind"&&xc(r.arg,"is")&&Zp("COMPILER_IS_ON_ELEMENT",bt,r.loc))return!0}return!1}function mte(e){return e>64&&e<91}const yte=/\r\n/g;function uk(e,t){const i=bt.whitespace!=="preserve";let r=!1;for(let s=0;s<e.length;s++){const n=e[s];if(n.type===2)if(m3)n.content=n.content.replace(yte,`
`);else if(gte(n.content)){const o=e[s-1]&&e[s-1].type,a=e[s+1]&&e[s+1].type;!o||!a||i&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&vte(n.content)))?(r=!0,e[s]=null):n.content=" "}else i&&(n.content=hk(n.content))}return r?e.filter(Boolean):e}function gte(e){for(let t=0;t<e.length;t++)if(!fs(e.charCodeAt(t)))return!1;return!0}function vte(e){for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);if(i===10||i===13)return!0}return!1}function hk(e){let t="",i=!1;for(let r=0;r<e.length;r++)fs(e.charCodeAt(r))?i||(t+=" ",i=!0):(t+=e[r],i=!1);return t}function tx(e){(Kt[0]||Xp).children.push(e)}function vi(e,t){return{start:fi.getPos(e),end:t==null?t:fi.getPos(t),source:t==null?t:rr(e,t)}}function bte(e){return vi(e.start.offset,e.end.offset)}function Sc(e,t){e.end=fi.getPos(t),e.source=rr(e.start.offset,t)}function _te(e){const t={type:6,name:e.rawName,nameLoc:vi(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const i=e.exp.loc;i.end.offset<e.loc.end.offset&&(i.start.offset--,i.start.column--,i.end.offset++,i.end.column++),t.value={type:2,content:e.exp.content,loc:i}}return t}function Fy(e,t=!1,i,r=0,s=0){return Qe(e,t,i,r)}function Po(e,t,i){bt.onError(ei(e,vi(t,t)))}function wte(){fi.reset(),pr=null,lt=null,qr="",Go=-1,dc=-1,Kt.length=0}function xte(e,t){if(wte(),sa=e,bt=nt({},lk),t){let s;for(s in t)t[s]!=null&&(bt[s]=t[s])}fi.mode=bt.parseMode==="html"?1:bt.parseMode==="sfc"?2:0,fi.inXML=bt.ns===1||bt.ns===2;const i=t&&t.delimiters;i&&(fi.delimiterOpen=Kg(i[0]),fi.delimiterClose=Kg(i[1]));const r=Xp=Hee([],e);return fi.parse(sa),r.loc=vi(0,e.length),r.children=uk(r.children),Xp=null,r}function Ste(e,t){Uy(e,void 0,t,fk(e,e.children[0]))}function fk(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!Qg(t)}function Uy(e,t,i,r=!1,s=!1){const{children:n}=e,o=[];for(let f=0;f<n.length;f++){const d=n[f];if(d.type===1&&d.tagType===0){const p=r?0:ys(d,i);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&pk(d,i)>=2){const b=mk(d);b&&(y.props=i.hoist(b))}y.dynamicProps&&(y.dynamicProps=i.hoist(y.dynamicProps))}}}else if(d.type===12&&(r?0:ys(d,i))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&i.scopes.vSlot++,Uy(d,e,i,!1,s),p&&i.scopes.vSlot--}else if(d.type===11)Uy(d,e,i,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)Uy(d.branches[p],e,i,d.branches[p].children.length===1,s)}let a=!1;if(o.length===n.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ee(e.codegenNode.children))e.codegenNode.children=l($c(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ee(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=c(e.codegenNode,"default");f&&(f.returns=l($c(f.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ee(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=Ds(e,"slot",!0),d=f&&f.arg&&c(t.codegenNode,f.arg);d&&(d.returns=l($c(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=i.cache(f.codegenNode);function l(f){const d=i.cache(f);return s&&i.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Ee(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&i.transformHoist&&i.transformHoist(n,i,e)}function ys(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=i.get(e);if(r!==void 0)return r;const s=e.codegenNode;if(s.type!==13||s.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=pk(e,t);if(a===0)return i.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=ys(e.children[l],t);if(c===0)return i.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=ys(c.exp,t);if(f===0)return i.set(e,0),0;f<o&&(o=f)}}if(s.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return i.set(e,0),0;t.removeHelper(Kc),t.removeHelper(Jh(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(Yh(t.inSSR,s.isComponent))}return i.set(e,o),o}else return i.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return ys(e.content,t);case 4:return e.constType;case 8:let n=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Je(a)||ls(a))continue;const l=ys(a,t);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const Ete=new Set([a3,l3,Yp,Bm]);function dk(e,t){if(e.type===14&&!Je(e.callee)&&Ete.has(e.callee)){const i=e.arguments[0];if(i.type===4)return ys(i,t);if(i.type===14)return dk(i,t)}return 0}function pk(e,t){let i=3;const r=mk(e);if(r&&r.type===15){const{properties:s}=r;for(let n=0;n<s.length;n++){const{key:o,value:a}=s[n],l=ys(o,t);if(l===0)return l;l<i&&(i=l);let c;if(a.type===4?c=ys(a,t):a.type===14?c=dk(a,t):c=0,c===0)return c;c<i&&(i=c)}}return i}function mk(e){const t=e.codegenNode;if(t.type===13)return t.props}function Ate(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,hmr:s=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=or,isCustomElement:f=or,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:b=!1,ssrCssVars:E="",bindingMetadata:S=st,inline:T=!1,isTS:w=!1,onError:_=d3,onWarn:M=rk,compatConfig:I}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:t,selfName:C&&Ml(Bt(C[1])),prefixIdentifiers:i,hoistStatic:r,hmr:s,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:b,ssrCssVars:E,bindingMetadata:S,inline:T,isTS:w,onError:_,onWarn:M,compatConfig:I,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(N){const U=P.helpers.get(N)||0;return P.helpers.set(N,U+1),N},removeHelper(N){const U=P.helpers.get(N);if(U){const j=U-1;j?P.helpers.set(N,j):P.helpers.delete(N)}},helperString(N){return`_${Wh[P.helper(N)]}`},replaceNode(N){P.parent.children[P.childIndex]=P.currentNode=N},removeNode(N){const U=P.parent.children,j=N?U.indexOf(N):P.currentNode?P.childIndex:-1;!N||N===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>j&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(j,1)},onNodeRemoved:or,addIdentifiers(N){},removeIdentifiers(N){},hoist(N){Je(N)&&(N=Qe(N)),P.hoists.push(N);const U=Qe(`_hoisted_${P.hoists.length}`,!1,N.loc,2);return U.hoisted=N,U},cache(N,U=!1,j=!1){const F=Yee(P.cached.length,N,U,j);return P.cached.push(F),F}};return P.filters=new Set,P}function Tte(e,t){const i=Ate(e,t);Dv(e,i),t.hoistStatic&&Ste(e,i),t.ssr||Mte(e,i),e.helpers=new Set([...i.helpers.keys()]),e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.transformed=!0,e.filters=[...i.filters]}function Mte(e,t){const{helper:i}=t,{children:r}=e;if(r.length===1){const s=r[0];if(fk(e,s)&&s.codegenNode){const n=s.codegenNode;n.type===13&&f3(n,t),e.codegenNode=n}else e.codegenNode=s}else if(r.length>1){let s=64;e.codegenNode=Jp(t,i(Hp),void 0,e.children,s,void 0,void 0,!0,void 0,!1)}}function Ite(e,t){let i=0;const r=()=>{i--};for(;i<e.children.length;i++){const s=e.children[i];Je(s)||(t.grandParent=t.parent,t.parent=e,t.childIndex=i,t.onNodeRemoved=r,Dv(s,t))}}function Dv(e,t){t.currentNode=e;const{nodeTransforms:i}=t,r=[];for(let n=0;n<i.length;n++){const o=i[n](e,t);if(o&&(Ee(o)?r.push(...o):r.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Vm);break;case 5:t.ssr||t.helper(kv);break;case 9:for(let n=0;n<e.branches.length;n++)Dv(e.branches[n],t);break;case 10:case 11:case 1:case 0:Ite(e,t);break}t.currentNode=e;let s=r.length;for(;s--;)r[s]()}function yk(e,t){const i=Je(e)?r=>r===e:r=>e.test(r);return(r,s)=>{if(r.type===1){const{props:n}=r;if(r.tagType===3&&n.some(ote))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&i(l.name)){n.splice(a,1),a--;const c=t(r,l,s);c&&o.push(c)}}return o}}}const Fv="/*@__PURE__*/",gk=e=>`${Wh[e]}: _${Wh[e]}`;function Ote(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:r=!1,filename:s="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:i,sourceMap:r,filename:s,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Wh[b]}`},push(b,E=-2,S){y.code+=b},indent(){v(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(b){y.push(`
`+"  ".repeat(b),0)}return y}function $te(e,t={}){const i=Ote(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:r,push:s,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=i,d=Array.from(e.helpers),p=d.length>0,y=!n&&r!=="module";Cte(e,i);const b=f?"ssrRender":"render",S=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${b}(${S}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${d.map(gk).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(i_(e.components,"component",i),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(i_(e.directives,"directive",i),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),i_(e.filters,"filter",i),l()),e.temps>0){s("let ");for(let T=0;T<e.temps;T++)s(`${T>0?", ":""}_temp${T}`)}return(e.components.length||e.directives.length||e.temps)&&(s(`
`,0),l()),f||s("return "),e.codegenNode?Er(e.codegenNode,i):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function Cte(e,t){const{ssr:i,prefixIdentifiers:r,push:s,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,f=Array.from(e.helpers);if(f.length>0&&(s(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[XE,QE,Vm,e3,Q8].filter(p=>f.includes(p)).map(gk).join(", ");s(`const { ${d} } = _Vue
`,-1)}Nte(e.hoists,t),n(),s("return ")}function i_(e,t,{helper:i,push:r,newline:s,isTS:n}){const o=i(t==="filter"?s3:t==="component"?t3:r3);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${Kp(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<e.length-1&&s()}}function Nte(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:r}=t;r();for(let s=0;s<e.length;s++){const n=e[s];n&&(i(`const _hoisted_${s+1} = `),Er(n,t),r())}t.pure=!1}function y3(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),Gm(e,t,i),i&&t.deindent(),t.push("]")}function Gm(e,t,i=!1,r=!0){const{push:s,newline:n}=t;for(let o=0;o<e.length;o++){const a=e[o];Je(a)?s(a,-3):Ee(a)?y3(a,t):Er(a,t),o<e.length-1&&(i?(r&&s(","),n()):r&&s(", "))}}function Er(e,t){if(Je(e)){t.push(e,-3);return}if(ls(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Er(e.codegenNode,t);break;case 2:Pte(e,t);break;case 4:vk(e,t);break;case 5:Lte(e,t);break;case 12:Er(e.codegenNode,t);break;case 8:bk(e,t);break;case 3:Rte(e,t);break;case 13:Dte(e,t);break;case 14:Ute(e,t);break;case 15:jte(e,t);break;case 17:Vte(e,t);break;case 18:Bte(e,t);break;case 19:Gte(e,t);break;case 20:zte(e,t);break;case 21:Gm(e.body,t,!0,!1);break}}function Pte(e,t){t.push(JSON.stringify(e.content),-3,e)}function vk(e,t){const{content:i,isStatic:r}=e;t.push(r?JSON.stringify(i):i,-3,e)}function Lte(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Fv),i(`${r(kv)}(`),Er(e.content,t),i(")")}function bk(e,t){for(let i=0;i<e.children.length;i++){const r=e.children[i];Je(r)?t.push(r,-3):Er(r,t)}}function kte(e,t){const{push:i}=t;if(e.type===8)i("["),bk(e,t),i("]");else if(e.isStatic){const r=p3(e.content)?e.content:JSON.stringify(e.content);i(r,-2,e)}else i(`[${e.content}]`,-3,e)}function Rte(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Fv),i(`${r(Vm)}(${JSON.stringify(e.content)})`,-3,e)}function Dte(e,t){const{push:i,helper:r,pure:s}=t,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=e;let v;l&&(v=String(l)),f&&i(r(n3)+"("),d&&i(`(${r(Kc)}(${p?"true":""}), `),s&&i(Fv);const b=d?Jh(t.inSSR,y):Yh(t.inSSR,y);i(r(b)+"(",-2,e),Gm(Fte([n,o,a,v,c]),t),i(")"),d&&i(")"),f&&(i(", "),Er(f,t),i(")"))}function Fte(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function Ute(e,t){const{push:i,helper:r,pure:s}=t,n=Je(e.callee)?e.callee:r(e.callee);s&&i(Fv),i(n+"(",-2,e),Gm(e.arguments,t),i(")")}function jte(e,t){const{push:i,indent:r,deindent:s,newline:n}=t,{properties:o}=e;if(!o.length){i("{}",-2,e);return}const a=o.length>1||!1;i(a?"{":"{ "),a&&r();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];kte(c,t),i(": "),Er(f,t),l<o.length-1&&(i(","),n())}a&&s(),i(a?"}":" }")}function Vte(e,t){y3(e.elements,t)}function Bte(e,t){const{push:i,indent:r,deindent:s}=t,{params:n,returns:o,body:a,newline:l,isSlot:c}=e;c&&i(`_${Wh[u3]}(`),i("(",-2,e),Ee(n)?Gm(n,t):n&&Er(n,t),i(") => "),(l||a)&&(i("{"),r()),o?(l&&i("return "),Ee(o)?y3(o,t):Er(o,t)):a&&Er(a,t),(l||a)&&(s(),i("}")),c&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function Gte(e,t){const{test:i,consequent:r,alternate:s,newline:n}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(i.type===4){const d=!p3(i.content);d&&o("("),vk(i,t),d&&o(")")}else o("("),Er(i,t),o(")");n&&a(),t.indentLevel++,n||o(" "),o("? "),Er(r,t),t.indentLevel--,n&&c(),n||o(" "),o(": ");const f=s.type===19;f||t.indentLevel++,Er(s,t),f||t.indentLevel--,n&&l(!0)}function zte(e,t){const{push:i,helper:r,indent:s,deindent:n,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&i("[...("),i(`_cache[${e.index}] || (`),a&&(s(),i(`${r(Zg)}(-1`),e.inVOnce&&i(", true"),i("),"),o(),i("(")),i(`_cache[${e.index}] = `),Er(e.value,t),a&&(i(`).cacheIndex = ${e.index},`),o(),i(`${r(Zg)}(1),`),o(),i(`_cache[${e.index}]`),n()),i(")"),l&&i(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const qte=yk(/^(if|else|else-if)$/,(e,t,i)=>Wte(e,t,i,(r,s,n)=>{const o=i.parent.children;let a=o.indexOf(r),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)r.codegenNode=PM(s,l,i);else{const c=Hte(r.codegenNode);c.alternate=PM(s,l+r.branches.length-1,i)}}}));function Wte(e,t,i,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:e.loc;i.onError(ei(28,t.loc)),t.exp=Qe("true",!1,s)}if(t.name==="if"){const s=NM(e,t),n={type:9,loc:bte(e.loc),branches:[s]};if(i.replaceNode(n),r)return r(n,s,!0)}else{const s=i.parent.children;let n=s.indexOf(e);for(;n-->=-1;){const o=s[n];if(o&&o.type===3){i.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){i.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&i.onError(ei(30,e.loc)),i.removeNode();const a=NM(e,t);o.branches.push(a);const l=r&&r(o,a,!1);Dv(a,i),l&&l(),i.currentNode=null}else i.onError(ei(30,e.loc));break}}}function NM(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!Ds(e,"for")?e.children:[e],userKey:Rv(e,"key"),isTemplateIf:i}}function PM(e,t,i){return e.condition?Qw(e.condition,LM(e,t,i),Bi(i.helper(Vm),['""',"true"])):LM(e,t,i)}function LM(e,t,i){const{helper:r}=i,s=Ei("key",Qe(`${t}`,!1,As,2)),{children:n}=e,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return e1(l,s,i),l}else return Jp(i,r(Hp),Bs([s]),n,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=lte(l);return c.type===13&&f3(c,i),e1(c,s,i),l}}function Hte(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Yte=(e,t,i)=>{const{modifiers:r,loc:s}=e,n=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return i.onError(ei(52,n.loc)),{props:[Ei(n,Qe("",!0,s))]};_k(e),o=e.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),r.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=Bt(n.content):n.content=`${i.helperString(Kw)}(${n.content})`:(n.children.unshift(`${i.helperString(Kw)}(`),n.children.push(")"))),i.inSSR||(r.some(a=>a.content==="prop")&&kM(n,"."),r.some(a=>a.content==="attr")&&kM(n,"^")),{props:[Ei(n,o)]}},_k=(e,t)=>{const i=e.arg,r=Bt(i.content);e.exp=Qe(r,!1,i.loc)},kM=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Jte=yk("for",(e,t,i)=>{const{helper:r,removeHelper:s}=i;return Zte(e,t,i,n=>{const o=Bi(r(o3),[n.source]),a=Xg(e),l=Ds(e,"memo"),c=Rv(e,"key",!1,!0);c&&c.type===7&&!c.exp&&_k(c);let d=c&&(c.type===6?c.value?Qe(c.value.content,!0):void 0:c.exp);const p=c&&d?Ei("key",d):null,y=n.source.type===4&&n.source.constType>0,v=y?64:c?128:256;return n.codegenNode=Jp(i,r(Hp),void 0,o,v,void 0,void 0,!0,!y,!1,e.loc),()=>{let b;const{children:E}=n,S=E.length!==1||E[0].type!==1,T=Qg(e)?e:a&&e.children.length===1&&Qg(e.children[0])?e.children[0]:null;if(T?(b=T.codegenNode,a&&p&&e1(b,p,i)):S?b=Jp(i,r(Hp),p?Bs([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(b=E[0].codegenNode,a&&p&&e1(b,p,i),b.isBlock!==!y&&(b.isBlock?(s(Kc),s(Jh(i.inSSR,b.isComponent))):s(Yh(i.inSSR,b.isComponent))),b.isBlock=!y,b.isBlock?(r(Kc),r(Jh(i.inSSR,b.isComponent))):r(Yh(i.inSSR,b.isComponent))),l){const w=Hh(ix(n.parseResult,[Qe("_cached")]));w.body=Jee([xn(["const _memo = (",l.exp,")"]),xn(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${i.helperString(ik)}(_cached, _memo)) return _cached`]),xn(["const _item = ",b]),Qe("_item.memo = _memo"),Qe("return _item")]),o.arguments.push(w,Qe("_cache"),Qe(String(i.cached.length))),i.cached.push(null)}else o.arguments.push(Hh(ix(n.parseResult),b,!0))}})});function Zte(e,t,i,r){if(!t.exp){i.onError(ei(31,t.loc));return}const s=t.forParseResult;if(!s){i.onError(ei(32,t.loc));return}wk(s);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=i,{source:l,value:c,key:f,index:d}=s,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:s,children:Xg(e)?e.children:[e]};i.replaceNode(p),a.vFor++;const y=r&&r(p);return()=>{a.vFor--,y&&y()}}function wk(e,t){e.finalized||(e.finalized=!0)}function ix({value:e,key:t,index:i},r=[]){return Kte([e,t,i,...r])}function Kte(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,r)=>i||Qe("_".repeat(r+1),!1))}const RM=Qe("undefined",!1),Xte=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=Ds(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Qte=(e,t,i,r)=>Hh(e,i,!1,!0,i.length?i[0].loc:r);function eie(e,t,i=Qte){t.helper(u3);const{children:r,loc:s}=e,n=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Ds(e,"slot",!0);if(l){const{arg:E,exp:S}=l;E&&!is(E)&&(a=!0),n.push(Ei(E||Qe("default",!0),i(S,void 0,r,s)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let E=0;E<r.length;E++){const S=r[E];let T;if(!Xg(S)||!(T=Ds(S,"slot",!0))){S.type!==3&&d.push(S);continue}if(l){t.onError(ei(37,T.loc));break}c=!0;const{children:w,loc:_}=S,{arg:M=Qe("default",!0),exp:I,loc:C}=T;let P;is(M)?P=M?M.content:"default":a=!0;const N=Ds(S,"for"),U=i(I,N,w,_);let j,F;if(j=Ds(S,"if"))a=!0,o.push(Qw(j.exp,P0(M,U,y++),RM));else if(F=Ds(S,/^else(-if)?$/,!0)){let q=E,te;for(;q--&&(te=r[q],te.type===3););if(te&&Xg(te)&&Ds(te,/^(else-)?if$/)){let h=o[o.length-1];for(;h.alternate.type===19;)h=h.alternate;h.alternate=F.exp?Qw(F.exp,P0(M,U,y++),RM):P0(M,U,y++)}else t.onError(ei(30,F.loc))}else if(N){a=!0;const q=N.forParseResult;q?(wk(q),o.push(Bi(t.helper(o3),[q.source,Hh(ix(q),P0(M,U),!0)]))):t.onError(ei(32,N.loc))}else{if(P){if(p.has(P)){t.onError(ei(38,C));continue}p.add(P),P==="default"&&(f=!0)}n.push(Ei(M,U))}}if(!l){const E=(S,T)=>{const w=i(S,void 0,T,s);return t.compatConfig&&(w.isNonScopedSlot=!0),Ei("default",w)};c?d.length&&d.some(S=>xk(S))&&(f?t.onError(ei(39,d[0].loc)):n.push(E(void 0,d))):n.push(E(void 0,r))}const v=a?2:jy(e.children)?3:1;let b=Bs(n.concat(Ei("_",Qe(v+"",!1))),s);return o.length&&(b=Bi(t.helper(tk),[b,$c(o)])),{slots:b,hasDynamicSlots:a}}function P0(e,t,i){const r=[Ei("name",e),Ei("fn",t)];return i!=null&&r.push(Ei("key",Qe(String(i),!0))),Bs(r)}function jy(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||jy(i.children))return!0;break;case 9:if(jy(i.branches))return!0;break;case 10:case 11:if(jy(i.children))return!0;break}}return!1}function xk(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():xk(e.content)}const Sk=new WeakMap,tie=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:s}=e,n=e.tagType===1;let o=n?iie(e,t):`"${r}"`;const a=It(o)&&o.callee===i3;let l,c,f=0,d,p,y,v=a||o===tp||o===KE||!n&&(r==="svg"||r==="foreignObject"||r==="math");if(s.length>0){const b=Ek(e,t,void 0,n,a);l=b.props,f=b.patchFlag,p=b.dynamicPropNames;const E=b.directives;y=E&&E.length?$c(E.map(S=>sie(S,t))):void 0,b.shouldUseBlock&&(v=!0)}if(e.children.length>0)if(o===Yg&&(v=!0,f|=1024),n&&o!==tp&&o!==Yg){const{slots:E,hasDynamicSlots:S}=eie(e,t);c=E,S&&(f|=1024)}else if(e.children.length===1&&o!==tp){const E=e.children[0],S=E.type,T=S===5||S===8;T&&ys(E,t)===0&&(f|=1),T||S===2?c=E:c=e.children}else c=e.children;p&&p.length&&(d=nie(p)),e.codegenNode=Jp(t,o,l,c,f===0?void 0:f,d,y,!!v,!1,n,e.loc)};function iie(e,t,i=!1){let{tag:r}=e;const s=rx(r),n=Rv(e,"is",!1,!0);if(n)if(s||Cc("COMPILER_IS_ON_ELEMENT",t)){let a;if(n.type===6?a=n.value&&Qe(n.value.content,!0):(a=n.exp,a||(a=Qe("is",!1,n.arg.loc))),a)return Bi(t.helper(i3),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(r=n.value.content.slice(4));const o=sk(r)||t.isBuiltInComponent(r);return o?(i||t.helper(o),o):(t.helper(t3),t.components.add(r),Kp(r,"component"))}function Ek(e,t,i=e.props,r,s,n=!1){const{tag:o,loc:a,children:l}=e;let c=[];const f=[],d=[],p=l.length>0;let y=!1,v=0,b=!1,E=!1,S=!1,T=!1,w=!1,_=!1;const M=[],I=U=>{c.length&&(f.push(Bs(DM(c),a)),c=[]),U&&f.push(U)},C=()=>{t.scopes.vFor>0&&c.push(Ei(Qe("ref_for",!0),Qe("true")))},P=({key:U,value:j})=>{if(is(U)){const F=U.content,q=uu(F);if(q&&(!r||s)&&F.toLowerCase()!=="onclick"&&F!=="onUpdate:modelValue"&&!hl(F)&&(T=!0),q&&hl(F)&&(_=!0),q&&j.type===14&&(j=j.arguments[0]),j.type===20||(j.type===4||j.type===8)&&ys(j,t)>0)return;F==="ref"?b=!0:F==="class"?E=!0:F==="style"?S=!0:F!=="key"&&!M.includes(F)&&M.push(F),r&&(F==="class"||F==="style")&&!M.includes(F)&&M.push(F)}else w=!0};for(let U=0;U<i.length;U++){const j=i[U];if(j.type===6){const{loc:F,name:q,nameLoc:te,value:h}=j;let m=!0;if(q==="ref"&&(b=!0,C()),q==="is"&&(rx(o)||h&&h.content.startsWith("vue:")||Cc("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Ei(Qe(q,!0,te),Qe(h?h.content:"",m,h?h.loc:F)))}else{const{name:F,arg:q,exp:te,loc:h,modifiers:m}=j,x=F==="bind",$=F==="on";if(F==="slot"){r||t.onError(ei(40,h));continue}if(F==="once"||F==="memo"||F==="is"||x&&xc(q,"is")&&(rx(o)||Cc("COMPILER_IS_ON_ELEMENT",t))||$&&n)continue;if((x&&xc(q,"key")||$&&p&&xc(q,"vue:before-update"))&&(y=!0),x&&xc(q,"ref")&&C(),!q&&(x||$)){if(w=!0,te)if(x){if(C(),I(),Cc("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(te);continue}f.push(te)}else I({type:14,loc:h,callee:t.helper(c3),arguments:r?[te]:[te,"true"]});else t.onError(ei(x?34:35,h));continue}x&&m.some(Y=>Y.content==="prop")&&(v|=32);const B=t.directiveTransforms[F];if(B){const{props:Y,needRuntime:pe}=B(j,e,t);!n&&Y.forEach(P),$&&q&&!is(q)?I(Bs(Y,a)):c.push(...Y),pe&&(d.push(j),ls(pe)&&Sk.set(j,pe))}else gX(F)||(d.push(j),p&&(y=!0))}}let N;if(f.length?(I(),f.length>1?N=Bi(t.helper(Jg),f,a):N=f[0]):c.length&&(N=Bs(DM(c),a)),w?v|=16:(E&&!r&&(v|=2),S&&!r&&(v|=4),M.length&&(v|=8),T&&(v|=32)),!y&&(v===0||v===32)&&(b||_||d.length>0)&&(v|=512),!t.inSSR&&N)switch(N.type){case 15:let U=-1,j=-1,F=!1;for(let h=0;h<N.properties.length;h++){const m=N.properties[h].key;is(m)?m.content==="class"?U=h:m.content==="style"&&(j=h):m.isHandlerKey||(F=!0)}const q=N.properties[U],te=N.properties[j];F?N=Bi(t.helper(Yp),[N]):(q&&!is(q.value)&&(q.value=Bi(t.helper(a3),[q.value])),te&&(S||te.value.type===4&&te.value.content.trim()[0]==="["||te.value.type===17)&&(te.value=Bi(t.helper(l3),[te.value])));break;case 14:break;default:N=Bi(t.helper(Yp),[Bi(t.helper(Bm),[N])]);break}return{props:N,directives:d,patchFlag:v,dynamicPropNames:M,shouldUseBlock:y}}function DM(e){const t=new Map,i=[];for(let r=0;r<e.length;r++){const s=e[r];if(s.key.type===8||!s.key.isStatic){i.push(s);continue}const n=s.key.content,o=t.get(n);o?(n==="style"||n==="class"||uu(n))&&rie(o,s):(t.set(n,s),i.push(s))}return i}function rie(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=$c([e.value,t.value],e.loc)}function sie(e,t){const i=[],r=Sk.get(e);r?i.push(t.helperString(r)):(t.helper(r3),t.directives.add(e.name),i.push(Kp(e.name,"directive")));const{loc:s}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const n=Qe("true",!1,s);i.push(Bs(e.modifiers.map(o=>Ei(o,n)),s))}return $c(i,e.loc)}function nie(e){let t="[";for(let i=0,r=e.length;i<r;i++)t+=JSON.stringify(e[i]),i<r-1&&(t+=", ");return t+"]"}function rx(e){return e==="component"||e==="Component"}const oie=(e,t)=>{if(Qg(e)){const{children:i,loc:r}=e,{slotName:s,slotProps:n}=aie(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),i.length&&(o[3]=Hh([],i,!1,!1,r),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=Bi(t.helper(ek),o,r)}};function aie(e,t){let i='"default"',r;const s=[];for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===6)o.value&&(o.name==="name"?i=JSON.stringify(o.value.content):(o.name=Bt(o.name),s.push(o)));else if(o.name==="bind"&&xc(o.arg,"name")){if(o.exp)i=o.exp;else if(o.arg&&o.arg.type===4){const a=Bt(o.arg.content);i=o.exp=Qe(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&is(o.arg)&&(o.arg.content=Bt(o.arg.content)),s.push(o)}if(s.length>0){const{props:n,directives:o}=Ek(e,t,s,!1,!1);r=n,o.length&&t.onError(ei(36,o[0].loc))}return{slotName:i,slotProps:r}}const Ak=(e,t,i,r)=>{const{loc:s,modifiers:n,arg:o}=e;!e.exp&&!n.length&&i.onError(ei(35,s));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Mc(Bt(d)):`on:${d}`;a=Qe(p,!0,o.loc)}else a=xn([`${i.helperString(Xw)}(`,o,")"]);else a=o,a.children.unshift(`${i.helperString(Xw)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=i.cacheHandlers&&!l&&!i.inVOnce;if(l){const d=ok(l),p=!(d||ste(l)),y=l.content.includes(";");(p||c&&d)&&(l=xn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Ei(a,l||Qe("() => {}",!1,s))]};return r&&(f=r(f)),c&&(f.props[0].value=i.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},lie=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let r,s=!1;for(let n=0;n<i.length;n++){const o=i[n];if(t_(o)){s=!0;for(let a=n+1;a<i.length;a++){const l=i[a];if(t_(l))r||(r=i[n]=xn([o],o.loc)),r.children.push(" + ",l),i.splice(a,1),a--;else{r=void 0;break}}}}if(!(!s||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(n=>n.type===7&&!t.directiveTransforms[n.name])&&e.tag!=="template")))for(let n=0;n<i.length;n++){const o=i[n];if(t_(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&ys(o,t)===0&&a.push("1"),i[n]={type:12,content:o,loc:o.loc,codegenNode:Bi(t.helper(e3),a)}}}}},FM=new WeakSet,cie=(e,t)=>{if(e.type===1&&Ds(e,"once",!0))return FM.has(e)||t.inVOnce||t.inSSR?void 0:(FM.add(e),t.inVOnce=!0,t.helper(Zg),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0,!0))})},Tk=(e,t,i)=>{const{exp:r,arg:s}=e;if(!r)return i.onError(ei(41,e.loc)),L0();const n=r.loc.source.trim(),o=r.type===4?r.content:n,a=i.bindingMetadata[n];if(a==="props"||a==="props-aliased")return i.onError(ei(44,r.loc)),L0();if(!o.trim()||!ok(r)&&!!1)return i.onError(ei(42,r.loc)),L0();const c=s||Qe("modelValue",!0),f=s?is(s)?`onUpdate:${Bt(s.content)}`:xn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let d;const p=i.isTS?"($event: any)":"$event";d=xn([`${p} => ((`,r,") = $event)"]);const y=[Ei(c,e.exp),Ei(f,d)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(E=>E.content).map(E=>(p3(E)?E:JSON.stringify(E))+": true").join(", "),b=s?is(s)?`${s.content}Modifiers`:xn([s,' + "Modifiers"']):"modelModifiers";y.push(Ei(b,Qe(`{ ${v} }`,!1,e.loc,2)))}return L0(y)};function L0(e=[]){return{props:e}}const uie=/[\w).+\-_$\]]/,hie=(e,t)=>{Cc("COMPILER_FILTERS",t)&&(e.type===5?t1(e.content,t):e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&t1(i.exp,t)}))};function t1(e,t){if(e.type===4)UM(e,t);else for(let i=0;i<e.children.length;i++){const r=e.children[i];typeof r=="object"&&(r.type===4?UM(r,t):r.type===8?t1(e,t):r.type===5&&t1(r.content,t))}}function UM(e,t){const i=e.content;let r=!1,s=!1,n=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,v,b=[];for(y=0;y<i.length;y++)if(p=d,d=i.charCodeAt(y),r)d===39&&p!==92&&(r=!1);else if(s)d===34&&p!==92&&(s=!1);else if(n)d===96&&p!==92&&(n=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&i.charCodeAt(y+1)!==124&&i.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(f=y+1,v=i.slice(0,y).trim()):E();else{switch(d){case 34:s=!0;break;case 39:r=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let S=y-1,T;for(;S>=0&&(T=i.charAt(S),T===" ");S--);(!T||!uie.test(T))&&(o=!0)}}v===void 0?v=i.slice(0,y).trim():f!==0&&E();function E(){b.push(i.slice(f,y).trim()),f=y+1}if(b.length){for(y=0;y<b.length;y++)v=fie(v,b[y],t);e.content=v,e.ast=void 0}}function fie(e,t,i){i.helper(s3);const r=t.indexOf("(");if(r<0)return i.filters.add(t),`${Kp(t,"filter")}(${e})`;{const s=t.slice(0,r),n=t.slice(r+1);return i.filters.add(s),`${Kp(s,"filter")}(${e}${n!==")"?","+n:n}`}}const jM=new WeakSet,die=(e,t)=>{if(e.type===1){const i=Ds(e,"memo");return!i||jM.has(e)?void 0:(jM.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&f3(r,t),e.codegenNode=Bi(t.helper(h3),[i.exp,Hh(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function pie(e){return[[cie,qte,die,Jte,hie,oie,tie,Xte,lie],{on:Ak,bind:Yte,model:Tk}]}function mie(e,t={}){const i=t.onError||d3,r=t.mode==="module";t.prefixIdentifiers===!0?i(ei(47)):r&&i(ei(48));const s=!1;t.cacheHandlers&&i(ei(49)),t.scopeId&&!r&&i(ei(50));const n=nt({},t,{prefixIdentifiers:s}),o=Je(e)?xte(e,n):e,[a,l]=pie();return Tte(o,nt({},n,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:nt({},l,t.directiveTransforms||{})})),$te(o,n)}const yie=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Mk=Symbol(""),Ik=Symbol(""),Ok=Symbol(""),$k=Symbol(""),sx=Symbol(""),Ck=Symbol(""),Nk=Symbol(""),Pk=Symbol(""),Lk=Symbol(""),kk=Symbol("");Wee({[Mk]:"vModelRadio",[Ik]:"vModelCheckbox",[Ok]:"vModelText",[$k]:"vModelSelect",[sx]:"vModelDynamic",[Ck]:"withModifiers",[Nk]:"withKeys",[Pk]:"vShow",[Lk]:"Transition",[kk]:"TransitionGroup"});let $u;function gie(e,t=!1){return $u||($u=document.createElement("div")),t?($u.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,$u.children[0].getAttribute("foo")):($u.innerHTML=e,$u.textContent)}const vie={parseMode:"html",isVoidTag:PX,isNativeTag:e=>$X(e)||CX(e)||NX(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:gie,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Lk;if(e==="TransitionGroup"||e==="transition-group")return kk},getNamespace(e,t,i){let r=t?t.ns:i;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},bie=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:Qe("style",!0,t.loc),exp:_ie(t.value.content,t.loc),modifiers:[],loc:t.loc})})},_ie=(e,t)=>{const i=_P(e);return Qe(JSON.stringify(i),!1,t,3)};function pl(e,t){return ei(e,t)}const wie=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(pl(53,s)),t.children.length&&(i.onError(pl(54,s)),t.children.length=0),{props:[Ei(Qe("innerHTML",!0,s),r||Qe("",!0))]}},xie=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(pl(55,s)),t.children.length&&(i.onError(pl(56,s)),t.children.length=0),{props:[Ei(Qe("textContent",!0),r?ys(r,i)>0?r:Bi(i.helperString(kv),[r],s):Qe("",!0))]}},Sie=(e,t,i)=>{const r=Tk(e,t,i);if(!r.props.length||t.tagType===1)return r;e.arg&&i.onError(pl(58,e.arg.loc));const{tag:s}=t,n=i.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||n){let o=Ok,a=!1;if(s==="input"||n){const l=Rv(t,"type");if(l){if(l.type===7)o=sx;else if(l.value)switch(l.value.content){case"radio":o=Mk;break;case"checkbox":o=Ik;break;case"file":a=!0,i.onError(pl(59,e.loc));break}}else nte(t)&&(o=sx)}else s==="select"&&(o=$k);a||(r.needRuntime=i.helper(o))}else i.onError(pl(57,e.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},Eie=Es("passive,once,capture"),Aie=Es("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Tie=Es("left,right"),Rk=Es("onkeyup,onkeydown,onkeypress"),Mie=(e,t,i,r)=>{const s=[],n=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&Zp("COMPILER_V_ON_NATIVE",i)||Eie(l)?o.push(l):Tie(l)?is(e)?Rk(e.content.toLowerCase())?s.push(l):n.push(l):(s.push(l),n.push(l)):Aie(l)?n.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:n,eventOptionModifiers:o}},VM=(e,t)=>is(e)&&e.content.toLowerCase()==="onclick"?Qe(t,!0):e.type!==4?xn(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Iie=(e,t,i)=>Ak(e,t,i,r=>{const{modifiers:s}=e;if(!s.length)return r;let{key:n,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Mie(n,s,i,e.loc);if(l.includes("right")&&(n=VM(n,"onContextmenu")),l.includes("middle")&&(n=VM(n,"onMouseup")),l.length&&(o=Bi(i.helper(Ck),[o,JSON.stringify(l)])),a.length&&(!is(n)||Rk(n.content.toLowerCase()))&&(o=Bi(i.helper(Nk),[o,JSON.stringify(a)])),c.length){const f=c.map(Ml).join("");n=is(n)?Qe(`${n.content}${f}`,!0):xn(["(",n,`) + "${f}"`])}return{props:[Ei(n,o)]}}),Oie=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(pl(61,s)),{props:[],needRuntime:i.helper(Pk)}},$ie=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},Cie=[bie],Nie={cloak:yie,html:wie,text:xie,model:Sie,on:Iie,show:Oie};function Pie(e,t={}){return mie(e,nt({},vie,t,{nodeTransforms:[$ie,...Cie,...t.nodeTransforms||[]],directiveTransforms:nt({},Nie,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const BM=Object.create(null);function Dk(e,t){if(!Je(e))if(e.nodeType)e=e.innerHTML;else return or;const i=_X(e,t),r=BM[i];if(r)return r;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const s=nt({hoistStatic:!0,onError:void 0,onWarn:or},t);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:n}=Pie(e,s),o=new Function("Vue",n)(jee);return o._rc=!0,BM[i]=o}BE(Dk);const Ove=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:gE,BaseTransitionPropsValidators:Sv,Comment:wi,DeprecationTypes:M8,EffectScope:dv,ErrorCodes:QP,ErrorTypeStrings:w8,Fragment:$t,KeepAlive:bL,ReactiveEffect:Vh,Static:dl,Suspense:s8,Teleport:yE,Text:ho,TrackOpTypes:YP,Transition:$v,TransitionGroup:Nv,TriggerOpTypes:JP,VueElement:Um,assertNumber:XP,callWithAsyncErrorHandling:ws,callWithErrorHandling:fu,camelize:Bt,capitalize:Ml,cloneVNode:$n,compatUtils:T8,compile:Dk,computed:tt,createApp:wl,createBlock:Vt,createCommentVNode:Wt,createElementBlock:xe,createElementVNode:ue,createHydrationRenderer:kE,createPropsRestProxy:RL,createRenderer:LE,createSSRApp:ZE,createSlots:xL,createStaticVNode:h8,createTextVNode:fo,createVNode:Ke,customRef:fE,defineAsyncComponent:bE,defineComponent:rt,defineCustomElement:qE,defineEmits:AL,defineExpose:TL,defineModel:OL,defineOptions:ML,defineProps:EL,defineSSRCustomElement:R8,defineSlots:IL,devtools:x8,effect:$P,effectScope:Pm,getCurrentInstance:ki,getCurrentScope:pv,getCurrentWatcher:ZP,getTransitionRawChildren:km,guardReactiveProps:jE,h:Vs,handleError:Cl,hasInjectionContext:NE,hydrate:W8,hydrateOnIdle:mL,hydrateOnInteraction:vL,hydrateOnMediaQuery:gL,hydrateOnVisible:yL,initCustomFormatter:v8,initDirectivesForSSR:J8,inject:Li,isMemoSame:GE,isProxy:Lm,isReactive:bs,isReadonly:la,isRef:ht,isRuntimeOnly:m8,isShallow:rs,isVNode:On,markRaw:di,mergeDefaults:LL,mergeModels:kL,mergeProps:Ov,nextTick:Ln,normalizeClass:pi,normalizeProps:wP,normalizeStyle:Il,onActivated:_E,onBeforeMount:Av,onBeforeUnmount:kn,onBeforeUpdate:Tv,onDeactivated:wE,onErrorCaptured:AE,onMounted:lr,onRenderTracked:EE,onRenderTriggered:SE,onScopeDispose:aE,onServerPrefetch:xE,onUnmounted:du,onUpdated:Cf,onWatcherCleanup:pE,openBlock:fe,popScopeId:nL,provide:CE,proxyRefs:_v,pushScopeId:sL,queuePostFlushCb:Bh,reactive:tr,readonly:vv,ref:X,registerRuntimeCompiler:BE,render:Ah,renderList:Nl,renderSlot:pn,resolveComponent:_i,resolveDirective:At,resolveDynamicComponent:ME,resolveFilter:A8,resolveTransitionHooks:Yc,setBlockTracking:Bg,setDevtoolsHook:S8,setTransitionHooks:xo,shallowReactive:hE,shallowReadonly:BP,shallowRef:$f,ssrContextKey:DE,ssrUtils:E8,stop:CP,toDisplayString:jt,toHandlerKey:Mc,toHandlers:SL,toRaw:Ge,toRef:WP,toRefs:dE,toValue:qP,transformVNodeArgs:c8,triggerRef:zP,unref:Ie,useAttrs:NL,useCssModule:F8,useCssVars:k8,useHost:WE,useId:pL,useModel:t8,useSSRContext:FE,useShadowRoot:D8,useSlots:CL,useTemplateRef:Fg,useTransitionState:xv,vModelCheckbox:Pv,vModelDynamic:YE,vModelRadio:Lv,vModelSelect:HE,vModelText:Wp,vShow:Cv,version:zE,warn:_8,watch:Wi,watchEffect:XL,watchPostEffect:QL,watchSyncEffect:UE,withAsyncContext:DL,withCtx:Ti,withDefaults:$L,withDirectives:Et,withKeys:JE,withMemo:b8,withModifiers:jm,withScopeId:oL},Symbol.toStringTag,{value:"Module"}));var Lie=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Fk;const Uv=e=>Fk=e,Uk=Symbol();function nx(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ip;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ip||(ip={}));function kie(){const e=Pm(!0),t=e.run(()=>X({}));let i=[],r=[];const s=di({install(n){Uv(s),s._a=n,n.provide(Uk,s),n.config.globalProperties.$pinia=s,r.forEach(o=>i.push(o)),r=[]},use(n){return!this._a&&!Lie?r.push(n):i.push(n),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return s}const jk=()=>{};function GM(e,t,i,r=jk){e.push(t);const s=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!i&&pv()&&aE(s),s}function Cu(e,...t){e.slice().forEach(i=>{i(...t)})}const Rie=e=>e();function ox(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,r)=>e.set(r,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i],s=e[i];nx(s)&&nx(r)&&e.hasOwnProperty(i)&&!ht(r)&&!bs(r)?e[i]=ox(s,r):e[i]=r}return e}const Die=Symbol();function Fie(e){return!nx(e)||!e.hasOwnProperty(Die)}const{assign:ja}=Object;function Uie(e){return!!(ht(e)&&e.effect)}function jie(e,t,i,r){const{state:s,actions:n,getters:o}=t,a=i.state.value[e];let l;function c(){a||(i.state.value[e]=s?s():{});const f=dE(i.state.value[e]);return ja(f,n,Object.keys(o||{}).reduce((d,p)=>(d[p]=di(tt(()=>{Uv(i);const y=i._s.get(e);return o[p].call(y,y)})),d),{}))}return l=Vk(e,c,t,i,r,!0),l}function Vk(e,t,i={},r,s,n){let o;const a=ja({actions:{}},i),l={deep:!0};let c,f,d=[],p=[],y;const v=r.state.value[e];!n&&!v&&(r.state.value[e]={}),X({});let b;function E(P){let N;c=f=!1,typeof P=="function"?(P(r.state.value[e]),N={type:ip.patchFunction,storeId:e,events:y}):(ox(r.state.value[e],P),N={type:ip.patchObject,payload:P,storeId:e,events:y});const U=b=Symbol();Ln().then(()=>{b===U&&(c=!0)}),f=!0,Cu(d,N,r.state.value[e])}const S=n?function(){const{state:N}=i,U=N?N():{};this.$patch(j=>{ja(j,U)})}:jk;function T(){o.stop(),d=[],p=[],r._s.delete(e)}function w(P,N){return function(){Uv(r);const U=Array.from(arguments),j=[],F=[];function q(m){j.push(m)}function te(m){F.push(m)}Cu(p,{args:U,name:P,store:M,after:q,onError:te});let h;try{h=N.apply(this&&this.$id===e?this:M,U)}catch(m){throw Cu(F,m),m}return h instanceof Promise?h.then(m=>(Cu(j,m),m)).catch(m=>(Cu(F,m),Promise.reject(m))):(Cu(j,h),h)}}const _={_p:r,$id:e,$onAction:GM.bind(null,p),$patch:E,$reset:S,$subscribe(P,N={}){const U=GM(d,P,N.detached,()=>j()),j=o.run(()=>Wi(()=>r.state.value[e],F=>{(N.flush==="sync"?f:c)&&P({storeId:e,type:ip.direct,events:y},F)},ja({},l,N)));return U},$dispose:T},M=tr(_);r._s.set(e,M);const C=(r._a&&r._a.runWithContext||Rie)(()=>r._e.run(()=>(o=Pm()).run(t)));for(const P in C){const N=C[P];if(ht(N)&&!Uie(N)||bs(N))n||(v&&Fie(N)&&(ht(N)?N.value=v[P]:ox(N,v[P])),r.state.value[e][P]=N);else if(typeof N=="function"){const U=w(P,N);C[P]=U,a.actions[P]=N}}return ja(M,C),ja(Ge(M),C),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:P=>{E(N=>{ja(N,P)})}}),r._p.forEach(P=>{ja(M,o.run(()=>P({store:M,app:r._a,pinia:r,options:a})))}),v&&n&&i.hydrate&&i.hydrate(M.$state,v),c=!0,f=!0,M}function oi(e,t,i){let r,s;const n=typeof t=="function";typeof e=="string"?(r=e,s=n?i:t):(s=e,r=e.id);function o(a,l){const c=NE();return a=a||(c?Li(Uk,null):null),a&&Uv(a),a=Fk,a._s.has(r)||(n?Vk(r,t,s,a):jie(r,s,a)),a._s.get(r)}return o.$id=r,o}const i1=oi("appbar",()=>{const e=X({}),t=X([]),i=X([]),r=tt(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function s(o){i.value.includes(o)||i.value.push(o)}function n(o){const a=i.value.indexOf(o);a!==-1&&i.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:i,visible:r,addTempButton:s,removeButton:n}}),ax=oi("grid",()=>{const e=X({}),t=X(),i=X();function r(a){e.value={...e.value,[a.id]:a}}function s(a){e.value[a]!==void 0&&delete e.value[a]}function n(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:i,addGrid:r,removeGrid:s,getGridId:n,removeLayer:o}});function el(e,t,i,r){var s,n=!1,o=0;function a(){s&&clearTimeout(s)}function l(){a(),n=!0}typeof t!="boolean"&&(r=i,i=t,t=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(n)return;function b(){o=Date.now(),i.apply(y,d)}function E(){s=void 0}r&&!s&&b(),a(),r===void 0&&v>e?b():t!==!0&&(s=setTimeout(r?E:b,r===void 0?e-v:e))}return c.cancel=l,c}function r1(e,t,i){return i===void 0?el(e,t,!1):el(e,i,t!==!1)}const ol=oi("map-caption",()=>{const e=X({text:{},logo:{}}),t=X({}),i=X({}),r=X({});function s(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function n(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:i,langtoggle:r,toggleScale:s,setAttribution:n}}),r_=(e,t)=>{const i=[...e];for(;i.length>0;){const r=i.shift();if(t(r))return r;r&&i.push(...r.sublayers)}},no=oi("layer",()=>{const e=X([]),t=X([]),i=X([]);function r(d){return r_(e.value,p=>p?.uid===d)}function s(d){return r_(e.value,p=>p?.id===d)}function n(d){return r_(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=i.value.length),i.value.splice(p,0,d.id),i.value=[...i.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=i.value.length&&(p=i.value.length-1);const y=i.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(i.value.splice(y,1),i.value.splice(p,0,d.id),i.value=[...i.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=i.value.filter(v=>v!==d.id);i.value=y}}function f(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:i,layerConfigs:t,getLayerByUid:r,getLayerById:s,getLayerByAny:n,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),es=oi("config",()=>{const e=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=X([]),i=X(),r=X({}),s=X({});function n(c){if(r.value[s.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return r.value[s.value[c]]}function o(c){const f={...e.value,...c};if(e.value=f,Array.isArray(e.value.layers)){const d=no();d.layerConfigs=[...d.layerConfigs,e.value.layers]}}function a(c,f){r.value[f]=c,s.value[f]=f}function l(c,f){const d=c.configs,p=Object.keys(d);if(p.length){const y=p[0];f.forEach(v=>{const b=p.includes(v)?v:y;r.value[v]=d[b],s.value[v]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:i,config:e,registeredConfigs:r,registeredLangs:s,startingFixtures:t,getActiveConfig:n,newConfig:o,registerAllConfigs:l,registerConfig:a}}),Bk=oi("details",()=>{const e=X([]),t=X({}),i=X({}),r=X(),s=X(0),n=X(0),o=X(!0),a=X();function l(f){const d=e.value.findIndex(p=>p.uid===f.uid);d!==-1&&e.value.splice(d,1)}function c(f){t.value={...t.value,[f.id]:f}}return{payload:e,properties:t,defaultTemplates:i,currentFeatureId:r,activeGreedy:s,lastHilight:n,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),ks=oi("fixture",()=>{const e=X({}),t=X({});function i(o){return o.map(a=>t.value[a].getPromise())}function r(o){if(e.value={...e.value,[o.id]:di(o)},o.id in t.value)t.value[o.id].resolveMe(di(o));else{const a=new Si;a.resolveMe(di(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function s(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function n(o){t.value={...t.value,[o]:new Si}}return{items:e,loadPromises:t,getLoadPromises:i,addFixture:r,removeFixture:s,addLoadPromise:n}});var $e=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.RAMP_RELOAD="ramp/reload",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))($e||{}),lx=(e=>(e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(lx||{});class Vie{eventName;handlerName;handlerFunc;constructor(t,i,r){this.eventName=t,this.handlerName=i,this.handlerFunc=r}}class Bie extends Mi{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new dX.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values($e).filter(i=>typeof i=="string"&&i.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(i=>i.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(r=>{this._nameRegister.indexOf(r)===-1&&this._nameRegister.push(r)})}eventNames(){return this._nameRegister.slice()}on(t,i,r=""){if(this.findHandler(r))throw new Error("Duplicate handler name registration: "+r);r||(r=this.handlerNamer(t));const s=new Vie(t,r,i);return this._eventRegister.push(s),this._eventBus.on(t,i),r}off(t){const i=this.findHandler(t);i&&(this._eventRegister.splice(this._eventRegister.indexOf(i),1),this._eventBus.off(i.eventName,i.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(r=>this.off(r))}removeDefaultEvents(){Object.values(lx).forEach(t=>{this.off(t)})}emit(t,...i){this._eventBus.emit(t,...i)}once(t,i,r=""){r||(r=this.handlerNamer(t));const s=(...n)=>{i(...n),this.off(r)};return this.on(t,s,r)}activeHandlers(t=""){return t===""?this._eventRegister.map(i=>i.handlerName):this._eventRegister.filter(i=>i.eventName===t).map(i=>i.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(lx)),t.map(i=>this.defaultHandlerFactory(i))}defaultHandlerFactory(t){let i;switch(t){case"ramp_layer_error_updates_legend":i=r=>{if(r.layer.layerState===hi.ERROR){const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r.layer)}},this.$iApi.event.on("layer/layerstatechange",i,t);break;case"ramp_layer_register_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/registered",i,t);break;case"ramp_layer_reload_end_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/reloadend",i,t);break;case"ramp_layer_reload_start_updates_legend":i=r=>{if(!r.isSublayer){const s=this.$iApi.fixture.get("legend");s&&s.reloadLayerItem(r.uid)}},this.$iApi.event.on("layer/reloadstart",i,t);break;case"ramp_layer_remove_checks_grid":i=r=>{if(this.$iApi.fixture.get("grid")){const s=ax(this.$vApp.$pinia),n=s.getGridId(r.id);if(n===void 0)return;if(s.removeLayer(n,r.id),s.grids[n].layerIds.length===0){s.removeGrid(n);const o=s.currentId;if(n===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),s.currentId=void 0}}}},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_details":i=r=>{const s=Bk(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&s.removeLayer(r)},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&(s.removeLayerItem(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:r.name})))},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_useradd_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.addLayerItem(r)},this.$iApi.event.on("user/layeradded",i,t);break;case"ramp_map_basemap_checks_tile_proj":i=r=>{r.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.layerType===Ne.TILE).forEach(s=>{s.checkProj()})},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_basemap_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(es(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_blur_updates_key_handler":i=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",i,t);break;case"ramp_map_click_runs_identify":i=r=>{r.button===0&&this.$iApi.geo.map.runIdentify(r)},this.on("map/click",i,t);break;case"ramp_map_created_initializes_fixtures":i=()=>{const r=ks(this.$vApp.$pinia).items;Object.keys(r).forEach(s=>{r[s].initialized?.()})},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_created_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(es(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_extent_updates_maptip":i=()=>{if(this.$iApi.geo.map.keysActive){const r=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(r)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",el(50,!0,()=>i()),t);break;case"ramp_map_graphichit_creates_maptip":i=r=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(r)},this.$iApi.event.on("map/graphichit",i,t);break;case"ramp_map_identify_opens_identify_results":i=r=>{const s=this.$iApi.fixture.get("details");s&&s.openDetails(r.results)},this.on("map/identify",i,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",el(50,()=>{const r=ol(this.$vApp.$pinia);r.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(n=>{r.coords={formattedString:n}})}),t);break;case"ramp_map_keydown_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyDown(r)},this.$iApi.event.on("map/keydown",i,t);break;case"ramp_map_keyup_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyUp(r)},this.$iApi.event.on("map/keyup",i,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",el(50,r=>{const s=ol(this.$vApp.$pinia);s.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(r)).then(o=>{s.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousemove",el(50,r=>i(r)),t);break;case"ramp_map_mousedown_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousedown",el(50,r=>{const s={screenX:r.offsetX,screenY:r.offsetY,button:r.button,moveTime:0};i(s)}),t);break;case"ramp_map_mouseleave_removes_maptip":i=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",i);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",r1(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",r1(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":i=r=>{const s=i1(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!s.order.flat().find(n=>n===r.id)&&s.removeButton(r.id)},this.on("panel/closed",i,t);break;case"ramp_panel_open_updates_appbar":i=r=>{const s=i1(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!r.teleport||r.teleport?.showAppbarButton)&&!s.order.flat().find(n=>n===r.id)&&s.addTempButton(r.id)},this.on("panel/opened",i,t);break;case"ramp_toggle_details":i=(r,s)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(r,s)},this.$iApi.event.on("details/toggle",i,t);break;case"ramp_toggle_grid":i=(r,s)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(r.id,s)},this.$iApi.event.on("grid/toggle",i,t);break;case"ramp_toggle_help":i=r=>{const s=this.$iApi.fixture.get("help");s&&s.toggleHelp(r)},this.$iApi.event.on("help/toggle",i,t);break;case"ramp_toggle_metadata":i=(r,s)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(r,s)},this.$iApi.event.on("metadata/toggle",i,t);break;case"ramp_toggle_reorder":i=r=>{const s=this.$iApi.fixture.get("layer-reorder");s&&s.toggleLayerReorder(r)},this.$iApi.event.on("reorder/toggle",i,t);break;case"ramp_toggle_settings":i=(r,s)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(r,s)},this.$iApi.event.on("settings/toggle",i,t);break;case"ramp_toggle_wizard":i=r=>{const s=this.$iApi.fixture.get("wizard");s&&s.toggleWizard(r)},this.$iApi.event.on("wizard/toggle",i,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const s1=typeof window<"u",Pl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Gie=(e,t,i)=>zie({l:e,k:t,s:i}),zie=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),xi=e=>typeof e=="number"&&isFinite(e),qie=e=>zk(e)==="[object Date]",xl=e=>zk(e)==="[object RegExp]",jv=e=>qe(e)&&Object.keys(e).length===0,ar=Object.assign,Wie=Object.create,Nt=(e=null)=>Wie(e);let zM;const ta=()=>zM||(zM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Nt());function qM(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Hie=Object.prototype.hasOwnProperty;function mn(e,t){return Hie.call(e,t)}const Zt=Array.isArray,Ut=e=>typeof e=="function",we=e=>typeof e=="string",it=e=>typeof e=="boolean",mt=e=>e!==null&&typeof e=="object",Yie=e=>mt(e)&&Ut(e.then)&&Ut(e.catch),Gk=Object.prototype.toString,zk=e=>Gk.call(e),qe=e=>{if(!mt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Jie=e=>e==null?"":Zt(e)||qe(e)&&e.toString===Gk?JSON.stringify(e,null,2):String(e);function Zie(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}function Vv(e){let t=e;return()=>++t}function Kie(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const k0=e=>!mt(e)||Zt(e);function Vy(e,t){if(k0(e)||k0(t))throw new Error("Invalid value");const i=[{src:e,des:t}];for(;i.length;){const{src:r,des:s}=i.pop();Object.keys(r).forEach(n=>{n!=="__proto__"&&(mt(r[n])&&!mt(s[n])&&(s[n]=Array.isArray(r[n])?[]:Nt()),k0(s[n])||k0(r[n])?s[n]=r[n]:i.push({src:r[n],des:s[n]}))})}}/*!
  * message-compiler v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Xie(e,t,i){return{line:e,column:t,offset:i}}function n1(e,t,i){return{start:e,end:t}}const Qie=/\{([0-9a-zA-Z]+)\}/g;function qk(e,...t){return t.length===1&&ere(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(Qie,(i,r)=>t.hasOwnProperty(r)?t[r]:"")}const Wk=Object.assign,WM=e=>typeof e=="string",ere=e=>e!==null&&typeof e=="object";function Hk(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}const g3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},tre={[g3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function ire(e,t,...i){const r=qk(tre[e],...i||[]),s={message:String(r),code:e};return t&&(s.location=t),s}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},rre={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Nf(e,t,i={}){const{domain:r,messages:s,args:n}=i,o=qk((s||rre)[e]||"",...n||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=r,a}function sre(e){throw e}const Lo=" ",nre="\r",$r=`
`,ore="\u2028",are="\u2029";function lre(e){const t=e;let i=0,r=1,s=1,n=0;const o=C=>t[C]===nre&&t[C+1]===$r,a=C=>t[C]===$r,l=C=>t[C]===are,c=C=>t[C]===ore,f=C=>o(C)||a(C)||l(C)||c(C),d=()=>i,p=()=>r,y=()=>s,v=()=>n,b=C=>o(C)||l(C)||c(C)?$r:t[C],E=()=>b(i),S=()=>b(i+n);function T(){return n=0,f(i)&&(r++,s=0),o(i)&&i++,i++,s++,t[i]}function w(){return o(i+n)&&n++,n++,t[i+n]}function _(){i=0,r=1,s=1,n=0}function M(C=0){n=C}function I(){const C=i+n;for(;C!==i;)T();n=0}return{index:d,line:p,column:y,peekOffset:v,charAt:b,currentChar:E,currentPeek:S,next:T,peek:w,reset:_,resetPeek:M,skipToPeek:I}}const Aa=void 0,cre=".",HM="'",ure="tokenizer";function hre(e,t={}){const i=t.location!==!1,r=lre(e),s=()=>r.index(),n=()=>Xie(r.line(),r.column(),r.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=t;function d(L,k,G,...ee){const se=c();if(k.column+=G,k.offset+=G,f){const ne=i?n1(se.startLoc,k):null,W=Nf(L,ne,{domain:ure,args:ee});f(W)}}function p(L,k,G){L.endLoc=n(),L.currentType=k;const ee={type:k};return i&&(ee.loc=n1(L.startLoc,L.endLoc)),G!=null&&(ee.value=G),ee}const y=L=>p(L,14);function v(L,k){return L.currentChar()===k?(L.next(),k):(d(Ue.EXPECTED_TOKEN,n(),0,k),"")}function b(L){let k="";for(;L.currentPeek()===Lo||L.currentPeek()===$r;)k+=L.currentPeek(),L.peek();return k}function E(L){const k=b(L);return L.skipToPeek(),k}function S(L){if(L===Aa)return!1;const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function T(L){if(L===Aa)return!1;const k=L.charCodeAt(0);return k>=48&&k<=57}function w(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const ee=S(L.currentPeek());return L.resetPeek(),ee}function _(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const ee=L.currentPeek()==="-"?L.peek():L.currentPeek(),se=T(ee);return L.resetPeek(),se}function M(L,k){const{currentType:G}=k;if(G!==2)return!1;b(L);const ee=L.currentPeek()===HM;return L.resetPeek(),ee}function I(L,k){const{currentType:G}=k;if(G!==8)return!1;b(L);const ee=L.currentPeek()===".";return L.resetPeek(),ee}function C(L,k){const{currentType:G}=k;if(G!==9)return!1;b(L);const ee=S(L.currentPeek());return L.resetPeek(),ee}function P(L,k){const{currentType:G}=k;if(!(G===8||G===12))return!1;b(L);const ee=L.currentPeek()===":";return L.resetPeek(),ee}function N(L,k){const{currentType:G}=k;if(G!==10)return!1;const ee=()=>{const ne=L.currentPeek();return ne==="{"?S(L.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Lo||!ne?!1:ne===$r?(L.peek(),ee()):F(L,!1)},se=ee();return L.resetPeek(),se}function U(L){b(L);const k=L.currentPeek()==="|";return L.resetPeek(),k}function j(L){const k=b(L),G=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:G,hasSpace:k.length>0}}function F(L,k=!0){const G=(se=!1,ne="",W=!1)=>{const Z=L.currentPeek();return Z==="{"?ne==="%"?!1:se:Z==="@"||!Z?ne==="%"?!0:se:Z==="%"?(L.peek(),G(se,"%",!0)):Z==="|"?ne==="%"||W?!0:!(ne===Lo||ne===$r):Z===Lo?(L.peek(),G(!0,Lo,W)):Z===$r?(L.peek(),G(!0,$r,W)):!0},ee=G();return k&&L.resetPeek(),ee}function q(L,k){const G=L.currentChar();return G===Aa?Aa:k(G)?(L.next(),G):null}function te(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function h(L){return q(L,te)}function m(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function x(L){return q(L,m)}function $(L){const k=L.charCodeAt(0);return k>=48&&k<=57}function B(L){return q(L,$)}function Y(L){const k=L.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function pe(L){return q(L,Y)}function le(L){let k="",G="";for(;k=B(L);)G+=k;return G}function Me(L){E(L);const k=L.currentChar();return k!=="%"&&d(Ue.EXPECTED_TOKEN,n(),0,k),L.next(),"%"}function je(L){let k="";for(;;){const G=L.currentChar();if(G==="{"||G==="}"||G==="@"||G==="|"||!G)break;if(G==="%")if(F(L))k+=G,L.next();else break;else if(G===Lo||G===$r)if(F(L))k+=G,L.next();else{if(U(L))break;k+=G,L.next()}else k+=G,L.next()}return k}function ze(L){E(L);let k="",G="";for(;k=x(L);)G+=k;return L.currentChar()===Aa&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G}function at(L){E(L);let k="";return L.currentChar()==="-"?(L.next(),k+=`-${le(L)}`):k+=le(L),L.currentChar()===Aa&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k}function Gt(L){return L!==HM&&L!==$r}function Tt(L){E(L),v(L,"'");let k="",G="";for(;k=q(L,Gt);)k==="\\"?G+=mi(L):G+=k;const ee=L.currentChar();return ee===$r||ee===Aa?(d(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),ee===$r&&(L.next(),v(L,"'")),G):(v(L,"'"),G)}function mi(L){const k=L.currentChar();switch(k){case"\\":case"'":return L.next(),`\\${k}`;case"u":return Rt(L,k,4);case"U":return Rt(L,k,6);default:return d(Ue.UNKNOWN_ESCAPE_SEQUENCE,n(),0,k),""}}function Rt(L,k,G){v(L,k);let ee="";for(let se=0;se<G;se++){const ne=pe(L);if(!ne){d(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${k}${ee}${L.currentChar()}`);break}ee+=ne}return`\\${k}${ee}`}function ri(L){return L!=="{"&&L!=="}"&&L!==Lo&&L!==$r}function Ji(L){E(L);let k="",G="";for(;k=q(L,ri);)G+=k;return G}function V(L){let k="",G="";for(;k=h(L);)G+=k;return G}function D(L){const k=G=>{const ee=L.currentChar();return ee==="{"||ee==="%"||ee==="@"||ee==="|"||ee==="("||ee===")"||!ee||ee===Lo?G:(G+=ee,L.next(),k(G))};return k("")}function H(L){E(L);const k=v(L,"|");return E(L),k}function oe(L,k){let G=null;switch(L.currentChar()){case"{":return k.braceNest>=1&&d(Ue.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),L.next(),G=p(k,2,"{"),E(L),k.braceNest++,G;case"}":return k.braceNest>0&&k.currentType===2&&d(Ue.EMPTY_PLACEHOLDER,n(),0),L.next(),G=p(k,3,"}"),k.braceNest--,k.braceNest>0&&E(L),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),G;case"@":return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=Q(L,k)||y(k),k.braceNest=0,G;default:{let se=!0,ne=!0,W=!0;if(U(L))return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,G;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k.braceNest=0,ce(L,k);if(se=w(L,k))return G=p(k,5,ze(L)),E(L),G;if(ne=_(L,k))return G=p(k,6,at(L)),E(L),G;if(W=M(L,k))return G=p(k,7,Tt(L)),E(L),G;if(!se&&!ne&&!W)return G=p(k,13,Ji(L)),d(Ue.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,G.value),E(L),G;break}}return G}function Q(L,k){const{currentType:G}=k;let ee=null;const se=L.currentChar();switch((G===8||G===9||G===12||G===10)&&(se===$r||se===Lo)&&d(Ue.INVALID_LINKED_FORMAT,n(),0),se){case"@":return L.next(),ee=p(k,8,"@"),k.inLinked=!0,ee;case".":return E(L),L.next(),p(k,9,".");case":":return E(L),L.next(),p(k,10,":");default:return U(L)?(ee=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,ee):I(L,k)||P(L,k)?(E(L),Q(L,k)):C(L,k)?(E(L),p(k,12,V(L))):N(L,k)?(E(L),se==="{"?oe(L,k)||ee:p(k,11,D(L))):(G===8&&d(Ue.INVALID_LINKED_FORMAT,n(),0),k.braceNest=0,k.inLinked=!1,ce(L,k))}}function ce(L,k){let G={type:14};if(k.braceNest>0)return oe(L,k)||y(k);if(k.inLinked)return Q(L,k)||y(k);switch(L.currentChar()){case"{":return oe(L,k)||y(k);case"}":return d(Ue.UNBALANCED_CLOSING_BRACE,n(),0),L.next(),p(k,3,"}");case"@":return Q(L,k)||y(k);default:{if(U(L))return G=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,G;const{isModulo:se,hasSpace:ne}=j(L);if(se)return ne?p(k,0,je(L)):p(k,4,Me(L));if(F(L))return p(k,0,je(L));break}}return G}function ye(){const{currentType:L,offset:k,startLoc:G,endLoc:ee}=l;return l.lastType=L,l.lastOffset=k,l.lastStartLoc=G,l.lastEndLoc=ee,l.offset=s(),l.startLoc=n(),r.currentChar()===Aa?p(l,14):ce(r,l)}return{nextToken:ye,currentOffset:s,currentPosition:n,context:c}}const fre="parser",dre=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function pre(e,t,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||i,16);return r<=55295||r>=57344?String.fromCodePoint(r):"ï¿½"}}}function mre(e={}){const t=e.location!==!1,{onError:i,onWarn:r}=e;function s(w,_,M,I,...C){const P=w.currentPosition();if(P.offset+=I,P.column+=I,i){const N=t?n1(M,P):null,U=Nf(_,N,{domain:fre,args:C});i(U)}}function n(w,_,M,I,...C){const P=w.currentPosition();if(P.offset+=I,P.column+=I,r){const N=t?n1(M,P):null;r(ire(_,N,C))}}function o(w,_,M){const I={type:w};return t&&(I.start=_,I.end=_,I.loc={start:M,end:M}),I}function a(w,_,M,I){t&&(w.end=_,w.loc&&(w.loc.end=M))}function l(w,_){const M=w.context(),I=o(3,M.offset,M.startLoc);return I.value=_,a(I,w.currentOffset(),w.currentPosition()),I}function c(w,_){const M=w.context(),{lastOffset:I,lastStartLoc:C}=M,P=o(5,I,C);return P.index=parseInt(_,10),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function f(w,_,M){const I=w.context(),{lastOffset:C,lastStartLoc:P}=I,N=o(4,C,P);return N.key=_,M===!0&&(N.modulo=!0),w.nextToken(),a(N,w.currentOffset(),w.currentPosition()),N}function d(w,_){const M=w.context(),{lastOffset:I,lastStartLoc:C}=M,P=o(9,I,C);return P.value=_.replace(dre,pre),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function p(w){const _=w.nextToken(),M=w.context(),{lastOffset:I,lastStartLoc:C}=M,P=o(8,I,C);return _.type!==12?(s(w,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),P.value="",a(P,I,C),{nextConsumeToken:_,node:P}):(_.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,tn(_)),P.value=_.value||"",a(P,w.currentOffset(),w.currentPosition()),{node:P})}function y(w,_){const M=w.context(),I=o(7,M.offset,M.startLoc);return I.value=_,a(I,w.currentOffset(),w.currentPosition()),I}function v(w){const _=w.context(),M=o(6,_.offset,_.startLoc);let I=w.nextToken();if(I.type===9){const C=p(w);M.modifier=C.node,I=C.nextConsumeToken||w.nextToken()}switch(I.type!==10&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(I)),I=w.nextToken(),I.type===2&&(I=w.nextToken()),I.type){case 11:I.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(I)),M.key=y(w,I.value||"");break;case 5:I.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(I)),M.key=f(w,I.value||"");break;case 6:I.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(I)),M.key=c(w,I.value||"");break;case 7:I.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(I)),M.key=d(w,I.value||"");break;default:{s(w,Ue.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const C=w.context(),P=o(7,C.offset,C.startLoc);return P.value="",a(P,C.offset,C.startLoc),M.key=P,a(M,C.offset,C.startLoc),{nextConsumeToken:I,node:M}}}return a(M,w.currentOffset(),w.currentPosition()),{node:M}}function b(w){const _=w.context(),M=_.currentType===1?w.currentOffset():_.offset,I=_.currentType===1?_.endLoc:_.startLoc,C=o(2,M,I);C.items=[];let P=null,N=null;do{const F=P||w.nextToken();switch(P=null,F.type){case 0:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(F)),C.items.push(l(w,F.value||""));break;case 6:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(F)),C.items.push(c(w,F.value||""));break;case 4:N=!0;break;case 5:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(F)),C.items.push(f(w,F.value||"",!!N)),N&&(n(w,g3.USE_MODULO_SYNTAX,_.lastStartLoc,0,tn(F)),N=null);break;case 7:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,tn(F)),C.items.push(d(w,F.value||""));break;case 8:{const q=v(w);C.items.push(q.node),P=q.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const U=_.currentType===1?_.lastOffset:w.currentOffset(),j=_.currentType===1?_.lastEndLoc:w.currentPosition();return a(C,U,j),C}function E(w,_,M,I){const C=w.context();let P=I.items.length===0;const N=o(1,_,M);N.cases=[],N.cases.push(I);do{const U=b(w);P||(P=U.items.length===0),N.cases.push(U)}while(C.currentType!==14);return P&&s(w,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(N,w.currentOffset(),w.currentPosition()),N}function S(w){const _=w.context(),{offset:M,startLoc:I}=_,C=b(w);return _.currentType===14?C:E(w,M,I,C)}function T(w){const _=hre(w,Wk({},e)),M=_.context(),I=o(0,M.offset,M.startLoc);return t&&I.loc&&(I.loc.source=w),I.body=S(_),e.onCacheKey&&(I.cacheKey=e.onCacheKey(w)),M.currentType!==14&&s(_,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,w[M.offset]||""),a(I,_.currentOffset(),_.currentPosition()),I}return{parse:T}}function tn(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"â€¦":t}function yre(e,t={}){const i={ast:e,helpers:new Set};return{context:()=>i,helper:n=>(i.helpers.add(n),n)}}function YM(e,t){for(let i=0;i<e.length;i++)v3(e[i],t)}function v3(e,t){switch(e.type){case 1:YM(e.cases,t),t.helper("plural");break;case 2:YM(e.items,t);break;case 6:{v3(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function gre(e,t={}){const i=yre(e);i.helper("normalize"),e.body&&v3(e.body,i);const r=i.context();e.helpers=Array.from(r.helpers)}function vre(e){const t=e.body;return t.type===2?JM(t):t.cases.forEach(i=>JM(i)),e}function JM(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let i=0;i<e.items.length;i++){const r=e.items[i];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=Hk(t);for(let i=0;i<e.items.length;i++){const r=e.items[i];(r.type===3||r.type===9)&&delete r.value}}}}const bre="minifier";function qu(e){switch(e.t=e.type,e.type){case 0:{const t=e;qu(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,i=t.cases;for(let r=0;r<i.length;r++)qu(i[r]);t.c=i,delete t.cases;break}case 2:{const t=e,i=t.items;for(let r=0;r<i.length;r++)qu(i[r]);t.i=i,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;qu(t.key),t.k=t.key,delete t.key,t.modifier&&(qu(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Nf(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:bre,args:[e.type]})}delete e.type}const _re="parser";function wre(e,t){const{sourceMap:i,filename:r,breakLineCode:s,needIndent:n}=t,o=t.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:n,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(E,S){a.code+=E}function f(E,S=!0){const T=S?s:"";c(n?T+"  ".repeat(E):T)}function d(E=!0){const S=++a.indentLevel;E&&f(S)}function p(E=!0){const S=--a.indentLevel;E&&f(S)}function y(){f(a.indentLevel)}return{context:l,push:c,indent:d,deindent:p,newline:y,helper:E=>`_${E}`,needIndent:()=>a.needIndent}}function xre(e,t){const{helper:i}=e;e.push(`${i("linked")}(`),Zh(e,t.key),t.modifier?(e.push(", "),Zh(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Sre(e,t){const{helper:i,needIndent:r}=e;e.push(`${i("normalize")}([`),e.indent(r());const s=t.items.length;for(let n=0;n<s&&(Zh(e,t.items[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}function Ere(e,t){const{helper:i,needIndent:r}=e;if(t.cases.length>1){e.push(`${i("plural")}([`),e.indent(r());const s=t.cases.length;for(let n=0;n<s&&(Zh(e,t.cases[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}function Are(e,t){t.body?Zh(e,t.body):e.push("null")}function Zh(e,t){const{helper:i}=e;switch(t.type){case 0:Are(e,t);break;case 1:Ere(e,t);break;case 2:Sre(e,t);break;case 6:xre(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${t.index}))`,t);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Nf(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:_re,args:[t.type]})}}const Tre=(e,t={})=>{const i=WM(t.mode)?t.mode:"normal",r=WM(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,n=t.breakLineCode!=null?t.breakLineCode:i==="arrow"?";":`
`,o=t.needIndent?t.needIndent:i!=="arrow",a=e.helpers||[],l=wre(e,{mode:i,filename:r,sourceMap:s,breakLineCode:n,needIndent:o});l.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${Hk(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),Zh(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:f}=l.context();return{ast:e,code:c,map:f?f.toJSON():void 0}};function Mre(e,t={}){const i=Wk({},t),r=!!i.jit,s=!!i.minify,n=i.optimize==null?!0:i.optimize,a=mre(i).parse(e);return r?(n&&vre(a),s&&qu(a),{ast:a,code:""}):(gre(a,i),Tre(a,i))}/*!
  * core-base v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Ire(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ta().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ta().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ta().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Ll=[];Ll[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ll[1]={w:[1],".":[2],"[":[4],o:[7]};Ll[2]={w:[2],i:[3,0],0:[3,0]};Ll[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ll[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ll[5]={"'":[4,0],o:8,l:[5,0]};Ll[6]={'"':[4,0],o:8,l:[6,0]};const Ore=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function $re(e){return Ore.test(e)}function Cre(e){const t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function Nre(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Pre(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:$re(t)?Cre(t):"*"+t}function Lre(e){const t=[];let i=-1,r=0,s=0,n,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),s++},p[3]=()=>{if(s>0)s--,r=4,p[0]();else{if(s=0,o===void 0||(o=Pre(o),o===!1))return!1;p[1]()}};function y(){const v=e[i+1];if(r===5&&v==="'"||r===6&&v==='"')return i++,a="\\"+v,p[0](),!0}for(;r!==null;)if(i++,n=e[i],!(n==="\\"&&y())){if(l=Nre(n),d=Ll[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=n,f()===!1))))return;if(r===7)return t}}const ZM=new Map;function kre(e,t){return mt(e)?e[t]:null}function Rre(e,t){if(!mt(e))return null;let i=ZM.get(t);if(i||(i=Lre(t),i&&ZM.set(t,i)),!i)return null;const r=i.length;let s=e,n=0;for(;n<r;){const o=s[i[n]];if(o===void 0||Ut(s))return null;s=o,n++}return s}const Dre=e=>e,Fre=e=>"",Ure="text",jre=e=>e.length===0?"":Zie(e),Vre=Jie;function KM(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Bre(e){const t=xi(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(xi(e.named.count)||xi(e.named.n))?xi(e.named.count)?e.named.count:xi(e.named.n)?e.named.n:t:t}function Gre(e,t){t.count||(t.count=e),t.n||(t.n=e)}function zre(e={}){const t=e.locale,i=Bre(e),r=mt(e.pluralRules)&&we(t)&&Ut(e.pluralRules[t])?e.pluralRules[t]:KM,s=mt(e.pluralRules)&&we(t)&&Ut(e.pluralRules[t])?KM:void 0,n=S=>S[r(i,S.length,s)],o=e.list||[],a=S=>o[S],l=e.named||Nt();xi(e.pluralIndex)&&Gre(i,l);const c=S=>l[S];function f(S){const T=Ut(e.messages)?e.messages(S):mt(e.messages)?e.messages[S]:!1;return T||(e.parent?e.parent.message(S):Fre)}const d=S=>e.modifiers?e.modifiers[S]:Dre,p=qe(e.processor)&&Ut(e.processor.normalize)?e.processor.normalize:jre,y=qe(e.processor)&&Ut(e.processor.interpolate)?e.processor.interpolate:Vre,v=qe(e.processor)&&we(e.processor.type)?e.processor.type:Ure,E={list:a,named:c,plural:n,linked:(S,...T)=>{const[w,_]=T;let M="text",I="";T.length===1?mt(w)?(I=w.modifier||I,M=w.type||M):we(w)&&(I=w||I):T.length===2&&(we(w)&&(I=w||I),we(_)&&(M=_||M));const C=f(S)(E),P=M==="vnode"&&Zt(C)&&I?C[0]:C;return I?d(I)(P,M):P},message:f,type:v,interpolate:y,normalize:p,values:ar(Nt(),o,l)};return E}let Qp=null;function qre(e){Qp=e}function Wre(e,t,i){Qp&&Qp.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:i})}const Hre=Yre("function:translate");function Yre(e){return t=>Qp&&Qp.emit(e,t)}const Yk=g3.__EXTEND_POINT__,Hl=Vv(Yk),Jre={NOT_FOUND_KEY:Yk,FALLBACK_TO_TRANSLATE:Hl(),CANNOT_FORMAT_NUMBER:Hl(),FALLBACK_TO_NUMBER_FORMAT:Hl(),CANNOT_FORMAT_DATE:Hl(),FALLBACK_TO_DATE_FORMAT:Hl(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Hl(),__EXTEND_POINT__:Hl()},Jk=Ue.__EXTEND_POINT__,Yl=Vv(Jk),yn={INVALID_ARGUMENT:Jk,INVALID_DATE_ARGUMENT:Yl(),INVALID_ISO_DATE_ARGUMENT:Yl(),NOT_SUPPORT_NON_STRING_MESSAGE:Yl(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Yl(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Yl(),NOT_SUPPORT_LOCALE_TYPE:Yl(),__EXTEND_POINT__:Yl()};function oo(e){return Nf(e,null,void 0)}function b3(e,t){return t.locale!=null?XM(t.locale):XM(e.locale)}let s_;function XM(e){if(we(e))return e;if(Ut(e)){if(e.resolvedOnce&&s_!=null)return s_;if(e.constructor.name==="Function"){const t=e();if(Yie(t))throw oo(yn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return s_=t}else throw oo(yn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw oo(yn.NOT_SUPPORT_LOCALE_TYPE)}function Zre(e,t,i){return[...new Set([i,...Zt(t)?t:mt(t)?Object.keys(t):we(t)?[t]:[i]])]}function Zk(e,t,i){const r=we(i)?i:Kh,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(r);if(!n){n=[];let o=[i];for(;Zt(o);)o=QM(n,o,t);const a=Zt(t)||!qe(t)?t:t.default?t.default:null;o=we(a)?[a]:a,Zt(o)&&QM(n,o,!1),s.__localeChainCache.set(r,n)}return n}function QM(e,t,i){let r=!0;for(let s=0;s<t.length&&it(r);s++){const n=t[s];we(n)&&(r=Kre(e,t[s],i))}return r}function Kre(e,t,i){let r;const s=t.split("-");do{const n=s.join("-");r=Xre(e,n,i),s.splice(-1,1)}while(s.length&&r===!0);return r}function Xre(e,t,i){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Zt(i)||qe(i))&&i[s]&&(r=i[s])}return r}const Qre="9.14.3",Bv=-1,Kh="en-US",eI="",tI=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function ese(){return{upper:(e,t)=>t==="text"&&we(e)?e.toUpperCase():t==="vnode"&&mt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&we(e)?e.toLowerCase():t==="vnode"&&mt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&we(e)?tI(e):t==="vnode"&&mt(e)&&"__v_isVNode"in e?tI(e.children):e}}let Kk;function iI(e){Kk=e}let Xk;function tse(e){Xk=e}let Qk;function ise(e){Qk=e}let eR=null;const rse=e=>{eR=e},sse=()=>eR;let tR=null;const rI=e=>{tR=e},nse=()=>tR;let sI=0;function ose(e={}){const t=Ut(e.onWarn)?e.onWarn:Kie,i=we(e.version)?e.version:Qre,r=we(e.locale)||Ut(e.locale)?e.locale:Kh,s=Ut(r)?Kh:r,n=Zt(e.fallbackLocale)||qe(e.fallbackLocale)||we(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=qe(e.messages)?e.messages:n_(s),a=qe(e.datetimeFormats)?e.datetimeFormats:n_(s),l=qe(e.numberFormats)?e.numberFormats:n_(s),c=ar(Nt(),e.modifiers,ese()),f=e.pluralRules||Nt(),d=Ut(e.missing)?e.missing:null,p=it(e.missingWarn)||xl(e.missingWarn)?e.missingWarn:!0,y=it(e.fallbackWarn)||xl(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,b=!!e.unresolving,E=Ut(e.postTranslation)?e.postTranslation:null,S=qe(e.processor)?e.processor:null,T=it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,w=!!e.escapeParameter,_=Ut(e.messageCompiler)?e.messageCompiler:Kk,M=Ut(e.messageResolver)?e.messageResolver:Xk||kre,I=Ut(e.localeFallbacker)?e.localeFallbacker:Qk||Zre,C=mt(e.fallbackContext)?e.fallbackContext:void 0,P=e,N=mt(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,U=mt(P.__numberFormatters)?P.__numberFormatters:new Map,j=mt(P.__meta)?P.__meta:{};sI++;const F={version:i,cid:sI,locale:r,fallbackLocale:n,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:b,postTranslation:E,processor:S,warnHtmlMessage:T,escapeParameter:w,messageCompiler:_,messageResolver:M,localeFallbacker:I,fallbackContext:C,onWarn:t,__meta:j};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=N,F.__numberFormatters=U,__INTLIFY_PROD_DEVTOOLS__&&Wre(F,i,j),F}const n_=e=>({[e]:Nt()});function _3(e,t,i,r,s){const{missing:n,onWarn:o}=e;if(n!==null){const a=n(e,i,t,s);return we(a)?a:t}else return t}function Yf(e,t,i){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,i,t)}function ase(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function lse(e,t){const i=t.indexOf(e);if(i===-1)return!1;for(let r=i+1;r<t.length;r++)if(ase(e,t[r]))return!0;return!1}function o_(e){return i=>cse(i,e)}function cse(e,t){const i=hse(t);if(i==null)throw em(0);if(w3(i)===1){const n=dse(i);return e.plural(n.reduce((o,a)=>[...o,nI(e,a)],[]))}else return nI(e,i)}const use=["b","body"];function hse(e){return kl(e,use)}const fse=["c","cases"];function dse(e){return kl(e,fse,[])}function nI(e,t){const i=mse(t);if(i!=null)return e.type==="text"?i:e.normalize([i]);{const r=gse(t).reduce((s,n)=>[...s,cx(e,n)],[]);return e.normalize(r)}}const pse=["s","static"];function mse(e){return kl(e,pse)}const yse=["i","items"];function gse(e){return kl(e,yse,[])}function cx(e,t){const i=w3(t);switch(i){case 3:return R0(t,i);case 9:return R0(t,i);case 4:{const r=t;if(mn(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(mn(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw em(i)}case 5:{const r=t;if(mn(r,"i")&&xi(r.i))return e.interpolate(e.list(r.i));if(mn(r,"index")&&xi(r.index))return e.interpolate(e.list(r.index));throw em(i)}case 6:{const r=t,s=wse(r),n=Sse(r);return e.linked(cx(e,n),s?cx(e,s):void 0,e.type)}case 7:return R0(t,i);case 8:return R0(t,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const vse=["t","type"];function w3(e){return kl(e,vse)}const bse=["v","value"];function R0(e,t){const i=kl(e,bse);if(i)return i;throw em(t)}const _se=["m","modifier"];function wse(e){return kl(e,_se)}const xse=["k","key"];function Sse(e){const t=kl(e,xse);if(t)return t;throw em(6)}function kl(e,t,i){for(let r=0;r<t.length;r++){const s=t[r];if(mn(e,s)&&e[s]!=null)return e[s]}return i}function em(e){return new Error(`unhandled node type: ${e}`)}const iR=e=>e;let sh=Nt();function Xh(e){return mt(e)&&w3(e)===0&&(mn(e,"b")||mn(e,"body"))}function rR(e,t={}){let i=!1;const r=t.onError||sre;return t.onError=s=>{i=!0,r(s)},{...Mre(e,t),detectError:i}}const Ese=(e,t)=>{if(!we(e))throw oo(yn.NOT_SUPPORT_NON_STRING_MESSAGE);{it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||iR)(e),s=sh[r];if(s)return s;const{code:n,detectError:o}=rR(e,t),a=new Function(`return ${n}`)();return o?a:sh[r]=a}};function Ase(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&we(e)){it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||iR)(e),s=sh[r];if(s)return s;const{ast:n,detectError:o}=rR(e,{...t,location:!1,jit:!0}),a=o_(n);return o?a:sh[r]=a}else{const i=e.cacheKey;if(i){const r=sh[i];return r||(sh[i]=o_(e))}else return o_(e)}}const oI=()=>"",Fs=e=>Ut(e);function aI(e,...t){const{fallbackFormat:i,postTranslation:r,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=e,[l,c]=ux(...t),f=it(c.missingWarn)?c.missingWarn:e.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,v=we(c.default)||it(c.default)?it(c.default)?n?l:()=>l:c.default:i?n?l:()=>l:"",b=i||v!=="",E=b3(e,c);p&&Tse(c);let[S,T,w]=y?[l,E,a[E]||Nt()]:sR(e,l,E,o,d,f),_=S,M=l;if(!y&&!(we(_)||Xh(_)||Fs(_))&&b&&(_=v,M=_),!y&&(!(we(_)||Xh(_)||Fs(_))||!we(T)))return s?Bv:l;let I=!1;const C=()=>{I=!0},P=Fs(_)?_:nR(e,l,T,_,M,C);if(I)return _;const N=Ose(e,T,w,c),U=zre(N),j=Mse(e,P,U),F=r?r(j,l):j;if(__INTLIFY_PROD_DEVTOOLS__){const q={timestamp:Date.now(),key:we(l)?l:Fs(_)?_.key:"",locale:T||(Fs(_)?_.locale:""),format:we(_)?_:Fs(_)?_.source:"",message:F};q.meta=ar({},e.__meta,sse()||{}),Hre(q)}return F}function Tse(e){Zt(e.list)?e.list=e.list.map(t=>we(t)?qM(t):t):mt(e.named)&&Object.keys(e.named).forEach(t=>{we(e.named[t])&&(e.named[t]=qM(e.named[t]))})}function sR(e,t,i,r,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,f=c(e,r,i);let d=Nt(),p,y=null;const v="translate";for(let b=0;b<f.length&&(p=f[b],d=o[p]||Nt(),(y=l(d,t))===null&&(y=d[t]),!(we(y)||Xh(y)||Fs(y)));b++)if(!lse(p,f)){const E=_3(e,t,p,n,v);E!==t&&(y=E)}return[y,p,d]}function nR(e,t,i,r,s,n){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Fs(r)){const c=r;return c.locale=c.locale||i,c.key=c.key||t,c}if(o==null){const c=()=>r;return c.locale=i,c.key=t,c}const l=o(r,Ise(e,i,s,r,a,n));return l.locale=i,l.key=t,l.source=r,l}function Mse(e,t,i){return t(i)}function ux(...e){const[t,i,r]=e,s=Nt();if(!we(t)&&!xi(t)&&!Fs(t)&&!Xh(t))throw oo(yn.INVALID_ARGUMENT);const n=xi(t)?String(t):(Fs(t),t);return xi(i)?s.plural=i:we(i)?s.default=i:qe(i)&&!jv(i)?s.named=i:Zt(i)&&(s.list=i),xi(r)?s.plural=r:we(r)?s.default=r:qe(r)&&ar(s,r),[n,s]}function Ise(e,t,i,r,s,n){return{locale:t,key:i,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>Gie(t,i,o)}}function Ose(e,t,i,r){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=e,p={locale:t,modifiers:s,pluralRules:n,messages:y=>{let v=o(i,y);if(v==null&&f){const[,,b]=sR(f,y,t,a,l,c);v=o(b,y)}if(we(v)||Xh(v)){let b=!1;const S=nR(e,y,t,v,y,()=>{b=!0});return b?oI:S}else return Fs(v)?v:oI}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),xi(r.plural)&&(p.pluralIndex=r.plural),p}function lI(e,...t){const{datetimeFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,f,d]=hx(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=b3(e,f),b=o(e,s,v);if(!we(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let E={},S,T=null;const w="datetime format";for(let I=0;I<b.length&&(S=b[I],E=i[S]||{},T=E[l],!qe(T));I++)_3(e,l,S,p,w);if(!qe(T)||!we(S))return r?Bv:l;let _=`${S}__${l}`;jv(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.DateTimeFormat(S,ar({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const oR=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function hx(...e){const[t,i,r,s]=e,n=Nt();let o=Nt(),a;if(we(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw oo(yn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw oo(yn.INVALID_ISO_DATE_ARGUMENT)}}else if(qie(t)){if(isNaN(t.getTime()))throw oo(yn.INVALID_DATE_ARGUMENT);a=t}else if(xi(t))a=t;else throw oo(yn.INVALID_ARGUMENT);return we(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{oR.includes(l)?o[l]=i[l]:n[l]=i[l]}),we(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function cI(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__datetimeFormatters.has(n)&&r.__datetimeFormatters.delete(n)}}function uI(e,...t){const{numberFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,f,d]=fx(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=b3(e,f),b=o(e,s,v);if(!we(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let E={},S,T=null;const w="number format";for(let I=0;I<b.length&&(S=b[I],E=i[S]||{},T=E[l],!qe(T));I++)_3(e,l,S,p,w);if(!qe(T)||!we(S))return r?Bv:l;let _=`${S}__${l}`;jv(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.NumberFormat(S,ar({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const aR=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function fx(...e){const[t,i,r,s]=e,n=Nt();let o=Nt();if(!xi(t))throw oo(yn.INVALID_ARGUMENT);const a=t;return we(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{aR.includes(l)?o[l]=i[l]:n[l]=i[l]}),we(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function hI(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__numberFormatters.has(n)&&r.__numberFormatters.delete(n)}}Ire();/*!
  * vue-i18n v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const $se="9.14.3";function Cse(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ta().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ta().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ta().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ta().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ta().__INTLIFY_PROD_DEVTOOLS__=!1)}const lR=Jre.__EXTEND_POINT__,ko=Vv(lR);ko(),ko(),ko(),ko(),ko(),ko(),ko(),ko(),ko();const cR=yn.__EXTEND_POINT__,Br=Vv(cR),Hi={UNEXPECTED_RETURN_TYPE:cR,INVALID_ARGUMENT:Br(),MUST_BE_CALL_SETUP_TOP:Br(),NOT_INSTALLED:Br(),NOT_AVAILABLE_IN_LEGACY_MODE:Br(),REQUIRED_VALUE:Br(),INVALID_VALUE:Br(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Br(),NOT_INSTALLED_WITH_PROVIDE:Br(),UNEXPECTED_ERROR:Br(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Br(),BRIDGE_SUPPORT_VUE_2_ONLY:Br(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Br(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Br(),__EXTEND_POINT__:Br()};function er(e,...t){return Nf(e,null,void 0)}const dx=Pl("__translateVNode"),px=Pl("__datetimeParts"),mx=Pl("__numberParts"),uR=Pl("__setPluralRules"),hR=Pl("__injectWithOption"),yx=Pl("__dispose");function tm(e){if(!mt(e))return e;for(const t in e)if(mn(e,t))if(!t.includes("."))mt(e[t])&&tm(e[t]);else{const i=t.split("."),r=i.length-1;let s=e,n=!1;for(let o=0;o<r;o++){if(i[o]==="__proto__")throw new Error(`unsafe key: ${i[o]}`);if(i[o]in s||(s[i[o]]=Nt()),!mt(s[i[o]])){n=!0;break}s=s[i[o]]}n||(s[i[r]]=e[t],delete e[t]),mt(s[i[r]])&&tm(s[i[r]])}return e}function Gv(e,t){const{messages:i,__i18n:r,messageResolver:s,flatJson:n}=t,o=qe(i)?i:Zt(r)?Nt():{[e]:Nt()};if(Zt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Nt(),Vy(c,o[l])):Vy(c,o)}else we(a)&&Vy(JSON.parse(a),o)}),s==null&&n)for(const a in o)mn(o,a)&&tm(o[a]);return o}function fR(e){return e.type}function dR(e,t,i){let r=mt(t.messages)?t.messages:Nt();"__i18nGlobal"in i&&(r=Gv(e.locale.value,{messages:r,__i18n:i.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(n=>{e.mergeLocaleMessage(n,r[n])});{if(mt(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(mt(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function fI(e){return Ke(ho,null,e,0)}const dI="__INTLIFY_META__",pI=()=>[],Nse=()=>!1;let mI=0;function yI(e){return(t,i,r,s)=>e(i,r,ki()||void 0,s)}const Pse=()=>{const e=ki();let t=null;return e&&(t=fR(e)[dI])?{[dI]:t}:null};function x3(e={},t){const{__root:i,__injectWithOption:r}=e,s=i===void 0,n=e.flatJson,o=s1?X:$f,a=!!e.translateExistCompatible;let l=it(e.inheritLocale)?e.inheritLocale:!0;const c=o(i&&l?i.locale.value:we(e.locale)?e.locale:Kh),f=o(i&&l?i.fallbackLocale.value:we(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Gv(c.value,e)),p=o(qe(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(qe(e.numberFormats)?e.numberFormats:{[c.value]:{}});let v=i?i.missingWarn:it(e.missingWarn)||xl(e.missingWarn)?e.missingWarn:!0,b=i?i.fallbackWarn:it(e.fallbackWarn)||xl(e.fallbackWarn)?e.fallbackWarn:!0,E=i?i.fallbackRoot:it(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,T=Ut(e.missing)?e.missing:null,w=Ut(e.missing)?yI(e.missing):null,_=Ut(e.postTranslation)?e.postTranslation:null,M=i?i.warnHtmlMessage:it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter;const C=i?i.modifiers:qe(e.modifiers)?e.modifiers:{};let P=e.pluralRules||i&&i.pluralRules,N;N=(()=>{s&&rI(null);const W={version:$se,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:C,pluralRules:P,missing:w===null?void 0:w,missingWarn:v,fallbackWarn:b,fallbackFormat:S,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:M,escapeParameter:I,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};W.datetimeFormats=p.value,W.numberFormats=y.value,W.__datetimeFormatters=qe(N)?N.__datetimeFormatters:void 0,W.__numberFormatters=qe(N)?N.__numberFormatters:void 0;const Z=ose(W);return s&&rI(Z),Z})(),Yf(N,c.value,f.value);function j(){return[c.value,f.value,d.value,p.value,y.value]}const F=tt({get:()=>c.value,set:W=>{c.value=W,N.locale=c.value}}),q=tt({get:()=>f.value,set:W=>{f.value=W,N.fallbackLocale=f.value,Yf(N,c.value,W)}}),te=tt(()=>d.value),h=tt(()=>p.value),m=tt(()=>y.value);function x(){return Ut(_)?_:null}function $(W){_=W,N.postTranslation=W}function B(){return T}function Y(W){W!==null&&(w=yI(W)),T=W,N.missing=w}const pe=(W,Z,Ae,ke,Dt,zt)=>{j();let ai;try{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=i?nse():void 0),ai=W(N)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=void 0)}if(Ae!=="translate exists"&&xi(ai)&&ai===Bv||Ae==="translate exists"&&!ai){const[Ri,K]=Z();return i&&E?ke(i):Dt(Ri)}else{if(zt(ai))return ai;throw er(Hi.UNEXPECTED_RETURN_TYPE)}};function le(...W){return pe(Z=>Reflect.apply(aI,null,[Z,...W]),()=>ux(...W),"translate",Z=>Reflect.apply(Z.t,Z,[...W]),Z=>Z,Z=>we(Z))}function Me(...W){const[Z,Ae,ke]=W;if(ke&&!mt(ke))throw er(Hi.INVALID_ARGUMENT);return le(Z,Ae,ar({resolvedMessage:!0},ke||{}))}function je(...W){return pe(Z=>Reflect.apply(lI,null,[Z,...W]),()=>hx(...W),"datetime format",Z=>Reflect.apply(Z.d,Z,[...W]),()=>eI,Z=>we(Z))}function ze(...W){return pe(Z=>Reflect.apply(uI,null,[Z,...W]),()=>fx(...W),"number format",Z=>Reflect.apply(Z.n,Z,[...W]),()=>eI,Z=>we(Z))}function at(W){return W.map(Z=>we(Z)||xi(Z)||it(Z)?fI(String(Z)):Z)}const Tt={normalize:at,interpolate:W=>W,type:"vnode"};function mi(...W){return pe(Z=>{let Ae;const ke=Z;try{ke.processor=Tt,Ae=Reflect.apply(aI,null,[ke,...W])}finally{ke.processor=null}return Ae},()=>ux(...W),"translate",Z=>Z[dx](...W),Z=>[fI(Z)],Z=>Zt(Z))}function Rt(...W){return pe(Z=>Reflect.apply(uI,null,[Z,...W]),()=>fx(...W),"number format",Z=>Z[mx](...W),pI,Z=>we(Z)||Zt(Z))}function ri(...W){return pe(Z=>Reflect.apply(lI,null,[Z,...W]),()=>hx(...W),"datetime format",Z=>Z[px](...W),pI,Z=>we(Z)||Zt(Z))}function Ji(W){P=W,N.pluralRules=P}function V(W,Z){return pe(()=>{if(!W)return!1;const Ae=we(Z)?Z:c.value,ke=oe(Ae),Dt=N.messageResolver(ke,W);return a?Dt!=null:Xh(Dt)||Fs(Dt)||we(Dt)},()=>[W],"translate exists",Ae=>Reflect.apply(Ae.te,Ae,[W,Z]),Nse,Ae=>it(Ae))}function D(W){let Z=null;const Ae=Zk(N,f.value,c.value);for(let ke=0;ke<Ae.length;ke++){const Dt=d.value[Ae[ke]]||{},zt=N.messageResolver(Dt,W);if(zt!=null){Z=zt;break}}return Z}function H(W){const Z=D(W);return Z??(i?i.tm(W)||{}:{})}function oe(W){return d.value[W]||{}}function Q(W,Z){if(n){const Ae={[W]:Z};for(const ke in Ae)mn(Ae,ke)&&tm(Ae[ke]);Z=Ae[W]}d.value[W]=Z,N.messages=d.value}function ce(W,Z){d.value[W]=d.value[W]||{};const Ae={[W]:Z};if(n)for(const ke in Ae)mn(Ae,ke)&&tm(Ae[ke]);Z=Ae[W],Vy(Z,d.value[W]),N.messages=d.value}function ye(W){return p.value[W]||{}}function L(W,Z){p.value[W]=Z,N.datetimeFormats=p.value,cI(N,W,Z)}function k(W,Z){p.value[W]=ar(p.value[W]||{},Z),N.datetimeFormats=p.value,cI(N,W,Z)}function G(W){return y.value[W]||{}}function ee(W,Z){y.value[W]=Z,N.numberFormats=y.value,hI(N,W,Z)}function se(W,Z){y.value[W]=ar(y.value[W]||{},Z),N.numberFormats=y.value,hI(N,W,Z)}mI++,i&&s1&&(Wi(i.locale,W=>{l&&(c.value=W,N.locale=W,Yf(N,c.value,f.value))}),Wi(i.fallbackLocale,W=>{l&&(f.value=W,N.fallbackLocale=W,Yf(N,c.value,f.value))}));const ne={id:mI,locale:F,fallbackLocale:q,get inheritLocale(){return l},set inheritLocale(W){l=W,W&&i&&(c.value=i.locale.value,f.value=i.fallbackLocale.value,Yf(N,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:te,get modifiers(){return C},get pluralRules(){return P||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(W){v=W,N.missingWarn=v},get fallbackWarn(){return b},set fallbackWarn(W){b=W,N.fallbackWarn=b},get fallbackRoot(){return E},set fallbackRoot(W){E=W},get fallbackFormat(){return S},set fallbackFormat(W){S=W,N.fallbackFormat=S},get warnHtmlMessage(){return M},set warnHtmlMessage(W){M=W,N.warnHtmlMessage=W},get escapeParameter(){return I},set escapeParameter(W){I=W,N.escapeParameter=W},t:le,getLocaleMessage:oe,setLocaleMessage:Q,mergeLocaleMessage:ce,getPostTranslationHandler:x,setPostTranslationHandler:$,getMissingHandler:B,setMissingHandler:Y,[uR]:Ji};return ne.datetimeFormats=h,ne.numberFormats=m,ne.rt=Me,ne.te=V,ne.tm=H,ne.d=je,ne.n=ze,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=L,ne.mergeDateTimeFormat=k,ne.getNumberFormat=G,ne.setNumberFormat=ee,ne.mergeNumberFormat=se,ne[hR]=r,ne[dx]=mi,ne[px]=ri,ne[mx]=Rt,ne}function Lse(e){const t=we(e.locale)?e.locale:Kh,i=we(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Ut(e.missing)?e.missing:void 0,s=it(e.silentTranslationWarn)||xl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=it(e.silentFallbackWarn)||xl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=it(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=qe(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,f=Ut(e.postTranslation)?e.postTranslation:void 0,d=we(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=it(e.sync)?e.sync:!0;let v=e.messages;if(qe(e.sharedMessages)){const I=e.sharedMessages;v=Object.keys(I).reduce((P,N)=>{const U=P[N]||(P[N]={});return ar(U,I[N]),P},v||{})}const{__i18n:b,__root:E,__injectWithOption:S}=e,T=e.datetimeFormats,w=e.numberFormats,_=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:i,messages:v,flatJson:_,datetimeFormats:T,numberFormats:w,missing:r,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:b,__root:E,__injectWithOption:S}}function gx(e={},t){{const i=x3(Lse(e)),{__extender:r}=e,s={id:i.id,get locale(){return i.locale.value},set locale(n){i.locale.value=n},get fallbackLocale(){return i.fallbackLocale.value},set fallbackLocale(n){i.fallbackLocale.value=n},get messages(){return i.messages.value},get datetimeFormats(){return i.datetimeFormats.value},get numberFormats(){return i.numberFormats.value},get availableLocales(){return i.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return i.getMissingHandler()},set missing(n){i.setMissingHandler(n)},get silentTranslationWarn(){return it(i.missingWarn)?!i.missingWarn:i.missingWarn},set silentTranslationWarn(n){i.missingWarn=it(n)?!n:n},get silentFallbackWarn(){return it(i.fallbackWarn)?!i.fallbackWarn:i.fallbackWarn},set silentFallbackWarn(n){i.fallbackWarn=it(n)?!n:n},get modifiers(){return i.modifiers},get formatFallbackMessages(){return i.fallbackFormat},set formatFallbackMessages(n){i.fallbackFormat=n},get postTranslation(){return i.getPostTranslationHandler()},set postTranslation(n){i.setPostTranslationHandler(n)},get sync(){return i.inheritLocale},set sync(n){i.inheritLocale=n},get warnHtmlInMessage(){return i.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){i.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return i.escapeParameter},set escapeParameterHtml(n){i.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return i.pluralRules||{}},__composer:i,t(...n){const[o,a,l]=n,c={};let f=null,d=null;if(!we(o))throw er(Hi.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Zt(a)?f=a:qe(a)&&(d=a),Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},rt(...n){return Reflect.apply(i.rt,i,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let f=null,d=null;if(!we(o))throw er(Hi.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:xi(a)?c.plural=a:Zt(a)?f=a:qe(a)&&(d=a),we(l)?c.locale=l:Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},te(n,o){return i.te(n,o)},tm(n){return i.tm(n)},getLocaleMessage(n){return i.getLocaleMessage(n)},setLocaleMessage(n,o){i.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){i.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(i.d,i,[...n])},getDateTimeFormat(n){return i.getDateTimeFormat(n)},setDateTimeFormat(n,o){i.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){i.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(i.n,i,[...n])},getNumberFormat(n){return i.getNumberFormat(n)},setNumberFormat(n,o){i.setNumberFormat(n,o)},mergeNumberFormat(n,o){i.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=r,s}}const S3={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function kse({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,s)=>[...r,...s.type===$t?s.children:[s]],[]):t.reduce((i,r)=>{const s=e[r];return s&&(i[r]=s()),i},Nt())}function pR(e){return $t}const Rse=rt({name:"i18n-t",props:ar({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>xi(e)||!isNaN(e)}},S3),setup(e,t){const{slots:i,attrs:r}=t,s=e.i18n||ii({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(i).filter(d=>d!=="_"),o=Nt();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=we(e.plural)?+e.plural:e.plural);const a=kse(t,n),l=s[dx](e.keypath,a,o),c=ar(Nt(),r),f=we(e.tag)||mt(e.tag)?e.tag:pR();return Vs(f,c,l)}}}),gI=Rse;function Dse(e){return Zt(e)&&!we(e[0])}function mR(e,t,i,r){const{slots:s,attrs:n}=t;return()=>{const o={part:!0};let a=Nt();e.locale&&(o.locale=e.locale),we(e.format)?o.key=e.format:mt(e.format)&&(we(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>i.includes(y)?ar(Nt(),p,{[y]:e.format[y]}):p,Nt()));const l=r(e.value,o,a);let c=[o.key];Zt(l)?c=l.map((p,y)=>{const v=s[p.type],b=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return Dse(b)&&(b[0].key=`${p.type}-${y}`),b}):we(l)&&(c=[l]);const f=ar(Nt(),n),d=we(e.tag)||mt(e.tag)?e.tag:pR();return Vs(d,f,c)}}const Fse=rt({name:"i18n-n",props:ar({value:{type:Number,required:!0},format:{type:[String,Object]}},S3),setup(e,t){const i=e.i18n||ii({useScope:e.scope,__useComponent:!0});return mR(e,t,aR,(...r)=>i[mx](...r))}}),vI=Fse,Use=rt({name:"i18n-d",props:ar({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},S3),setup(e,t){const i=e.i18n||ii({useScope:e.scope,__useComponent:!0});return mR(e,t,oR,(...r)=>i[px](...r))}}),bI=Use;function jse(e,t){const i=e;if(e.mode==="composition")return i.__getInstance(t)||e.global;{const r=i.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Vse(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw er(Hi.UNEXPECTED_ERROR);const f=jse(e,a.$),d=_I(c);return[Reflect.apply(f.t,f,[...wI(d)]),f]};return{created:(o,a)=>{const[l,c]=t(a);s1&&e.global===c&&(o.__i18nWatcher=Wi(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{s1&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=_I(a);o.textContent=Reflect.apply(l.t,l,[...wI(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function _I(e){if(we(e))return{path:e};if(qe(e)){if(!("path"in e))throw er(Hi.REQUIRED_VALUE,"path");return e}else throw er(Hi.INVALID_VALUE)}function wI(e){const{path:t,locale:i,args:r,choice:s,plural:n}=e,o={},a=r||{};return we(i)&&(o.locale=i),xi(s)&&(o.plural=s),xi(n)&&(o.plural=n),[t,a,o]}function Bse(e,t,...i){const r=qe(i[0])?i[0]:{},s=!!r.useI18nComponentName;(it(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":gI.name,"I18nT"].forEach(o=>e.component(o,gI)),[vI.name,"I18nN"].forEach(o=>e.component(o,vI)),[bI.name,"I18nD"].forEach(o=>e.component(o,bI))),e.directive("t",Vse(t))}function Gse(e,t,i){return{beforeCreate(){const r=ki();if(!r)throw er(Hi.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=t,this===this.$root)this.$i18n=xI(e,n);else{n.__injectWithOption=!0,n.__extender=i.__vueI18nExtend,this.$i18n=gx(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=xI(e,s);else{this.$i18n=gx({__i18n:s.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&dR(t,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),i.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=ki();if(!r)throw er(Hi.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),i.__deleteInstance(r),delete this.$i18n}}}function xI(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[uR](t.pluralizationRules||e.pluralizationRules);const i=Gv(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach(r=>e.mergeLocaleMessage(r,i[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const zse=Pl("global-vue-i18n");function qse(e={},t){const i=__VUE_I18N_LEGACY_API__&&it(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=it(e.globalInjection)?e.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&i?!!e.allowComposition:!0,n=new Map,[o,a]=Wse(e,i),l=Pl("");function c(p){return n.get(p)||null}function f(p,y){n.set(p,y)}function d(p){n.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return s},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),qe(v[0])){const S=v[0];p.__composerExtend=S.__composerExtend,p.__vueI18nExtend=S.__vueI18nExtend}let b=null;!i&&r&&(b=tne(y,p.global)),__VUE_I18N_FULL_INSTALL__&&Bse(y,p,...v),__VUE_I18N_LEGACY_API__&&i&&y.mixin(Gse(a,a.__composer,p));const E=y.unmount;y.unmount=()=>{b&&b(),p.dispose(),E()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function ii(e={}){const t=ki();if(t==null)throw er(Hi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw er(Hi.NOT_INSTALLED);const i=Hse(t),r=Jse(i),s=fR(t),n=Yse(e,s);if(__VUE_I18N_LEGACY_API__&&i.mode==="legacy"&&!e.__useComponent){if(!i.allowComposition)throw er(Hi.NOT_AVAILABLE_IN_LEGACY_MODE);return Qse(t,n,r,e)}if(n==="global")return dR(r,e,s),r;if(n==="parent"){let l=Zse(i,t,e.__useComponent);return l==null&&(l=r),l}const o=i;let a=o.__getInstance(t);if(a==null){const l=ar({},e);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=x3(l),o.__composerExtend&&(a[yx]=o.__composerExtend(a)),Xse(o,t,a),o.__setInstance(t,a)}return a}function Wse(e,t,i){const r=Pm();{const s=__VUE_I18N_LEGACY_API__&&t?r.run(()=>gx(e)):r.run(()=>x3(e));if(s==null)throw er(Hi.UNEXPECTED_ERROR);return[r,s]}}function Hse(e){{const t=Li(e.isCE?zse:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw er(e.isCE?Hi.NOT_INSTALLED_WITH_PROVIDE:Hi.UNEXPECTED_ERROR);return t}}function Yse(e,t){return jv(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Jse(e){return e.mode==="composition"?e.global:e.global.__composer}function Zse(e,t,i=!1){let r=null;const s=t.root;let n=Kse(t,i);for(;n!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(r=a.__composer,i&&r&&!r[hR]&&(r=null))}if(r!=null||s===n)break;n=n.parent}return r}function Kse(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Xse(e,t,i){lr(()=>{},t),du(()=>{const r=i;e.__deleteInstance(t);const s=r[yx];s&&(s(),delete r[yx])},t)}function Qse(e,t,i,r={}){const s=t==="local",n=$f(null);if(s&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw er(Hi.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(r.inheritLocale)?r.inheritLocale:!we(r.locale),a=X(!s||o?i.locale.value:we(r.locale)?r.locale:Kh),l=X(!s||o?i.fallbackLocale.value:we(r.fallbackLocale)||Zt(r.fallbackLocale)||qe(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=X(Gv(a.value,r)),f=X(qe(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=X(qe(r.numberFormats)?r.numberFormats:{[a.value]:{}}),p=s?i.missingWarn:it(r.missingWarn)||xl(r.missingWarn)?r.missingWarn:!0,y=s?i.fallbackWarn:it(r.fallbackWarn)||xl(r.fallbackWarn)?r.fallbackWarn:!0,v=s?i.fallbackRoot:it(r.fallbackRoot)?r.fallbackRoot:!0,b=!!r.fallbackFormat,E=Ut(r.missing)?r.missing:null,S=Ut(r.postTranslation)?r.postTranslation:null,T=s?i.warnHtmlMessage:it(r.warnHtmlMessage)?r.warnHtmlMessage:!0,w=!!r.escapeParameter,_=s?i.modifiers:qe(r.modifiers)?r.modifiers:{},M=r.pluralRules||s&&i.pluralRules;function I(){return[a.value,l.value,c.value,f.value,d.value]}const C=tt({get:()=>n.value?n.value.locale.value:a.value,set:D=>{n.value&&(n.value.locale.value=D),a.value=D}}),P=tt({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:D=>{n.value&&(n.value.fallbackLocale.value=D),l.value=D}}),N=tt(()=>n.value?n.value.messages.value:c.value),U=tt(()=>f.value),j=tt(()=>d.value);function F(){return n.value?n.value.getPostTranslationHandler():S}function q(D){n.value&&n.value.setPostTranslationHandler(D)}function te(){return n.value?n.value.getMissingHandler():E}function h(D){n.value&&n.value.setMissingHandler(D)}function m(D){return I(),D()}function x(...D){return n.value?m(()=>Reflect.apply(n.value.t,null,[...D])):m(()=>"")}function $(...D){return n.value?Reflect.apply(n.value.rt,null,[...D]):""}function B(...D){return n.value?m(()=>Reflect.apply(n.value.d,null,[...D])):m(()=>"")}function Y(...D){return n.value?m(()=>Reflect.apply(n.value.n,null,[...D])):m(()=>"")}function pe(D){return n.value?n.value.tm(D):{}}function le(D,H){return n.value?n.value.te(D,H):!1}function Me(D){return n.value?n.value.getLocaleMessage(D):{}}function je(D,H){n.value&&(n.value.setLocaleMessage(D,H),c.value[D]=H)}function ze(D,H){n.value&&n.value.mergeLocaleMessage(D,H)}function at(D){return n.value?n.value.getDateTimeFormat(D):{}}function Gt(D,H){n.value&&(n.value.setDateTimeFormat(D,H),f.value[D]=H)}function Tt(D,H){n.value&&n.value.mergeDateTimeFormat(D,H)}function mi(D){return n.value?n.value.getNumberFormat(D):{}}function Rt(D,H){n.value&&(n.value.setNumberFormat(D,H),d.value[D]=H)}function ri(D,H){n.value&&n.value.mergeNumberFormat(D,H)}const Ji={get id(){return n.value?n.value.id:-1},locale:C,fallbackLocale:P,messages:N,datetimeFormats:U,numberFormats:j,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(D){n.value&&(n.value.inheritLocale=D)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:_},get pluralRules(){return n.value?n.value.pluralRules:M},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:p},set missingWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackWarn(){return n.value?n.value.fallbackWarn:y},set fallbackWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackRoot(){return n.value?n.value.fallbackRoot:v},set fallbackRoot(D){n.value&&(n.value.fallbackRoot=D)},get fallbackFormat(){return n.value?n.value.fallbackFormat:b},set fallbackFormat(D){n.value&&(n.value.fallbackFormat=D)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:T},set warnHtmlMessage(D){n.value&&(n.value.warnHtmlMessage=D)},get escapeParameter(){return n.value?n.value.escapeParameter:w},set escapeParameter(D){n.value&&(n.value.escapeParameter=D)},t:x,getPostTranslationHandler:F,setPostTranslationHandler:q,getMissingHandler:te,setMissingHandler:h,rt:$,d:B,n:Y,tm:pe,te:le,getLocaleMessage:Me,setLocaleMessage:je,mergeLocaleMessage:ze,getDateTimeFormat:at,setDateTimeFormat:Gt,mergeDateTimeFormat:Tt,getNumberFormat:mi,setNumberFormat:Rt,mergeNumberFormat:ri};function V(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(c.value).forEach(H=>{D.mergeLocaleMessage(H,c.value[H])}),Object.keys(f.value).forEach(H=>{D.mergeDateTimeFormat(H,f.value[H])}),Object.keys(d.value).forEach(H=>{D.mergeNumberFormat(H,d.value[H])}),D.escapeParameter=w,D.fallbackFormat=b,D.fallbackRoot=v,D.fallbackWarn=y,D.missingWarn=p,D.warnHtmlMessage=T}return Av(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw er(Hi.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=n.value=e.proxy.$i18n.__composer;t==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,c.value=D.messages.value,f.value=D.datetimeFormats.value,d.value=D.numberFormats.value):s&&V(D)}),Ji}const ene=["locale","fallbackLocale","availableLocales"],SI=["t","rt","d","n","tm","te"];function tne(e,t){const i=Object.create(null);return ene.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n)throw er(Hi.UNEXPECTED_ERROR);const o=ht(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(i,s,o)}),e.config.globalProperties.$i18n=i,SI.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n||!n.value)throw er(Hi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,n)}),()=>{delete e.config.globalProperties.$i18n,SI.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}Cse();__INTLIFY_JIT_COMPILATION__?iI(Ase):iI(Ese);tse(Rre);ise(Zk);if(__INTLIFY_PROD_DEVTOOLS__){const e=ta();e.__INTLIFY__=!0,qre(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const ine={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"FranÃ§ais","map.language.curr":"current","map.export":"export map","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"franÃ§ais","lang-native":"FranÃ§ais","ramp.about.open":"Ouvrir Ã€ propos de PCAR","ramp.about":"Ã€ propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous dÃ©placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un Ã©lÃ©ment de la liste est sÃ©lectionnÃ©, vous pouvez appuyer sur Â« Espace Â» ou Â« EntrÃ©e Â» pour cliquer sur l'Ã©lÃ©ment. Vous pouvez Ã©galement vous dÃ©placer au sein de l'Ã©lÃ©ment de la liste au moyen de la touche Â« Tab Â».","keyboardInstructions.map":"Lorsque la carte est sÃ©lectionnÃ©e, utilisez le pavÃ© curseur pour vous dÃ©placer et appuyez sur Â« EntrÃ©e Â»  pour sÃ©lectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer Ã  l'Ã©chelle mÃ©trique","map.toggleScaleToImperial":"Passer Ã  l'Ã©chelle impÃ©riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"FranÃ§ais","map.language.curr":"actuel","map.export":"exporter la carte","notifications.open":"Ouvrir la fenÃªtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"DÃ©velopper","notifications.controls.collapse":"RÃ©duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur EntrÃ©e ou sur la barre d'espacement pour accÃ©der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"Ã‰pingler","panels.controls.unpin":"DÃ©sÃ©pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"RÃ©duire","panels.controls.expand":"DÃ©velopper","panels.controls.collapse":"RÃ©duire","panels.controls.moveRight":"Aller Ã  droite","panels.controls.moveLeft":"Aller Ã  gauche","panels.controls.items":"Utilisez les touches flÃ©chÃ©es pour naviguer entre les Ã©lÃ©ments","panels.alert.open":"FenÃªtre {name} ouverte","panels.alert.close":"FenÃªtre {name} fermÃ©e","panels.alert.minimize":"FenÃªtre {name} rÃ©duite","layer.error":"Ã‰chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prÃ©vu","layer.longdraw":"{id} prend plus de temps que prÃ©vu Ã  extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont Ã©tÃ© dÃ©sactivÃ©s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement dÃ©sactivÃ©.","layer.noexportmap":"La tentative dâ€™ajouter {name} comme couche dâ€™imagerie cartographique a Ã©chouÃ©e car elle nâ€™a pu Ãªtre activÃ© pour ce service","caption.attributionDefaultText":"PropulsÃ© par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},EI="en",rne={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function sne(){return qse({legacy:!1,locale:document.documentElement.getAttribute("lang")||EI,fallbackLocale:EI,globalInjection:!0,messages:ine,numberFormats:rne})}var a_={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var AI;function nne(){return AI||(AI=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},i=e.exports,r=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},n={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var f=o[r.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[r.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=s[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=s[o];l&&t.removeEventListener(l,a,!1)},raw:r};if(!r){i?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(n,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),i?e.exports=n:window.screenfull=n})()}(a_)),a_.exports}var one=nne();const jn=av(one);var Pd={exports:{}};Pd.exports;var TI;function ane(){return TI||(TI=1,function(e,t){var i=200,r="__lodash_hash_undefined__",s=9007199254740991,n="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",E="[object RegExp]",S="[object Set]",T="[object String]",w="[object Symbol]",_="[object WeakMap]",M="[object ArrayBuffer]",I="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",U="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",q="[object Uint8ClampedArray]",te="[object Uint16Array]",h="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,$=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,Y={};Y[n]=Y[o]=Y[M]=Y[I]=Y[a]=Y[l]=Y[C]=Y[P]=Y[N]=Y[U]=Y[j]=Y[p]=Y[y]=Y[v]=Y[E]=Y[S]=Y[T]=Y[w]=Y[F]=Y[q]=Y[te]=Y[h]=!0,Y[c]=Y[f]=Y[_]=!1;var pe=typeof v0=="object"&&v0&&v0.Object===Object&&v0,le=typeof self=="object"&&self&&self.Object===Object&&self,Me=pe||le||Function("return this")(),je=t&&!t.nodeType&&t,ze=je&&!0&&e&&!e.nodeType&&e,at=ze&&ze.exports===je;function Gt(R,J){return R.set(J[0],J[1]),R}function Tt(R,J){return R.add(J),R}function mi(R,J){for(var ae=-1,Pe=R?R.length:0;++ae<Pe&&J(R[ae],ae,R)!==!1;);return R}function Rt(R,J){for(var ae=-1,Pe=J.length,ir=R.length;++ae<Pe;)R[ir+ae]=J[ae];return R}function ri(R,J,ae,Pe){for(var ir=-1,jr=R?R.length:0;++ir<jr;)ae=J(ae,R[ir],ir,R);return ae}function Ji(R,J){for(var ae=-1,Pe=Array(R);++ae<R;)Pe[ae]=J(ae);return Pe}function V(R,J){return R?.[J]}function D(R){var J=!1;if(R!=null&&typeof R.toString!="function")try{J=!!(R+"")}catch{}return J}function H(R){var J=-1,ae=Array(R.size);return R.forEach(function(Pe,ir){ae[++J]=[ir,Pe]}),ae}function oe(R,J){return function(ae){return R(J(ae))}}function Q(R){var J=-1,ae=Array(R.size);return R.forEach(function(Pe){ae[++J]=Pe}),ae}var ce=Array.prototype,ye=Function.prototype,L=Object.prototype,k=Me["__core-js_shared__"],G=function(){var R=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),ee=ye.toString,se=L.hasOwnProperty,ne=L.toString,W=RegExp("^"+ee.call(se).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=at?Me.Buffer:void 0,Ae=Me.Symbol,ke=Me.Uint8Array,Dt=oe(Object.getPrototypeOf,Object),zt=Object.create,ai=L.propertyIsEnumerable,Ri=ce.splice,K=Object.getOwnPropertySymbols,Te=Z?Z.isBuffer:void 0,Oe=oe(Object.keys,Object),He=_u(Me,"DataView"),Xe=_u(Me,"Map"),Di=_u(Me,"Promise"),cr=_u(Me,"Set"),Dn=_u(Me,"WeakMap"),pa=_u(Object,"create"),Oo=Vl(He),Pf=Vl(Xe),yu=Vl(Di),ma=Vl(cr),tb=Vl(Dn),gu=Ae?Ae.prototype:void 0,Fl=gu?gu.valueOf:void 0;function Ul(R){var J=-1,ae=R?R.length:0;for(this.clear();++J<ae;){var Pe=R[J];this.set(Pe[0],Pe[1])}}function k9(){this.__data__=pa?pa(null):{}}function R9(R){return this.has(R)&&delete this.__data__[R]}function D9(R){var J=this.__data__;if(pa){var ae=J[R];return ae===r?void 0:ae}return se.call(J,R)?J[R]:void 0}function F9(R){var J=this.__data__;return pa?J[R]!==void 0:se.call(J,R)}function U9(R,J){var ae=this.__data__;return ae[R]=pa&&J===void 0?r:J,this}Ul.prototype.clear=k9,Ul.prototype.delete=R9,Ul.prototype.get=D9,Ul.prototype.has=F9,Ul.prototype.set=U9;function $o(R){var J=-1,ae=R?R.length:0;for(this.clear();++J<ae;){var Pe=R[J];this.set(Pe[0],Pe[1])}}function j9(){this.__data__=[]}function V9(R){var J=this.__data__,ae=Jm(J,R);if(ae<0)return!1;var Pe=J.length-1;return ae==Pe?J.pop():Ri.call(J,ae,1),!0}function B9(R){var J=this.__data__,ae=Jm(J,R);return ae<0?void 0:J[ae][1]}function G9(R){return Jm(this.__data__,R)>-1}function z9(R,J){var ae=this.__data__,Pe=Jm(ae,R);return Pe<0?ae.push([R,J]):ae[Pe][1]=J,this}$o.prototype.clear=j9,$o.prototype.delete=V9,$o.prototype.get=B9,$o.prototype.has=G9,$o.prototype.set=z9;function vu(R){var J=-1,ae=R?R.length:0;for(this.clear();++J<ae;){var Pe=R[J];this.set(Pe[0],Pe[1])}}function q9(){this.__data__={hash:new Ul,map:new(Xe||$o),string:new Ul}}function W9(R){return Zm(this,R).delete(R)}function H9(R){return Zm(this,R).get(R)}function Y9(R){return Zm(this,R).has(R)}function J9(R,J){return Zm(this,R).set(R,J),this}vu.prototype.clear=q9,vu.prototype.delete=W9,vu.prototype.get=H9,vu.prototype.has=Y9,vu.prototype.set=J9;function bu(R){this.__data__=new $o(R)}function Z9(){this.__data__=new $o}function K9(R){return this.__data__.delete(R)}function X9(R){return this.__data__.get(R)}function Q9(R){return this.__data__.has(R)}function e7(R,J){var ae=this.__data__;if(ae instanceof $o){var Pe=ae.__data__;if(!Xe||Pe.length<i-1)return Pe.push([R,J]),this;ae=this.__data__=new vu(Pe)}return ae.set(R,J),this}bu.prototype.clear=Z9,bu.prototype.delete=K9,bu.prototype.get=X9,bu.prototype.has=Q9,bu.prototype.set=e7;function t7(R,J){var ae=sb(R)||A7(R)?Ji(R.length,String):[],Pe=ae.length,ir=!!Pe;for(var jr in R)se.call(R,jr)&&!(ir&&(jr=="length"||w7(jr,Pe)))&&ae.push(jr);return ae}function pA(R,J,ae){var Pe=R[J];(!(se.call(R,J)&&vA(Pe,ae))||ae===void 0&&!(J in R))&&(R[J]=ae)}function Jm(R,J){for(var ae=R.length;ae--;)if(vA(R[ae][0],J))return ae;return-1}function i7(R,J){return R&&mA(J,nb(J),R)}function ib(R,J,ae,Pe,ir,jr,Co){var Vr;if(Pe&&(Vr=jr?Pe(R,ir,jr,Co):Pe(R)),Vr!==void 0)return Vr;if(!Km(R))return R;var wA=sb(R);if(wA){if(Vr=v7(R),!J)return m7(R,Vr)}else{var wu=jl(R),xA=wu==f||wu==d;if(M7(R))return l7(R,J);if(wu==v||wu==n||xA&&!jr){if(D(R))return jr?R:{};if(Vr=b7(xA?{}:R),!J)return y7(R,i7(Vr,R))}else{if(!Y[wu])return jr?R:{};Vr=_7(R,wu,ib,J)}}Co||(Co=new bu);var SA=Co.get(R);if(SA)return SA;if(Co.set(R,Vr),!wA)var EA=ae?g7(R):nb(R);return mi(EA||R,function(ob,Xm){EA&&(Xm=ob,ob=R[Xm]),pA(Vr,Xm,ib(ob,J,ae,Pe,Xm,R,Co))}),Vr}function r7(R){return Km(R)?zt(R):{}}function s7(R,J,ae){var Pe=J(R);return sb(R)?Pe:Rt(Pe,ae(R))}function n7(R){return ne.call(R)}function o7(R){if(!Km(R)||S7(R))return!1;var J=_A(R)||D(R)?W:$;return J.test(Vl(R))}function a7(R){if(!gA(R))return Oe(R);var J=[];for(var ae in Object(R))se.call(R,ae)&&ae!="constructor"&&J.push(ae);return J}function l7(R,J){if(J)return R.slice();var ae=new R.constructor(R.length);return R.copy(ae),ae}function rb(R){var J=new R.constructor(R.byteLength);return new ke(J).set(new ke(R)),J}function c7(R,J){var ae=J?rb(R.buffer):R.buffer;return new R.constructor(ae,R.byteOffset,R.byteLength)}function u7(R,J,ae){var Pe=J?ae(H(R),!0):H(R);return ri(Pe,Gt,new R.constructor)}function h7(R){var J=new R.constructor(R.source,x.exec(R));return J.lastIndex=R.lastIndex,J}function f7(R,J,ae){var Pe=J?ae(Q(R),!0):Q(R);return ri(Pe,Tt,new R.constructor)}function d7(R){return Fl?Object(Fl.call(R)):{}}function p7(R,J){var ae=J?rb(R.buffer):R.buffer;return new R.constructor(ae,R.byteOffset,R.length)}function m7(R,J){var ae=-1,Pe=R.length;for(J||(J=Array(Pe));++ae<Pe;)J[ae]=R[ae];return J}function mA(R,J,ae,Pe){ae||(ae={});for(var ir=-1,jr=J.length;++ir<jr;){var Co=J[ir],Vr=void 0;pA(ae,Co,Vr===void 0?R[Co]:Vr)}return ae}function y7(R,J){return mA(R,yA(R),J)}function g7(R){return s7(R,nb,yA)}function Zm(R,J){var ae=R.__data__;return x7(J)?ae[typeof J=="string"?"string":"hash"]:ae.map}function _u(R,J){var ae=V(R,J);return o7(ae)?ae:void 0}var yA=K?oe(K,Object):$7,jl=n7;(He&&jl(new He(new ArrayBuffer(1)))!=I||Xe&&jl(new Xe)!=p||Di&&jl(Di.resolve())!=b||cr&&jl(new cr)!=S||Dn&&jl(new Dn)!=_)&&(jl=function(R){var J=ne.call(R),ae=J==v?R.constructor:void 0,Pe=ae?Vl(ae):void 0;if(Pe)switch(Pe){case Oo:return I;case Pf:return p;case yu:return b;case ma:return S;case tb:return _}return J});function v7(R){var J=R.length,ae=R.constructor(J);return J&&typeof R[0]=="string"&&se.call(R,"index")&&(ae.index=R.index,ae.input=R.input),ae}function b7(R){return typeof R.constructor=="function"&&!gA(R)?r7(Dt(R)):{}}function _7(R,J,ae,Pe){var ir=R.constructor;switch(J){case M:return rb(R);case a:case l:return new ir(+R);case I:return c7(R,Pe);case C:case P:case N:case U:case j:case F:case q:case te:case h:return p7(R,Pe);case p:return u7(R,Pe,ae);case y:case T:return new ir(R);case E:return h7(R);case S:return f7(R,Pe,ae);case w:return d7(R)}}function w7(R,J){return J=J??s,!!J&&(typeof R=="number"||B.test(R))&&R>-1&&R%1==0&&R<J}function x7(R){var J=typeof R;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?R!=="__proto__":R===null}function S7(R){return!!G&&G in R}function gA(R){var J=R&&R.constructor,ae=typeof J=="function"&&J.prototype||L;return R===ae}function Vl(R){if(R!=null){try{return ee.call(R)}catch{}try{return R+""}catch{}}return""}function E7(R){return ib(R,!0,!0)}function vA(R,J){return R===J||R!==R&&J!==J}function A7(R){return T7(R)&&se.call(R,"callee")&&(!ai.call(R,"callee")||ne.call(R)==n)}var sb=Array.isArray;function bA(R){return R!=null&&I7(R.length)&&!_A(R)}function T7(R){return O7(R)&&bA(R)}var M7=Te||C7;function _A(R){var J=Km(R)?ne.call(R):"";return J==f||J==d}function I7(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function Km(R){var J=typeof R;return!!R&&(J=="object"||J=="function")}function O7(R){return!!R&&typeof R=="object"}function nb(R){return bA(R)?t7(R):a7(R)}function $7(){return[]}function C7(){return!1}e.exports=E7}(Pd,Pd.exports)),Pd.exports}var lne=ane();const MI=av(lne),o1=oi("maptip",()=>{const e=X(void 0),t=X(void 0),i=X("");function r(o){e.value=o}function s(o){t.value=o}function n(o){i.value=o}return{maptipInstance:e,maptipPoint:t,content:i,setMaptipInstance:r,setMaptipPoint:s,setMaptipContent:n}}),cne=rt({__name:"esri-map",setup(e){const t=o1(),i=Li("iApi"),r=tt(()=>t.maptipPoint),s=tt(()=>t.maptipInstance),n=tt(()=>t.content),o=tr([]),a=X(!1);o.push(Wi(r,()=>{if(r.value){const c=i.geo.map.getPixelWidth()/2,f=0,d=i.geo.map.mapPointToScreenPoint(r.value),p=d.screenX-c,y=f-d.screenY;s.value.setProps({offset:a.value?[p,y+25]:[p,y]}),n.value&&n.value!==""&&s.value.show()}else s.value.hide()})),o.push(Wi(n,c=>{c&&c!==""&&r?(s.value.setContent(c),s.value.show()):s.value.hide()})),kn(()=>{o.forEach(c=>c())});const l=()=>{i.geo.map.setMouseFocus()};return(c,f)=>{const d=At("tippy");return Et((fe(),xe("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:f[0]||(f[0]=p=>a.value=!0),onTouchend:f[1]||(f[1]=p=>a.value=!1),onKeydown:f[2]||(f[2]=JE(jm(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var yR={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},E3={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},une=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],a1={CSS:{},springs:{}};function ao(e,t,i){return Math.min(Math.max(e,t),i)}function rp(e,t){return e.indexOf(t)>-1}function l_(e,t){return e.apply(null,t)}var De={arr:function(e){return Array.isArray(e)},obj:function(e){return rp(Object.prototype.toString.call(e),"Object")},pth:function(e){return De.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||De.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return De.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return De.hex(e)||De.rgb(e)||De.hsl(e)},key:function(e){return!yR.hasOwnProperty(e)&&!E3.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function gR(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(i){return parseFloat(i)}):[]}function vR(e,t){var i=gR(e),r=ao(De.und(i[0])?1:i[0],.1,100),s=ao(De.und(i[1])?100:i[1],.1,100),n=ao(De.und(i[2])?10:i[2],.1,100),o=ao(De.und(i[3])?0:i[3],.1,100),a=Math.sqrt(s/r),l=n/(2*Math.sqrt(s*r)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var b=t?t*v/1e3:v;return l<1?b=Math.exp(-b*l*a)*(f*Math.cos(c*b)+d*Math.sin(c*b)):b=(f+d*b)*Math.exp(-b*a),v===0||v===1?v:1-b}function y(){var v=a1.springs[e];if(v)return v;for(var b=1/6,E=0,S=0;;)if(E+=b,p(E)===1){if(S++,S>=16)break}else S=0;var T=E*b*1e3;return a1.springs[e]=T,T}return t?p:y}function hne(e){return e===void 0&&(e=10),function(t){return Math.ceil(ao(t,1e-6,1)*e)*(1/e)}}var fne=function(){var e=11,t=1/(e-1);function i(f,d){return 1-3*d+3*f}function r(f,d){return 3*d-6*f}function s(f){return 3*f}function n(f,d,p){return((i(d,p)*f+r(d,p))*f+s(d))*f}function o(f,d,p){return 3*i(d,p)*f*f+2*r(d,p)*f+s(d)}function a(f,d,p,y,v){var b,E,S=0;do E=d+(p-d)/2,b=n(E,y,v)-f,b>0?p=E:d=E;while(Math.abs(b)>1e-7&&++S<10);return E}function l(f,d,p,y){for(var v=0;v<4;++v){var b=o(d,p,y);if(b===0)return d;var E=n(d,p,y)-f;d-=E/b}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var v=new Float32Array(e);if(f!==d||p!==y)for(var b=0;b<e;++b)v[b]=n(b*t,f,p);function E(S){for(var T=0,w=1,_=e-1;w!==_&&v[w]<=S;++w)T+=t;--w;var M=(S-v[w])/(v[w+1]-v[w]),I=T+M*t,C=o(I,f,p);return C>=.001?l(S,I,f,p):C===0?I:a(S,T,T+t,f,p)}return function(S){return f===d&&p===y||S===0||S===1?S:n(E(S),d,y)}}return c}(),bR=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var s,n=4;r<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-r,2)}},Elastic:function(r,s){r===void 0&&(r=1),s===void 0&&(s=.5);var n=ao(r,1,10),o=ao(s,.1,2);return function(a){return a===0||a===1?a:-n*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},i=["Quad","Cubic","Quart","Quint","Expo"];return i.forEach(function(r,s){t[r]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(t).forEach(function(r){var s=t[r];e["easeIn"+r]=s,e["easeOut"+r]=function(n,o){return function(a){return 1-s(n,o)(1-a)}},e["easeInOut"+r]=function(n,o){return function(a){return a<.5?s(n,o)(a*2)/2:1-s(n,o)(a*-2+2)/2}},e["easeOutIn"+r]=function(n,o){return function(a){return a<.5?(1-s(n,o)(1-a*2))/2:(s(n,o)(a*2-1)+1)/2}}}),e}();function A3(e,t){if(De.fnc(e))return e;var i=e.split("(")[0],r=bR[i],s=gR(e);switch(i){case"spring":return vR(e,t);case"cubicBezier":return l_(fne,s);case"steps":return l_(hne,s);default:return l_(r,s)}}function _R(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function zv(e,t){for(var i=e.length,r=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<i;n++)if(n in e){var o=e[n];t.call(r,o,n,e)&&s.push(o)}return s}function qv(e){return e.reduce(function(t,i){return t.concat(De.arr(i)?qv(i):i)},[])}function II(e){return De.arr(e)?e:(De.str(e)&&(e=_R(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function T3(e,t){return e.some(function(i){return i===t})}function M3(e){var t={};for(var i in e)t[i]=e[i];return t}function vx(e,t){var i=M3(e);for(var r in e)i[r]=t.hasOwnProperty(r)?t[r]:e[r];return i}function Wv(e,t){var i=M3(e);for(var r in t)i[r]=De.und(e[r])?t[r]:e[r];return i}function dne(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function pne(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(a,l,c,f){return l+l+c+c+f+f}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),s=parseInt(r[1],16),n=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+s+","+n+","+o+",1)"}function mne(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,s=parseInt(t[3],10)/100,n=t[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(r==0)a=l=c=s;else{var f=s<.5?s*(1+r):s+r-s*r,d=2*s-f;a=o(d,f,i+1/3),l=o(d,f,i),c=o(d,f,i-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+n+")"}function yne(e){if(De.rgb(e))return dne(e);if(De.hex(e))return pne(e);if(De.hsl(e))return mne(e)}function na(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function gne(e){if(rp(e,"translate")||e==="perspective")return"px";if(rp(e,"rotate")||rp(e,"skew"))return"deg"}function bx(e,t){return De.fnc(e)?e(t.target,t.id,t.total):e}function lo(e,t){return e.getAttribute(t)}function I3(e,t,i){var r=na(t);if(T3([i,"deg","rad","turn"],r))return t;var s=a1.CSS[t+i];if(!De.und(s))return s;var n=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=n+i;var l=n/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return a1.CSS[t+i]=c,c}function wR(e,t,i){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return i?I3(e,s,i):s}}function O3(e,t){if(De.dom(e)&&!De.inp(e)&&(!De.nil(lo(e,t))||De.svg(e)&&e[t]))return"attribute";if(De.dom(e)&&T3(une,t))return"transform";if(De.dom(e)&&t!=="transform"&&wR(e,t))return"css";if(e[t]!=null)return"object"}function xR(e){if(De.dom(e)){for(var t=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map,s;s=i.exec(t);)r.set(s[1],s[2]);return r}}function vne(e,t,i,r){var s=rp(t,"scale")?1:0+gne(t),n=xR(e).get(t)||s;return i&&(i.transforms.list.set(t,n),i.transforms.last=t),r?I3(e,n,r):n}function $3(e,t,i,r){switch(O3(e,t)){case"transform":return vne(e,t,r,i);case"css":return wR(e,t,i);case"attribute":return lo(e,t);default:return e[t]||0}}function C3(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var r=na(e)||0,s=parseFloat(t),n=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return s+n+r;case"-":return s-n+r;case"*":return s*n+r}}function SR(e,t){if(De.col(e))return yne(e);if(/\s/g.test(e))return e;var i=na(e),r=i?e.substr(0,e.length-i.length):e;return t?r+t:r}function N3(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function bne(e){return Math.PI*2*lo(e,"r")}function _ne(e){return lo(e,"width")*2+lo(e,"height")*2}function wne(e){return N3({x:lo(e,"x1"),y:lo(e,"y1")},{x:lo(e,"x2"),y:lo(e,"y2")})}function ER(e){for(var t=e.points,i=0,r,s=0;s<t.numberOfItems;s++){var n=t.getItem(s);s>0&&(i+=N3(r,n)),r=n}return i}function xne(e){var t=e.points;return ER(e)+N3(t.getItem(t.numberOfItems-1),t.getItem(0))}function AR(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return bne(e);case"rect":return _ne(e);case"line":return wne(e);case"polyline":return ER(e);case"polygon":return xne(e)}}function Sne(e){var t=AR(e);return e.setAttribute("stroke-dasharray",t),t}function Ene(e){for(var t=e.parentNode;De.svg(t)&&De.svg(t.parentNode);)t=t.parentNode;return t}function TR(e,t){var i=t||{},r=i.el||Ene(e),s=r.getBoundingClientRect(),n=lo(r,"viewBox"),o=s.width,a=s.height,l=i.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function Ane(e,t){var i=De.str(e)?_R(e)[0]:e,r=t||100;return function(s){return{property:s,el:i,svg:TR(i),totalLength:AR(i)*(r/100)}}}function Tne(e,t,i){function r(f){f===void 0&&(f=0);var d=t+f>=1?t+f:0;return e.el.getPointAtLength(d)}var s=TR(e.el,e.svg),n=r(),o=r(-1),a=r(1),l=i?1:s.w/s.vW,c=i?1:s.h/s.vH;switch(e.property){case"x":return(n.x-s.x)*l;case"y":return(n.y-s.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function OI(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=SR(De.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(i)?r.match(i).map(Number):[0],strings:De.str(e)||t?r.split(i):[]}}function P3(e){var t=e?qv(De.arr(e)?e.map(II):II(e)):[];return zv(t,function(i,r,s){return s.indexOf(i)===r})}function MR(e){var t=P3(e);return t.map(function(i,r){return{target:i,id:r,total:t.length,transforms:{list:xR(i)}}})}function Mne(e,t){var i=M3(t);if(/^spring/.test(i.easing)&&(i.duration=vR(i.easing)),De.arr(e)){var r=e.length,s=r===2&&!De.obj(e[0]);s?e={value:e}:De.fnc(t.duration)||(i.duration=t.duration/r)}var n=De.arr(e)?e:[e];return n.map(function(o,a){var l=De.obj(o)&&!De.pth(o)?o:{value:o};return De.und(l.delay)&&(l.delay=a?0:t.delay),De.und(l.endDelay)&&(l.endDelay=a===n.length-1?t.endDelay:0),l}).map(function(o){return Wv(o,i)})}function Ine(e){for(var t=zv(qv(e.map(function(n){return Object.keys(n)})),function(n){return De.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),i={},r=function(n){var o=t[n];i[o]=e.map(function(a){var l={};for(var c in a)De.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},s=0;s<t.length;s++)r(s);return i}function One(e,t){var i=[],r=t.keyframes;r&&(t=Wv(Ine(r),t));for(var s in t)De.key(s)&&i.push({name:s,tweens:Mne(t[s],e)});return i}function $ne(e,t){var i={};for(var r in e){var s=bx(e[r],t);De.arr(s)&&(s=s.map(function(n){return bx(n,t)}),s.length===1&&(s=s[0])),i[r]=s}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function Cne(e,t){var i;return e.tweens.map(function(r){var s=$ne(r,t),n=s.value,o=De.arr(n)?n[1]:n,a=na(o),l=$3(t.target,e.name,a,t),c=i?i.to.original:l,f=De.arr(n)?n[0]:c,d=na(f)||na(l),p=a||d;return De.und(o)&&(o=c),s.from=OI(f,p),s.to=OI(C3(o,f),p),s.start=i?i.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=A3(s.easing,s.duration),s.isPath=De.pth(n),s.isPathTargetInsideSVG=s.isPath&&De.svg(t.target),s.isColor=De.col(s.from.original),s.isColor&&(s.round=1),i=s,s})}var IR={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,r,s){if(r.list.set(t,i),t===r.last||s){var n="";r.list.forEach(function(o,a){n+=a+"("+o+") "}),e.style.transform=n}}};function OR(e,t){var i=MR(e);i.forEach(function(r){for(var s in t){var n=bx(t[s],r),o=r.target,a=na(n),l=$3(o,s,a,r),c=a||na(l),f=C3(SR(n,c),l),d=O3(o,s);IR[d](o,s,f,r.transforms,!0)}})}function Nne(e,t){var i=O3(e.target,t.name);if(i){var r=Cne(t,e),s=r[r.length-1];return{type:i,property:t.name,animatable:e,tweens:r,duration:s.end,delay:r[0].delay,endDelay:s.endDelay}}}function Pne(e,t){return zv(qv(e.map(function(i){return t.map(function(r){return Nne(i,r)})})),function(i){return!De.und(i)})}function $R(e,t){var i=e.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=i?Math.max.apply(Math,e.map(function(n){return r(n)+n.duration})):t.duration,s.delay=i?Math.min.apply(Math,e.map(function(n){return r(n)+n.delay})):t.delay,s.endDelay=i?s.duration-Math.max.apply(Math,e.map(function(n){return r(n)+n.duration-n.endDelay})):t.endDelay,s}var $I=0;function Lne(e){var t=vx(yR,e),i=vx(E3,e),r=One(i,e),s=MR(e.targets),n=Pne(s,r),o=$R(n,i),a=$I;return $I++,Wv(t,{id:a,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var fn=[],CR=function(){var e;function t(){!e&&(!CI()||!ni.suspendWhenDocumentHidden)&&fn.length>0&&(e=requestAnimationFrame(i))}function i(s){for(var n=fn.length,o=0;o<n;){var a=fn[o];a.paused?(fn.splice(o,1),n--):(a.tick(s),o++)}e=o>0?requestAnimationFrame(i):void 0}function r(){ni.suspendWhenDocumentHidden&&(CI()?e=cancelAnimationFrame(e):(fn.forEach(function(s){return s._onDocumentVisibility()}),CR()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function CI(){return!!document&&document.hidden}function ni(e){e===void 0&&(e={});var t=0,i=0,r=0,s,n=0,o=null;function a(T){var w=window.Promise&&new Promise(function(_){return o=_});return T.finished=w,w}var l=Lne(e);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(w){return w.reversed=l.reversed})}function f(T){return l.reversed?l.duration-T:T}function d(){t=0,i=f(l.currentTime)*(1/ni.speed)}function p(T,w){w&&w.seek(T-w.timelineOffset)}function y(T){if(l.reversePlayback)for(var _=n;_--;)p(T,s[_]);else for(var w=0;w<n;w++)p(T,s[w])}function v(T){for(var w=0,_=l.animations,M=_.length;w<M;){var I=_[w],C=I.animatable,P=I.tweens,N=P.length-1,U=P[N];N&&(U=zv(P,function(at){return T<at.end})[0]||U);for(var j=ao(T-U.start-U.delay,0,U.duration)/U.duration,F=isNaN(j)?1:U.easing(j),q=U.to.strings,te=U.round,h=[],m=U.to.numbers.length,x=void 0,$=0;$<m;$++){var B=void 0,Y=U.to.numbers[$],pe=U.from.numbers[$]||0;U.isPath?B=Tne(U.value,F*Y,U.isPathTargetInsideSVG):B=pe+F*(Y-pe),te&&(U.isColor&&$>2||(B=Math.round(B*te)/te)),h.push(B)}var le=q.length;if(!le)x=h[0];else{x=q[0];for(var Me=0;Me<le;Me++){q[Me];var je=q[Me+1],ze=h[Me];isNaN(ze)||(je?x+=ze+je:x+=ze+" ")}}IR[I.type](C.target,I.property,x,C.transforms),I.currentValue=x,w++}}function b(T){l[T]&&!l.passThrough&&l[T](l)}function E(){l.remaining&&l.remaining!==!0&&l.remaining--}function S(T){var w=l.duration,_=l.delay,M=w-l.endDelay,I=f(T);l.progress=ao(I/w*100,0,100),l.reversePlayback=I<l.currentTime,s&&y(I),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),I<=_&&l.currentTime!==0&&v(0),(I>=M&&l.currentTime!==w||!w)&&v(w),I>_&&I<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),v(I)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=ao(I,0,w),l.began&&b("update"),T>=w&&(i=0,E(),l.remaining?(t=r,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var w=n;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,w){return OR(T,w),l},l.tick=function(T){r=T,t||(t=r),S((r+(i-t))*ni.speed)},l.seek=function(T){S(f(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,fn.push(l),d(),CR())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var w=P3(T);NR(w,l)},l.reset(),l.autoplay&&l.play(),l}function NI(e,t){for(var i=t.length;i--;)T3(e,t[i].animatable.target)&&t.splice(i,1)}function NR(e,t){var i=t.animations,r=t.children;NI(e,i);for(var s=r.length;s--;){var n=r[s],o=n.animations;NI(e,o),!o.length&&!n.children.length&&r.splice(s,1)}!i.length&&!r.length&&t.pause()}function kne(e){for(var t=P3(e),i=fn.length;i--;){var r=fn[i];NR(t,r)}}function Rne(e,t){t===void 0&&(t={});var i=t.direction||"normal",r=t.easing?A3(t.easing):null,s=t.grid,n=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",f=De.arr(e),d=parseFloat(f?e[0]:e),p=f?parseFloat(e[1]):0,y=na(f?e[1]:e)||0,v=t.start||0+(f?d:0),b=[],E=0;return function(S,T,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!b.length){for(var _=0;_<w;_++){if(!s)b.push(Math.abs(o-_));else{var M=l?(s[0]-1)/2:o%s[0],I=l?(s[1]-1)/2:Math.floor(o/s[0]),C=_%s[0],P=Math.floor(_/s[0]),N=M-C,U=I-P,j=Math.sqrt(N*N+U*U);n==="x"&&(j=-N),n==="y"&&(j=-U),b.push(j)}E=Math.max.apply(Math,b)}r&&(b=b.map(function(q){return r(q/E)*E})),i==="reverse"&&(b=b.map(function(q){return n?q<0?q*-1:-q:Math.abs(E-q)}))}var F=f?(p-d)/E:d;return v+F*(Math.round(b[T]*100)/100)+y}}function Dne(e){e===void 0&&(e={});var t=ni(e);return t.duration=0,t.add=function(i,r){var s=fn.indexOf(t),n=t.children;s>-1&&fn.splice(s,1);function o(p){p.passThrough=!0}for(var a=0;a<n.length;a++)o(n[a]);var l=Wv(i,vx(E3,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=De.und(r)?c:C3(r,c),o(t),t.seek(l.timelineOffset);var f=ni(l);o(f),n.push(f);var d=$R(n,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}ni.version="3.2.1";ni.speed=1;ni.suspendWhenDocumentHidden=!0;ni.running=fn;ni.remove=kne;ni.get=$3;ni.set=OR;ni.convertPx=I3;ni.path=Ane;ni.setDashoffset=Sne;ni.stagger=Rne;ni.timeline=Dne;ni.easing=A3;ni.penner=bR;ni.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Fne={xs:200,sm:576,md:768,lg:960};class PR{resizeObserver;constructor(t){this.resizeObserver=new ResizeObserver(i=>{i.length&&window.requestAnimationFrame(()=>{i.forEach(r=>{const s=r.target.dataset.breakpoints,n=s?JSON.parse(s):t??Fne;Object.keys(n).forEach(o=>{const a=n[o];r.contentRect.width>=a?r.target.classList.add(o):r.target.classList.remove(o)})})})})}observe(t){this.resizeObserver?.observe(t)}}const Une=["data-cy"],LR=rt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=X(null),i=e,r=X(!1);lr(()=>{i.panel.teleport&&new PR({xs:0,sm:461,...i.panel.teleport.breakpoints}).observe(t.value)});const s=(l,c,f)=>{if(r.value)return c();ni({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},n=(l,c)=>{s(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(r.value=i.panel.isScreenLoaded(i.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{s(l,c,[0,1])};return(l,c)=>{const f=At("focus-container");return fe(),xe("div",{class:pi(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:Il(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Ke($v,{onBeforeLeave:o,onLeave:a,onEnter:n},{default:Ti(()=>[Et((fe(),Vt(ME(e.panel.route.screen),Ov({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[f]])]),_:1})],14,Une)}}}),Xc=oi("panel",()=>{const e=X(void 0),t=X(void 0),i=X(0),r=X(0),s=X(!1),n=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),f=X([]),d=tt(()=>r.value);function p(j){return j==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function y(j){const F=[];return j.forEach(q=>{q in a.value&&F.push(a.value[q].getPromise())}),F}function v(j){I(j),_(),t.value=void 0}function b(j){C(j),_()}function E(j,F){P(j,F),_()}function S(j){N(j),_()}function T(j){i.value=j,_()}function w(j){s.value=j}function _(){let j=i.value;const F=[],q=350,te=12,h=600;for(let m=l.value.length-1;m>=0;m--){const x=l.value[m];let $=x.width||q;if(s.value?$=j:$+=te,x.id==="grid"&&($=Math.max(Math.min($,j),h)),(j>=$&&!s.value||F.length===0)&&(j-=$,F.unshift(x)),x.id==="grid"&&j<h)break}if(e.value&&!F.includes(e.value)&&!s.value){let m;for(let Y=0;Y<F.length-1&&j<(e.value.width||q)+te;Y++)m=F.shift(),j+=m.width||q;j>=(e.value.width||q)?F.unshift(e.value):t.value||(m=F.shift(),F.unshift(e.value));const x=l.value.indexOf(e.value),$=l.value.indexOf(m),B=l.value.slice();$>-1&&(B.splice(x,1),B.splice($,0,e.value)),l.value=B}r.value=j,f.value=F}function M(j){if(o.value={...o.value,[j.id]:j},j.id in a.value)a.value[j.id].resolveMe(j);else{const F=new Si;F.resolveMe(j),a.value={...a.value,[j.id]:F}}}function I(j){j.teleport?c.value=[...c.value,j]:(l.value=[...l.value,j],t.value=j)}function C(j){if(j.teleport){const F=c.value.indexOf(j);F!==-1&&(c.value=[...c.value.slice(0,F),...c.value.slice(F+1)])}else{const F=l.value.indexOf(j);F!==-1&&(l.value=[...l.value.slice(0,F),...l.value.slice(F+1)])}}function P(j,F){const q=l.value.indexOf(j),te=F==="right"?1:-1;f.value.includes(l.value[q+te])&&([l.value[q],l.value[q+te]]=[l.value[q+te],l.value[q]])}function N(j){o.value[j.id]!==void 0&&delete o.value[j.id],a.value[j.id]!==void 0&&delete a.value[j.id];const F=f.value.indexOf(j);F!==-1&&(f.value=[...f.value.slice(0,F),...f.value.slice(F+1)]),e.value&&e.value.id==j.id&&(e.value=void 0)}function U(j){a.value={...a.value,[j]:new Si}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:f,stackWidth:i,remWidth:r,mobileView:s,reorderable:n,teleported:c,getRemainingWidth:d,getVisible:p,getRegPromises:y,openPanel:v,closePanel:b,movePanel:E,removePanel:S,setStackWidth:T,setMobileView:w,updateVisible:_,registerPanel:M,addRegPromise:U}}),jne=rt({__name:"panel-stack",setup(e){const t=Xc(),i=Li("iApi"),r=X(),s=tt(()=>t.mobileView);lr(()=>{new ResizeObserver(f=>{const d=!(i?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");s.value!==d&&(t.mobileView=d,i?.event.emit($e.RAMP_MOBILEVIEW_CHANGE,d)),t.setStackWidth(f[0].contentRect.width)}).observe(r.value?.$el)});const n=c=>t.getVisible(c),o=(c,f)=>{l(c,f,[[6,0],[0,1]])},a=(c,f)=>{const[d,p]=[c.children[0].getBoundingClientRect(),c.parentElement.getBoundingClientRect()];c.style.width=`${d.width}px`,c.style.height=`${d.height}px`,c.style.left=`${d.left-p.left}px`,c.style.position="absolute",l(c,f,[[0,-6],[1,0]])},l=(c,f,d)=>{ni({targets:c,duration:300,translateY:{value:d[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:d[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:f})};return(c,f)=>(fe(),Vt(Nv,{onEnter:o,onLeave:a,name:"panel-container",tag:"div",ref_key:"el",ref:r},{default:Ti(()=>[(fe(!0),xe($t,null,Nl(n(Ie(i).screenSize),d=>(fe(),Vt(LR,{key:`${d.id}`,panel:d},null,8,["panel"]))),128))]),_:1},512))}}),da=(e,t)=>{const i=e.__vccOpts||e;for(const[r,s]of t)i[r]=s;return i},Vne=da(jne,[["__scopeId","data-v-452bbe12"]]);var ss="top",Hs="bottom",Ys="right",ns="left",L3="auto",zm=[ss,Hs,Ys,ns],Qh="start",im="end",Bne="clippingParents",kR="viewport",Jf="popper",Gne="reference",PI=zm.reduce(function(e,t){return e.concat([t+"-"+Qh,t+"-"+im])},[]),RR=[].concat(zm,[L3]).reduce(function(e,t){return e.concat([t,t+"-"+Qh,t+"-"+im])},[]),zne="beforeRead",qne="read",Wne="afterRead",Hne="beforeMain",Yne="main",Jne="afterMain",Zne="beforeWrite",Kne="write",Xne="afterWrite",Qne=[zne,qne,Wne,Hne,Yne,Jne,Zne,Kne,Xne];function So(e){return e?(e.nodeName||"").toLowerCase():null}function xs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qc(e){var t=xs(e).Element;return e instanceof t||e instanceof Element}function zs(e){var t=xs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function k3(e){if(typeof ShadowRoot>"u")return!1;var t=xs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function eoe(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!zs(n)||!So(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function toe(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!zs(s)||!So(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}const ioe={name:"applyStyles",enabled:!0,phase:"write",fn:eoe,effect:toe,requires:["computeStyles"]};function po(e){return e.split("-")[0]}var Nc=Math.max,l1=Math.min,ef=Math.round;function _x(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function DR(){return!/^((?!chrome|android).)*safari/i.test(_x())}function tf(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=e.getBoundingClientRect(),s=1,n=1;t&&zs(e)&&(s=e.offsetWidth>0&&ef(r.width)/e.offsetWidth||1,n=e.offsetHeight>0&&ef(r.height)/e.offsetHeight||1);var o=Qc(e)?xs(e):window,a=o.visualViewport,l=!DR()&&i,c=(r.left+(l&&a?a.offsetLeft:0))/s,f=(r.top+(l&&a?a.offsetTop:0))/n,d=r.width/s,p=r.height/n;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function R3(e){var t=tf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function FR(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&k3(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ca(e){return xs(e).getComputedStyle(e)}function roe(e){return["table","td","th"].indexOf(So(e))>=0}function Rl(e){return((Qc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Hv(e){return So(e)==="html"?e:e.assignedSlot||e.parentNode||(k3(e)?e.host:null)||Rl(e)}function LI(e){return!zs(e)||ca(e).position==="fixed"?null:e.offsetParent}function soe(e){var t=/firefox/i.test(_x()),i=/Trident/i.test(_x());if(i&&zs(e)){var r=ca(e);if(r.position==="fixed")return null}var s=Hv(e);for(k3(s)&&(s=s.host);zs(s)&&["html","body"].indexOf(So(s))<0;){var n=ca(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function qm(e){for(var t=xs(e),i=LI(e);i&&roe(i)&&ca(i).position==="static";)i=LI(i);return i&&(So(i)==="html"||So(i)==="body"&&ca(i).position==="static")?t:i||soe(e)||t}function D3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function sp(e,t,i){return Nc(e,l1(t,i))}function noe(e,t,i){var r=sp(e,t,i);return r>i?i:r}function UR(){return{top:0,right:0,bottom:0,left:0}}function jR(e){return Object.assign({},UR(),e)}function VR(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var ooe=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,jR(typeof t!="number"?t:VR(t,zm))};function aoe(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=po(i.placement),l=D3(a),c=[ns,Ys].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=ooe(s.padding,i),p=R3(n),y=l==="y"?ss:ns,v=l==="y"?Hs:Ys,b=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],S=qm(n),T=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=b/2-E/2,_=d[y],M=T-p[f]-d[v],I=T/2-p[f]/2+w,C=sp(_,I,M),P=l;i.modifiersData[r]=(t={},t[P]=C,t.centerOffset=C-I,t)}}function loe(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||FR(t.elements.popper,s)&&(t.elements.arrow=s))}const coe={name:"arrow",enabled:!0,phase:"main",fn:aoe,effect:loe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rf(e){return e.split("-")[1]}var uoe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hoe(e,t){var i=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:ef(i*s)/s||0,y:ef(r*s)/s||0}}function kI(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,b=v===void 0?0:v,E=typeof f=="function"?f({x:y,y:b}):{x:y,y:b};y=E.x,b=E.y;var S=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=ns,_=ss,M=window;if(c){var I=qm(i),C="clientHeight",P="clientWidth";if(I===xs(i)&&(I=Rl(i),ca(I).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),I=I,s===ss||(s===ns||s===Ys)&&n===im){_=Hs;var N=d&&I===M&&M.visualViewport?M.visualViewport.height:I[C];b-=N-r.height,b*=l?1:-1}if(s===ns||(s===ss||s===Hs)&&n===im){w=Ys;var U=d&&I===M&&M.visualViewport?M.visualViewport.width:I[P];y-=U-r.width,y*=l?1:-1}}var j=Object.assign({position:a},c&&uoe),F=f===!0?hoe({x:y,y:b},xs(i)):{x:y,y:b};if(y=F.x,b=F.y,l){var q;return Object.assign({},j,(q={},q[_]=T?"0":"",q[w]=S?"0":"",q.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",q))}return Object.assign({},j,(t={},t[_]=T?b+"px":"",t[w]=S?y+"px":"",t.transform="",t))}function foe(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:po(t.placement),variation:rf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,kI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,kI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const doe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:foe,data:{}};var D0={passive:!0};function poe(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=xs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,D0)}),a&&l.addEventListener("resize",i.update,D0),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,D0)}),a&&l.removeEventListener("resize",i.update,D0)}}const moe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:poe,data:{}};var yoe={left:"right",right:"left",bottom:"top",top:"bottom"};function By(e){return e.replace(/left|right|bottom|top/g,function(t){return yoe[t]})}var goe={start:"end",end:"start"};function RI(e){return e.replace(/start|end/g,function(t){return goe[t]})}function F3(e){var t=xs(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function U3(e){return tf(Rl(e)).left+F3(e).scrollLeft}function voe(e,t){var i=xs(e),r=Rl(e),s=i.visualViewport,n=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;var c=DR();(c||!c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a+U3(e),y:l}}function boe(e){var t,i=Rl(e),r=F3(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=Nc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Nc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+U3(e),l=-r.scrollTop;return ca(s||i).direction==="rtl"&&(a+=Nc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function j3(e){var t=ca(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function BR(e){return["html","body","#document"].indexOf(So(e))>=0?e.ownerDocument.body:zs(e)&&j3(e)?e:BR(Hv(e))}function np(e,t){var i;t===void 0&&(t=[]);var r=BR(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=xs(r),o=s?[n].concat(n.visualViewport||[],j3(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(np(Hv(o)))}function wx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _oe(e,t){var i=tf(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function DI(e,t,i){return t===kR?wx(voe(e,i)):Qc(t)?_oe(t,i):wx(boe(Rl(e)))}function woe(e){var t=np(Hv(e)),i=["absolute","fixed"].indexOf(ca(e).position)>=0,r=i&&zs(e)?qm(e):e;return Qc(r)?t.filter(function(s){return Qc(s)&&FR(s,r)&&So(s)!=="body"}):[]}function xoe(e,t,i,r){var s=t==="clippingParents"?woe(e):[].concat(t),n=[].concat(s,[i]),o=n[0],a=n.reduce(function(l,c){var f=DI(e,c,r);return l.top=Nc(f.top,l.top),l.right=l1(f.right,l.right),l.bottom=l1(f.bottom,l.bottom),l.left=Nc(f.left,l.left),l},DI(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function GR(e){var t=e.reference,i=e.element,r=e.placement,s=r?po(r):null,n=r?rf(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case ss:l={x:o,y:t.y-i.height};break;case Hs:l={x:o,y:t.y+t.height};break;case Ys:l={x:t.x+t.width,y:a};break;case ns:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?D3(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case Qh:l[c]=l[c]-(t[f]/2-i[f]/2);break;case im:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function sf(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.strategy,o=n===void 0?e.strategy:n,a=i.boundary,l=a===void 0?Bne:a,c=i.rootBoundary,f=c===void 0?kR:c,d=i.elementContext,p=d===void 0?Jf:d,y=i.altBoundary,v=y===void 0?!1:y,b=i.padding,E=b===void 0?0:b,S=jR(typeof E!="number"?E:VR(E,zm)),T=p===Jf?Gne:Jf,w=e.rects.popper,_=e.elements[v?T:p],M=xoe(Qc(_)?_:_.contextElement||Rl(e.elements.popper),l,f,o),I=tf(e.elements.reference),C=GR({reference:I,element:w,strategy:"absolute",placement:s}),P=wx(Object.assign({},w,C)),N=p===Jf?P:I,U={top:M.top-N.top+S.top,bottom:N.bottom-M.bottom+S.bottom,left:M.left-N.left+S.left,right:N.right-M.right+S.right},j=e.modifiersData.offset;if(p===Jf&&j){var F=j[s];Object.keys(U).forEach(function(q){var te=[Ys,Hs].indexOf(q)>=0?1:-1,h=[ss,Hs].indexOf(q)>=0?"y":"x";U[q]+=F[h]*te})}return U}function Soe(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?RR:l,f=rf(r),d=f?a?PI:PI.filter(function(v){return rf(v)===f}):zm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=sf(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[po(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Eoe(e){if(po(e)===L3)return[];var t=By(e);return[RI(e),t,RI(t)]}function Aoe(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,b=i.allowedAutoPlacements,E=t.options.placement,S=po(E),T=S===E,w=l||(T||!v?[By(E)]:Eoe(E)),_=[E].concat(w).reduce(function(je,ze){return je.concat(po(ze)===L3?Soe(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),M=t.rects.reference,I=t.rects.popper,C=new Map,P=!0,N=_[0],U=0;U<_.length;U++){var j=_[U],F=po(j),q=rf(j)===Qh,te=[ss,Hs].indexOf(F)>=0,h=te?"width":"height",m=sf(t,{placement:j,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=te?q?Ys:ns:q?Hs:ss;M[h]>I[h]&&(x=By(x));var $=By(x),B=[];if(n&&B.push(m[F]<=0),a&&B.push(m[x]<=0,m[$]<=0),B.every(function(je){return je})){N=j,P=!1;break}C.set(j,B)}if(P)for(var Y=v?3:1,pe=function(ze){var at=_.find(function(Gt){var Tt=C.get(Gt);if(Tt)return Tt.slice(0,ze).every(function(mi){return mi})});if(at)return N=at,"break"},le=Y;le>0;le--){var Me=pe(le);if(Me==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}const Toe={name:"flip",enabled:!0,phase:"main",fn:Aoe,requiresIfExists:["offset"],data:{_skip:!1}};function FI(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function UI(e){return[ss,Ys,Hs,ns].some(function(t){return e[t]>=0})}function Moe(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=sf(t,{elementContext:"reference"}),a=sf(t,{altBoundary:!0}),l=FI(o,r),c=FI(a,s,n),f=UI(l),d=UI(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const Ioe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Moe};function Ooe(e,t,i){var r=po(e),s=[ns,ss].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[ns,Ys].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function $oe(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=RR.reduce(function(f,d){return f[d]=Ooe(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const Coe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$oe};function Noe(e){var t=e.state,i=e.name;t.modifiersData[i]=GR({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Poe={name:"popperOffsets",enabled:!0,phase:"read",fn:Noe,data:{}};function Loe(e){return e==="x"?"y":"x"}function koe(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,b=v===void 0?0:v,E=sf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),S=po(t.placement),T=rf(t.placement),w=!T,_=D3(S),M=Loe(_),I=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,N=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,U=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(I){if(n){var q,te=_==="y"?ss:ns,h=_==="y"?Hs:Ys,m=_==="y"?"height":"width",x=I[_],$=x+E[te],B=x-E[h],Y=y?-P[m]/2:0,pe=T===Qh?C[m]:P[m],le=T===Qh?-P[m]:-C[m],Me=t.elements.arrow,je=y&&Me?R3(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:UR(),at=ze[te],Gt=ze[h],Tt=sp(0,C[m],je[m]),mi=w?C[m]/2-Y-Tt-at-U.mainAxis:pe-Tt-at-U.mainAxis,Rt=w?-C[m]/2+Y+Tt+Gt+U.mainAxis:le+Tt+Gt+U.mainAxis,ri=t.elements.arrow&&qm(t.elements.arrow),Ji=ri?_==="y"?ri.clientTop||0:ri.clientLeft||0:0,V=(q=j?.[_])!=null?q:0,D=x+mi-V-Ji,H=x+Rt-V,oe=sp(y?l1($,D):$,x,y?Nc(B,H):B);I[_]=oe,F[_]=oe-x}if(a){var Q,ce=_==="x"?ss:ns,ye=_==="x"?Hs:Ys,L=I[M],k=M==="y"?"height":"width",G=L+E[ce],ee=L-E[ye],se=[ss,ns].indexOf(S)!==-1,ne=(Q=j?.[M])!=null?Q:0,W=se?G:L-C[k]-P[k]-ne+U.altAxis,Z=se?L+C[k]+P[k]-ne-U.altAxis:ee,Ae=y&&se?noe(W,L,Z):sp(y?W:G,L,y?Z:ee);I[M]=Ae,F[M]=Ae-L}t.modifiersData[r]=F}}const Roe={name:"preventOverflow",enabled:!0,phase:"main",fn:koe,requiresIfExists:["offset"]};function Doe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Foe(e){return e===xs(e)||!zs(e)?F3(e):Doe(e)}function Uoe(e){var t=e.getBoundingClientRect(),i=ef(t.width)/e.offsetWidth||1,r=ef(t.height)/e.offsetHeight||1;return i!==1||r!==1}function joe(e,t,i){i===void 0&&(i=!1);var r=zs(t),s=zs(t)&&Uoe(t),n=Rl(t),o=tf(e,s,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((So(t)!=="body"||j3(n))&&(a=Foe(t)),zs(t)?(l=tf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=U3(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Voe(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function Boe(e){var t=Voe(e);return Qne.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function Goe(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function zoe(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var jI={placement:"bottom",modifiers:[],strategy:"absolute"};function VI(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function qoe(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?jI:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},jI,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(S){var T=typeof S=="function"?S(f.options):S;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:Qc(a)?np(a):a.contextElement?np(a.contextElement):[],popper:np(l)};var w=Boe(zoe([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var S=f.elements,T=S.reference,w=S.popper;if(VI(T,w)){f.rects={reference:joe(T,qm(w),f.options.strategy==="fixed"),popper:R3(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(U){return f.modifiersData[U.name]=Object.assign({},U.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],I=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof I=="function"&&(f=I({state:f,options:P,name:N,instance:y})||f)}}}},update:Goe(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){b(),p=!0}};if(!VI(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var S=E.name,T=E.options,w=T===void 0?{}:T,_=E.effect;if(typeof _=="function"){var M=_({state:f,name:S,instance:y,options:w}),I=function(){};d.push(M||I)}})}function b(){d.forEach(function(E){return E()}),d=[]}return y}}var Woe=[moe,Poe,doe,ioe,Coe,Toe,Roe,coe,Ioe],Hoe=qoe({defaultModifiers:Woe});const Yoe=["content","aria-label"],V3=rt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=X(!1),i=X(null),r=tr([]),s=X(),n=X(),o=X(),a=e;r.push(Wi(t,()=>{i.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return lr(()=>{window.addEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),Ln(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=sf(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&n.value&&(i.value=Hoe(o.value,n.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),kn(()=>{r.forEach(d=>d()),window.removeEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),t.value=!1}),(d,p)=>{const y=At("tippy");return fe(),xe("div",{ref_key:"el",ref:s},[Et((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[pn(d.$slots,"header")],8,Yoe)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,trigger:"manual"}]]),Et(ue("div",{onClick:p[0]||(p[0]=v=>i.value.update()),class:pi(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:n},[pn(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[Cv,t.value]])],512)}}}),mo=oi("notification",()=>{const e=X([]),t=X({}),i=tt(()=>e.value.length>=99?99:e.value.length);function r(c){e.value=[c,...e.value]}function s(c){if(e.value.includes(c)){const f=e.value.indexOf(c);c instanceof zR&&l(c),f>-1&&e.value.splice(f,1)}}function n(c){t.value[c.id]=c}function o(c,f){t.value[c]&&(t.value[c].messageList.push(f),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const f=e.value.indexOf(c);f>-1&&e.value.splice(f,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:i,showNotification:r,removeNotification:s,registerGroup:n,addToGroup:o,clearAll:a}}),Joe={class:"h-full flex flex-col"},Zoe={class:"w-full flex mb-6"},Koe=["content","aria-label"],Xoe=rt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=mo(),{t:i}=ii(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=_i("panel-screen"),l=At("tippy");return fe(),Vt(a,{panel:e.panel},{header:Ti(()=>[fo(jt(Ie(i)("notifications.title")),1)]),content:Ti(()=>[ue("div",Joe,[ue("div",Zoe,[Et((fe(),xe("button",{type:"button",onClick:s,class:pi(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ie(i)("notifications.controls.clearAll"),"aria-label":Ie(i)("notifications.controls.clearAll")},o[0]||(o[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,Koe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ke(qR,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var _s=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(_s||{});class Qoe extends Mi{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":di(Xoe)},alertName:"notifications.title"}}),this.notificationStore=mo(this.$vApp.$pinia)}show(t,i){this.notificationStore.showNotification({type:t,message:i})}addGroup(t,i,r){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const s=new zR(this.$iApi,t,i,r);return this.notificationStore.registerGroup(s),s}getGroup(t){return this.notificationStore.groups[t]}}class zR extends Mi{notificationStore=mo(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,i,r,s){super(t),this.id=i,this.type=r,this.message=s}show(t){this.notificationStore.addToGroup(this.id,t)}}const eae=["content"],tae={class:"flex items-center text-left"},iae={class:"select-text cursor-text"},rae=["content"],sae={key:0,class:"text-left"},nae=rt({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=mo(),{t:i}=ii(),r=e,s=X(!1),n=tr({[_s.WARNING]:"âš ",[_s.INFO]:"â„¹ï¸",[_s.ERROR]:"âŒ"}),o=l=>{t.removeNotification(l)},a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const f=At("tippy");return Et((fe(),xe("li",{class:pi(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:Ie(i)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[ue("div",tae,[ue("span",null,[fo(jt(n[e.notification.type])+" ",1),ue("span",iae,jt(e.notification.message),1)]),c[4]||(c[4]=ue("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(fe(),xe("div",{key:0,class:pi(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ue("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Wt("",!0),Et((fe(),xe("button",{type:"button",onClick:c[0]||(c[0]=jm(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Ie(i)("notifications.controls.dismiss")},c[3]||(c[3]=[ue("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ue("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,rae)),[[f,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&s.value?(fe(),xe("div",sae,[(fe(!0),xe($t,null,Nl(e.notification.messageList,(d,p)=>(fe(),xe("p",{key:e.notification.id+d+p},jt(d),1))),128))])):Wt("",!0)],10,eae)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),oae=["content"],aae={key:0,class:"w-full border-b border-black"},lae={key:1,class:"flex flex-col items-center h-full"},qR=rt({__name:"notification-list",setup(e){const t=mo(),{t:i}=ii(),r=X(),s=()=>{r.value._tippy.hide()},n=a=>{a.key==="Tab"&&r.value?.matches(":focus")&&r.value._tippy.show()};lr(()=>{r.value?.addEventListener("blur",s),r.value?.addEventListener("keyup",n)}),kn(()=>{r.value?.removeEventListener("blur",s),r.value?.removeEventListener("keyup",n)});const o=tt(()=>t.notificationStack);return(a,l)=>{const c=At("focus-item"),f=At("focus-list"),d=At("tippy");return fe(),xe("div",null,[o.value.length>0?Et((fe(),xe("ul",{key:0,content:Ie(i)("panels.controls.items"),ref_key:"el",ref:r,class:"h-full overflow-y-auto"},[(fe(!0),xe($t,null,Nl(o.value,(p,y)=>(fe(),xe($t,{key:p.message+y},[y>0?(fe(),xe("div",aae)):Wt("",!0),Et(Ke(nae,{class:pi([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,oae)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(fe(),xe("div",lae,[l[0]||(l[0]=ue("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ue("path",{d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ue("span",null,jt(Ie(i)("notifications.empty")),1),l[2]||(l[2]=ue("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),cae={class:"flex items-center hover:text-white"},uae=["aria-label"],hae={key:0,class:"number rounded-full w-18 text-white"},fae={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},dae={class:"pb-8 border-b border-gray-600"},pae={class:"absolute flex right-3 top-3"},mae=["content","aria-label"],yae=rt({__name:"caption-button",setup(e){const t=mo(),{t:i}=ii(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=_i("close"),l=At("tippy");return fe(),Vt(V3,{position:"top-start",tooltip:Ie(i)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Ti(()=>[ue("div",cae,[(fe(),xe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Ie(i)("notifications.open")},o[0]||(o[0]=[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,uae)),r.value&&r.value>0?(fe(),xe("span",hae,jt(r.value),1)):Wt("",!0)])]),default:Ti(c=>[ue("div",fae,[ue("div",null,[ue("h4",dae,jt(Ie(i)("notifications.title")),1),ue("div",pae,[Et((fe(),xe("button",{type:"button",onClick:s,class:pi(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ie(i)("notifications.controls.clearAll"),"aria-label":Ie(i)("notifications.controls.clearAll")},o[1]||(o[1]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,mae)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ke(a,{onClick:c.close},null,8,["onClick"])])]),Ke(qR,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),gae=da(yae,[["__scopeId","data-v-77b1750c"]]),vae={class:"flex hover:text-white"},bae=["aria-label"],_ae={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},wae=["aria-label","content"],xae={class:"pb-8 border-b border-gray-600 mb-10"},Sae={class:"absolute right-5 top-5"},Eae={class:"select-text"},Aae={class:"font-bold cursor-text"},Tae={class:"text-sm cursor-text"},Mae={class:"text-sm cursor-text"},Iae=rt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=ii(),i=Li("iApi"),r=()=>{i.reload()},s=tt(()=>`${Kf.major}.${Kf.minor}.${Kf.patch}`),n=tt(()=>Kf.hash.slice(0,9)),o=tt(()=>{const a=new Date(Kf.timestamp);if(isNaN(a))return"dev mode, no date";{const l=c=>c<10?"0"+c.toString():c.toString();return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()} ${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`}});return(a,l)=>{const c=_i("close"),f=_i("dropdown-menu"),d=At("tippy"),p=At("focus-item");return Et((fe(),Vt(f,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:Ie(t)("ramp.about"),tooltipPlacement:e.position},{header:Ti(()=>[ue("div",vae,[(fe(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Ie(t)("ramp.about.open")},l[0]||(l[0]=[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,bae))])]),default:Ti(y=>[ue("div",_ae,[ue("div",null,[Et((fe(),xe("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:r,"aria-label":Ie(t)("ramp.reload"),content:Ie(t)("ramp.reload")},l[1]||(l[1]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,wae)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),ue("h4",xae,jt(Ie(t)("ramp.about")),1),ue("div",Sae,[Ke(c,{onClick:y.close},null,8,["onClick"])]),ue("div",Eae,[ue("div",null,[ue("span",Aae,jt(s.value),1),ue("span",Tae," ["+jt(n.value)+"] ",1)]),ue("div",null,[ue("span",Mae,jt(o.value),1)]),l[2]||(l[2]=ue("div",{class:"mt-5"},[ue("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),fo(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),Oae=da(Iae,[["__scopeId","data-v-b2adae3d"]]),$ae={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Cae={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Nae=["href","aria-label"],Pae=["src","alt"],Lae={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},kae={class:"flex min-w-fit justify-end"},Rae={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Dae=["aria-pressed","aria-label","content"],Fae={class:"relative top-1 text-sm sm:text-base"},Uae={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},jae=["onClick"],Vae={key:0,class:"sr-only"},Bae=rt({__name:"map-caption",setup(e){const t=ol(),i=es(),{t:r}=ii(),s=Li("iApi"),n=tt(()=>t.scale),o=tt(()=>t.attribution),a=tt(()=>t.coords),l=tt(()=>t.langtoggle),c=tt(()=>i.config.map),f=X([]),d=tr([]);d.push(Wi(c,E=>{E&&s.geo.map.caption.createCaption(c.value?.caption)})),kn(()=>{d.forEach(E=>E())}),Cf(()=>{Ln(()=>{s.$i18n.locale.value&&f.value.length==0&&(f.value=s.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=E=>{s.$i18n.locale.value!=E&&s.setLanguage(E)},v=()=>{t.toggleScale(),s.geo.map.caption.updateScale()},b=(E=!1)=>r(E?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(E,S)=>{const T=_i("dropdown-menu"),w=At("truncate"),_=At("tippy");return fe(),xe("div",$ae,[Ke(Oae,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ke(gae,{class:"sm:block display-none"}),p()?(fe(),xe("span",Cae,[ue("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ue("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,Pae)],8,Nae)])):Wt("",!0),o.value?.text.disabled?Wt("",!0):Et((fe(),xe("span",Lae,[fo(jt(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),S[0]||(S[0]=ue("span",{class:"flex-grow w-15"},null,-1)),ue("div",kae,[a.value?.disabled?Wt("",!0):Et((fe(),xe("div",Rae,[fo(jt(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),n.value?.disabled?Wt("",!0):Et((fe(),xe("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:v,"aria-pressed":n.value?.isImperialScale,"aria-label":`
                    ${n.value?.label} - ${b(n.value?.isImperialScale)}
                `,content:b(n.value?.isImperialScale)},[ue("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Il({width:n.value?.width})},null,4),ue("span",Fae,jt(n.value?.label),1)],8,Dae)),[[_,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Wt("",!0):(fe(),Vt(T,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Ie(r)("map.changeLanguage"),ariaLabel:`${Ie(r)("map.language.short")} - ${Ie(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Ti(()=>[ue("span",Uae,jt(Ie(r)("map.language.short")),1)]),default:Ti(()=>[(fe(!0),xe($t,null,Nl(f.value,(M,I)=>(fe(),xe("a",{key:`${M}-${I}`,class:pi(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":M===Ie(s).$i18n.locale.value}]),href:"javascript:;",onClick:C=>y(M)},[fo(jt(Ie(r)("map.language."+M))+" ",1),M===Ie(s).$i18n.locale.value?(fe(),xe("span",Vae,jt(Ie(r)("map.language.curr")),1)):Wt("",!0)],10,jae))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Gae=["content","aria-label"],zae={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},qae=rt({__name:"floating-button",setup(e){const t=mo(),i=Li("iApi"),{t:r}=ii(),s=tt(()=>t.notificationNumber);return(n,o)=>{const a=At("tippy");return Et((fe(),xe("button",{type:"button",onClick:o[0]||(o[0]=l=>Ie(i).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Ie(r)("notifications.title"),"aria-label":Ie(r)("notifications.title")},[o[1]||(o[1]=ue("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),s.value&&s.value>0?(fe(),xe("span",zae,jt(s.value),1)):Wt("",!0)],8,Gae)),[[a]])}}}),Wae=da(qae,[["__scopeId","data-v-db7ed22c"]]),Hae={class:"flex items-center mb-20"},Yae={class:"text-xl"},Jae=rt({__name:"keyboard-instructions",setup(e){const t=Li("iApi"),{t:i}=ii(),r=X(!1),s=X(["app","lists","map"]),n=X([]),o=X(null),a=X(null);lr(()=>{n.value.push(t.event.on("openKeyboardInstructions",()=>{r.value=!0,Ln(()=>{o.value.focus()})}))}),kn(()=>{n.value.forEach(c=>t?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),r.value=!1)};return(c,f)=>{const d=_i("close");return r.value?(fe(),xe("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>r.value=!1),onKeydown:l},[ue("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:f[2]||(f[2]=jm(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ue("div",Hae,[ue("h2",Yae,jt(Ie(i)("keyboardInstructions.title")),1),Ke(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>r.value=!1)})]),(fe(!0),xe($t,null,Nl(s.value,p=>(fe(),xe("p",{class:"whitespace-pre-line pb-10",key:p},jt(Ie(i)(`keyboardInstructions.${p}`)),1))),128)),ue("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>r.value=!1),ref_key:"lastEl",ref:a},jt(Ie(i)("keyboardInstructions.OK")),513)],512)],32)):Wt("",!0)}}}),Wu=oi("instance",()=>({started:X(!1)})),Zae={class:"h-full relative"},Kae={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Xae={class:"absolute top-8 w-full flex justify-center"},Qae={key:1,class:"w-full h-full"},ele=rt({__name:"shell",setup(e){const t=Li("iApi"),i=Wu(),r=ks(),s=Xc(),{t:n}=ii(),o=tt(()=>r.items.appbar),a=()=>{t?.event.emit("openKeyboardInstructions")},l=()=>s.teleported;return(c,f)=>(fe(),xe("div",Zae,[ue("div",Kae,[f[0]||(f[0]=ue("div",{class:"sr-only screen-reader-alert"},null,-1)),ue("div",Xae,[ue("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},jt(Ie(n)("keyboardInstructions.open")),1)]),Ke(Jae),Ke(Vne,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Wt("",!0):(fe(),Vt(Wae,{key:0})),Ke(Bae,{class:"z-30"})]),Ie(i).started?(fe(),Vt(cne,{key:0})):(fe(),xe("div",Qae,f[1]||(f[1]=[ue("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(fe(!0),xe($t,null,Nl(l(),d=>(fe(),Vt(yE,{to:d.teleport?.target,key:d.id},[(fe(),Vt(LR,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),tle=da(ele,[["__scopeId","data-v-2c534eed"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var os="top",Js="bottom",Zs="right",as="left",B3="auto",Wm=[os,Js,Zs,as],nf="start",rm="end",ile="clippingParents",WR="viewport",Zf="popper",rle="reference",BI=Wm.reduce(function(e,t){return e.concat([t+"-"+nf,t+"-"+rm])},[]),HR=[].concat(Wm,[B3]).reduce(function(e,t){return e.concat([t,t+"-"+nf,t+"-"+rm])},[]),sle="beforeRead",nle="read",ole="afterRead",ale="beforeMain",lle="main",cle="afterMain",ule="beforeWrite",hle="write",fle="afterWrite",dle=[sle,nle,ole,ale,lle,cle,ule,hle,fle];function Eo(e){return e?(e.nodeName||"").toLowerCase():null}function Rn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function of(e){var t=Rn(e).Element;return e instanceof t||e instanceof Element}function qs(e){var t=Rn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function YR(e){if(typeof ShadowRoot>"u")return!1;var t=Rn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ple(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!qs(n)||!Eo(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function mle(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!qs(s)||!Eo(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}var JR={name:"applyStyles",enabled:!0,phase:"write",fn:ple,effect:mle,requires:["computeStyles"]};function yo(e){return e.split("-")[0]}var Pc=Math.max,c1=Math.min,af=Math.round;function lf(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),r=1,s=1;if(qs(e)&&t){var n=e.offsetHeight,o=e.offsetWidth;o>0&&(r=af(i.width)/o||1),n>0&&(s=af(i.height)/n||1)}return{width:i.width/r,height:i.height/s,top:i.top/s,right:i.right/r,bottom:i.bottom/s,left:i.left/r,x:i.left/r,y:i.top/s}}function G3(e){var t=lf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function ZR(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&YR(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ao(e){return Rn(e).getComputedStyle(e)}function yle(e){return["table","td","th"].indexOf(Eo(e))>=0}function Dl(e){return((of(e)?e.ownerDocument:e.document)||window.document).documentElement}function Yv(e){return Eo(e)==="html"?e:e.assignedSlot||e.parentNode||(YR(e)?e.host:null)||Dl(e)}function GI(e){return!qs(e)||Ao(e).position==="fixed"?null:e.offsetParent}function gle(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&qs(e)){var r=Ao(e);if(r.position==="fixed")return null}for(var s=Yv(e);qs(s)&&["html","body"].indexOf(Eo(s))<0;){var n=Ao(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function Hm(e){for(var t=Rn(e),i=GI(e);i&&yle(i)&&Ao(i).position==="static";)i=GI(i);return i&&(Eo(i)==="html"||Eo(i)==="body"&&Ao(i).position==="static")?t:i||gle(e)||t}function z3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function op(e,t,i){return Pc(e,c1(t,i))}function vle(e,t,i){var r=op(e,t,i);return r>i?i:r}function KR(){return{top:0,right:0,bottom:0,left:0}}function XR(e){return Object.assign({},KR(),e)}function QR(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var ble=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,XR(typeof t!="number"?t:QR(t,Wm))};function _le(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=yo(i.placement),l=z3(a),c=[as,Zs].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=ble(s.padding,i),p=G3(n),y=l==="y"?os:as,v=l==="y"?Js:Zs,b=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],S=Hm(n),T=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=b/2-E/2,_=d[y],M=T-p[f]-d[v],I=T/2-p[f]/2+w,C=op(_,I,M),P=l;i.modifiersData[r]=(t={},t[P]=C,t.centerOffset=C-I,t)}}function wle(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||ZR(t.elements.popper,s)&&(t.elements.arrow=s))}var xle={name:"arrow",enabled:!0,phase:"main",fn:_le,effect:wle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cf(e){return e.split("-")[1]}var Sle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ele(e){var t=e.x,i=e.y,r=window,s=r.devicePixelRatio||1;return{x:af(t*s)/s||0,y:af(i*s)/s||0}}function zI(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=f===!0?Ele(o):typeof f=="function"?f(o):o,y=p.x,v=y===void 0?0:y,b=p.y,E=b===void 0?0:b,S=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=as,_=os,M=window;if(c){var I=Hm(i),C="clientHeight",P="clientWidth";if(I===Rn(i)&&(I=Dl(i),Ao(I).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),I=I,s===os||(s===as||s===Zs)&&n===rm){_=Js;var N=d&&M.visualViewport?M.visualViewport.height:I[C];E-=N-r.height,E*=l?1:-1}if(s===as||(s===os||s===Js)&&n===rm){w=Zs;var U=d&&M.visualViewport?M.visualViewport.width:I[P];v-=U-r.width,v*=l?1:-1}}var j=Object.assign({position:a},c&&Sle);if(l){var F;return Object.assign({},j,(F={},F[_]=T?"0":"",F[w]=S?"0":"",F.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",F))}return Object.assign({},j,(t={},t[_]=T?E+"px":"",t[w]=S?v+"px":"",t.transform="",t))}function Ale(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:yo(t.placement),variation:cf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,zI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,zI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Tle={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ale,data:{}},F0={passive:!0};function Mle(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Rn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,F0)}),a&&l.addEventListener("resize",i.update,F0),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,F0)}),a&&l.removeEventListener("resize",i.update,F0)}}var Ile={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mle,data:{}},Ole={left:"right",right:"left",bottom:"top",top:"bottom"};function Gy(e){return e.replace(/left|right|bottom|top/g,function(t){return Ole[t]})}var $le={start:"end",end:"start"};function qI(e){return e.replace(/start|end/g,function(t){return $le[t]})}function q3(e){var t=Rn(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function W3(e){return lf(Dl(e)).left+q3(e).scrollLeft}function Cle(e){var t=Rn(e),i=Dl(e),r=t.visualViewport,s=i.clientWidth,n=i.clientHeight,o=0,a=0;return r&&(s=r.width,n=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:s,height:n,x:o+W3(e),y:a}}function Nle(e){var t,i=Dl(e),r=q3(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=Pc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Pc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+W3(e),l=-r.scrollTop;return Ao(s||i).direction==="rtl"&&(a+=Pc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function H3(e){var t=Ao(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function e9(e){return["html","body","#document"].indexOf(Eo(e))>=0?e.ownerDocument.body:qs(e)&&H3(e)?e:e9(Yv(e))}function ap(e,t){var i;t===void 0&&(t=[]);var r=e9(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=Rn(r),o=s?[n].concat(n.visualViewport||[],H3(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(ap(Yv(o)))}function xx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ple(e){var t=lf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function WI(e,t){return t===WR?xx(Cle(e)):of(t)?Ple(t):xx(Nle(Dl(e)))}function Lle(e){var t=ap(Yv(e)),i=["absolute","fixed"].indexOf(Ao(e).position)>=0,r=i&&qs(e)?Hm(e):e;return of(r)?t.filter(function(s){return of(s)&&ZR(s,r)&&Eo(s)!=="body"&&(i?Ao(s).position!=="static":!0)}):[]}function kle(e,t,i){var r=t==="clippingParents"?Lle(e):[].concat(t),s=[].concat(r,[i]),n=s[0],o=s.reduce(function(a,l){var c=WI(e,l);return a.top=Pc(c.top,a.top),a.right=c1(c.right,a.right),a.bottom=c1(c.bottom,a.bottom),a.left=Pc(c.left,a.left),a},WI(e,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function t9(e){var t=e.reference,i=e.element,r=e.placement,s=r?yo(r):null,n=r?cf(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case os:l={x:o,y:t.y-i.height};break;case Js:l={x:o,y:t.y+t.height};break;case Zs:l={x:t.x+t.width,y:a};break;case as:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?z3(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case nf:l[c]=l[c]-(t[f]/2-i[f]/2);break;case rm:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function sm(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.boundary,o=n===void 0?ile:n,a=i.rootBoundary,l=a===void 0?WR:a,c=i.elementContext,f=c===void 0?Zf:c,d=i.altBoundary,p=d===void 0?!1:d,y=i.padding,v=y===void 0?0:y,b=XR(typeof v!="number"?v:QR(v,Wm)),E=f===Zf?rle:Zf,S=e.rects.popper,T=e.elements[p?E:f],w=kle(of(T)?T:T.contextElement||Dl(e.elements.popper),o,l),_=lf(e.elements.reference),M=t9({reference:_,element:S,strategy:"absolute",placement:s}),I=xx(Object.assign({},S,M)),C=f===Zf?I:_,P={top:w.top-C.top+b.top,bottom:C.bottom-w.bottom+b.bottom,left:w.left-C.left+b.left,right:C.right-w.right+b.right},N=e.modifiersData.offset;if(f===Zf&&N){var U=N[s];Object.keys(P).forEach(function(j){var F=[Zs,Js].indexOf(j)>=0?1:-1,q=[os,Js].indexOf(j)>=0?"y":"x";P[j]+=U[q]*F})}return P}function Rle(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?HR:l,f=cf(r),d=f?a?BI:BI.filter(function(v){return cf(v)===f}):Wm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=sm(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[yo(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Dle(e){if(yo(e)===B3)return[];var t=Gy(e);return[qI(e),t,qI(t)]}function Fle(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,b=i.allowedAutoPlacements,E=t.options.placement,S=yo(E),T=S===E,w=l||(T||!v?[Gy(E)]:Dle(E)),_=[E].concat(w).reduce(function(je,ze){return je.concat(yo(ze)===B3?Rle(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),M=t.rects.reference,I=t.rects.popper,C=new Map,P=!0,N=_[0],U=0;U<_.length;U++){var j=_[U],F=yo(j),q=cf(j)===nf,te=[os,Js].indexOf(F)>=0,h=te?"width":"height",m=sm(t,{placement:j,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=te?q?Zs:as:q?Js:os;M[h]>I[h]&&(x=Gy(x));var $=Gy(x),B=[];if(n&&B.push(m[F]<=0),a&&B.push(m[x]<=0,m[$]<=0),B.every(function(je){return je})){N=j,P=!1;break}C.set(j,B)}if(P)for(var Y=v?3:1,pe=function(ze){var at=_.find(function(Gt){var Tt=C.get(Gt);if(Tt)return Tt.slice(0,ze).every(function(mi){return mi})});if(at)return N=at,"break"},le=Y;le>0;le--){var Me=pe(le);if(Me==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var Ule={name:"flip",enabled:!0,phase:"main",fn:Fle,requiresIfExists:["offset"],data:{_skip:!1}};function HI(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function YI(e){return[os,Zs,Js,as].some(function(t){return e[t]>=0})}function jle(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=sm(t,{elementContext:"reference"}),a=sm(t,{altBoundary:!0}),l=HI(o,r),c=HI(a,s,n),f=YI(l),d=YI(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var Vle={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jle};function Ble(e,t,i){var r=yo(e),s=[as,os].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[as,Zs].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Gle(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=HR.reduce(function(f,d){return f[d]=Ble(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var zle={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Gle};function qle(e){var t=e.state,i=e.name;t.modifiersData[i]=t9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Wle={name:"popperOffsets",enabled:!0,phase:"read",fn:qle,data:{}};function Hle(e){return e==="x"?"y":"x"}function Yle(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,b=v===void 0?0:v,E=sm(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),S=yo(t.placement),T=cf(t.placement),w=!T,_=z3(S),M=Hle(_),I=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,N=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,U=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(I){if(n){var q,te=_==="y"?os:as,h=_==="y"?Js:Zs,m=_==="y"?"height":"width",x=I[_],$=x+E[te],B=x-E[h],Y=y?-P[m]/2:0,pe=T===nf?C[m]:P[m],le=T===nf?-P[m]:-C[m],Me=t.elements.arrow,je=y&&Me?G3(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:KR(),at=ze[te],Gt=ze[h],Tt=op(0,C[m],je[m]),mi=w?C[m]/2-Y-Tt-at-U.mainAxis:pe-Tt-at-U.mainAxis,Rt=w?-C[m]/2+Y+Tt+Gt+U.mainAxis:le+Tt+Gt+U.mainAxis,ri=t.elements.arrow&&Hm(t.elements.arrow),Ji=ri?_==="y"?ri.clientTop||0:ri.clientLeft||0:0,V=(q=j?.[_])!=null?q:0,D=x+mi-V-Ji,H=x+Rt-V,oe=op(y?c1($,D):$,x,y?Pc(B,H):B);I[_]=oe,F[_]=oe-x}if(a){var Q,ce=_==="x"?os:as,ye=_==="x"?Js:Zs,L=I[M],k=M==="y"?"height":"width",G=L+E[ce],ee=L-E[ye],se=[os,as].indexOf(S)!==-1,ne=(Q=j?.[M])!=null?Q:0,W=se?G:L-C[k]-P[k]-ne+U.altAxis,Z=se?L+C[k]+P[k]-ne-U.altAxis:ee,Ae=y&&se?vle(W,L,Z):op(y?W:G,L,y?Z:ee);I[M]=Ae,F[M]=Ae-L}t.modifiersData[r]=F}}var Jle={name:"preventOverflow",enabled:!0,phase:"main",fn:Yle,requiresIfExists:["offset"]};function Zle(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Kle(e){return e===Rn(e)||!qs(e)?q3(e):Zle(e)}function Xle(e){var t=e.getBoundingClientRect(),i=af(t.width)/e.offsetWidth||1,r=af(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Qle(e,t,i){i===void 0&&(i=!1);var r=qs(t),s=qs(t)&&Xle(t),n=Dl(t),o=lf(e,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((Eo(t)!=="body"||H3(n))&&(a=Kle(t)),qs(t)?(l=lf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=W3(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ece(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function tce(e){var t=ece(e);return dle.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function ice(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function rce(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var JI={placement:"bottom",modifiers:[],strategy:"absolute"};function ZI(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sce(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?JI:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},JI,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(S){var T=typeof S=="function"?S(f.options):S;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:of(a)?ap(a):a.contextElement?ap(a.contextElement):[],popper:ap(l)};var w=tce(rce([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var S=f.elements,T=S.reference,w=S.popper;if(ZI(T,w)){f.rects={reference:Qle(T,Hm(w),f.options.strategy==="fixed"),popper:G3(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(U){return f.modifiersData[U.name]=Object.assign({},U.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],I=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof I=="function"&&(f=I({state:f,options:P,name:N,instance:y})||f)}}}},update:ice(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){b(),p=!0}};if(!ZI(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var S=E.name,T=E.options,w=T===void 0?{}:T,_=E.effect;if(typeof _=="function"){var M=_({state:f,name:S,instance:y,options:w}),I=function(){};d.push(M||I)}})}function b(){d.forEach(function(E){return E()}),d=[]}return y}}var nce=[Ile,Wle,Tle,JR,zle,Ule,Jle,xle,Vle],oce=sce({defaultModifiers:nce}),ace="tippy-box",i9="tippy-content",r9="tippy-backdrop",s9="tippy-arrow",n9="tippy-svg-arrow",pc={passive:!0,capture:!0},o9=function(){return document.body};function c_(e,t,i){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(i)?i[t]:i)}return e}function Y3(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function a9(e,t){return typeof e=="function"?e.apply(void 0,t):e}function KI(e,t){if(t===0)return e;var i;return function(r){clearTimeout(i),i=setTimeout(function(){e(r)},t)}}function lce(e,t){var i=Object.assign({},e);return t.forEach(function(r){delete i[r]}),i}function cce(e){return e.split(/\s+/).filter(Boolean)}function gc(e){return[].concat(e)}function XI(e,t){e.indexOf(t)===-1&&e.push(t)}function uce(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function l9(e){return e.split("-")[0]}function uf(e){return[].slice.call(e)}function QI(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function Lc(){return document.createElement("div")}function Jv(e){return["Element","Fragment"].some(function(t){return Y3(e,t)})}function hce(e){return Y3(e,"NodeList")}function J3(e){return Y3(e,"MouseEvent")}function fce(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function dce(e){return Jv(e)?[e]:hce(e)?uf(e):Array.isArray(e)?e:uf(document.querySelectorAll(e))}function u_(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function nm(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function c9(e){var t,i=gc(e),r=i[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function pce(e,t){var i=t.clientX,r=t.clientY;return e.every(function(s){var n=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,c=l9(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,v=c==="left"?f.right.x:0,b=n.top-r+d>l,E=r-n.bottom-p>l,S=n.left-i+y>l,T=i-n.right-v>l;return b||E||S||T})}function h_(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){e[r](s,i)})}function eO(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=i.getRootNode==null||(r=i.getRootNode())==null?void 0:r.host}return!1}var to={isTouch:!1},tO=0;function mce(){to.isTouch||(to.isTouch=!0,window.performance&&document.addEventListener("mousemove",u9))}function u9(){var e=performance.now();e-tO<20&&(to.isTouch=!1,document.removeEventListener("mousemove",u9)),tO=e}function yce(){var e=document.activeElement;if(fce(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function gce(){document.addEventListener("touchstart",mce,pc),window.addEventListener("blur",yce)}var vce=typeof window<"u"&&typeof document<"u",bce=vce?!!window.msCrypto:!1,_ce={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},wce={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},gn=Object.assign({appendTo:o9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},_ce,wce),xce=Object.keys(gn),Sce=function(t){var i=Object.keys(t);i.forEach(function(r){gn[r]=t[r]})};function h9(e){var t=e.plugins||[],i=t.reduce(function(r,s){var n=s.name,o=s.defaultValue;if(n){var a;r[n]=e[n]!==void 0?e[n]:(a=gn[n])!=null?a:o}return r},{});return Object.assign({},e,i)}function Ece(e,t){var i=t?Object.keys(h9(Object.assign({},gn,{plugins:t}))):xce,r=i.reduce(function(s,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch{s[n]=o}return s},{});return r}function iO(e,t){var i=Object.assign({},t,{content:a9(t.content,[e])},t.ignoreAttributes?{}:Ece(e,t.plugins));return i.aria=Object.assign({},gn.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}var Ace=function(){return"innerHTML"};function Sx(e,t){e[Ace()]=t}function rO(e){var t=Lc();return e===!0?t.className=s9:(t.className=n9,Jv(e)?t.appendChild(e):Sx(t,e)),t}function sO(e,t){Jv(t.content)?(Sx(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Sx(e,t.content):e.textContent=t.content)}function u1(e){var t=e.firstElementChild,i=uf(t.children);return{box:t,content:i.find(function(r){return r.classList.contains(i9)}),arrow:i.find(function(r){return r.classList.contains(s9)||r.classList.contains(n9)}),backdrop:i.find(function(r){return r.classList.contains(r9)})}}function f9(e){var t=Lc(),i=Lc();i.className=ace,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=Lc();r.className=i9,r.setAttribute("data-state","hidden"),sO(r,e.props),t.appendChild(i),i.appendChild(r),s(e.props,e.props);function s(n,o){var a=u1(t),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&sO(c,e.props),o.arrow?f?n.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(rO(o.arrow))):l.appendChild(rO(o.arrow)):f&&l.removeChild(f)}return{popper:t,onUpdate:s}}f9.$$tippy=!0;var Tce=1,U0=[],f_=[];function Mce(e,t){var i=iO(e,Object.assign({},gn,h9(QI(t)))),r,s,n,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],v=KI(D,i.interactiveDebounce),b,E=Tce++,S=null,T=uce(i.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:E,reference:e,popper:Lc(),popperInstance:S,props:i,state:w,plugins:T,clearDelayTimeouts:W,setProps:Z,setContent:Ae,show:ke,hide:Dt,hideWithInteractivity:zt,enable:se,disable:ne,unmount:ai,destroy:Ri};if(!i.render)return _;var M=i.render(_),I=M.popper,C=M.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+_.id,_.popper=I,e._tippy=_,I._tippy=_;var P=T.map(function(K){return K.fn(_)}),N=e.hasAttribute("aria-expanded");return ri(),Y(),x(),$("onCreate",[_]),i.showOnCreate&&G(),I.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&te().addEventListener("mousemove",v)}),_;function U(){var K=_.props.touch;return Array.isArray(K)?K:[K,0]}function j(){return U()[0]==="hold"}function F(){var K;return!!((K=_.props.render)!=null&&K.$$tippy)}function q(){return b||e}function te(){var K=q().parentNode;return K?c9(K):document}function h(){return u1(I)}function m(K){return _.state.isMounted&&!_.state.isVisible||to.isTouch||f&&f.type==="focus"?0:c_(_.props.delay,K?0:1,gn.delay)}function x(K){K===void 0&&(K=!1),I.style.pointerEvents=_.props.interactive&&!K?"":"none",I.style.zIndex=""+_.props.zIndex}function $(K,Te,Oe){if(Oe===void 0&&(Oe=!0),P.forEach(function(Xe){Xe[K]&&Xe[K].apply(Xe,Te)}),Oe){var He;(He=_.props)[K].apply(He,Te)}}function B(){var K=_.props.aria;if(K.content){var Te="aria-"+K.content,Oe=I.id,He=gc(_.props.triggerTarget||e);He.forEach(function(Xe){var Di=Xe.getAttribute(Te);if(_.state.isVisible)Xe.setAttribute(Te,Di?Di+" "+Oe:Oe);else{var cr=Di&&Di.replace(Oe,"").trim();cr?Xe.setAttribute(Te,cr):Xe.removeAttribute(Te)}})}}function Y(){if(!(N||!_.props.aria.expanded)){var K=gc(_.props.triggerTarget||e);K.forEach(function(Te){_.props.interactive?Te.setAttribute("aria-expanded",_.state.isVisible&&Te===q()?"true":"false"):Te.removeAttribute("aria-expanded")})}}function pe(){te().removeEventListener("mousemove",v),U0=U0.filter(function(K){return K!==v})}function le(K){if(!(to.isTouch&&(l||K.type==="mousedown"))){var Te=K.composedPath&&K.composedPath()[0]||K.target;if(!(_.props.interactive&&eO(I,Te))){if(gc(_.props.triggerTarget||e).some(function(Oe){return eO(Oe,Te)})){if(to.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[_,K]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||at())}}}function Me(){l=!0}function je(){l=!1}function ze(){var K=te();K.addEventListener("mousedown",le,!0),K.addEventListener("touchend",le,pc),K.addEventListener("touchstart",je,pc),K.addEventListener("touchmove",Me,pc)}function at(){var K=te();K.removeEventListener("mousedown",le,!0),K.removeEventListener("touchend",le,pc),K.removeEventListener("touchstart",je,pc),K.removeEventListener("touchmove",Me,pc)}function Gt(K,Te){mi(K,function(){!_.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&Te()})}function Tt(K,Te){mi(K,Te)}function mi(K,Te){var Oe=h().box;function He(Xe){Xe.target===Oe&&(h_(Oe,"remove",He),Te())}if(K===0)return Te();h_(Oe,"remove",d),h_(Oe,"add",He),d=He}function Rt(K,Te,Oe){Oe===void 0&&(Oe=!1);var He=gc(_.props.triggerTarget||e);He.forEach(function(Xe){Xe.addEventListener(K,Te,Oe),y.push({node:Xe,eventType:K,handler:Te,options:Oe})})}function ri(){j()&&(Rt("touchstart",V,{passive:!0}),Rt("touchend",H,{passive:!0})),cce(_.props.trigger).forEach(function(K){if(K!=="manual")switch(Rt(K,V),K){case"mouseenter":Rt("mouseleave",H);break;case"focus":Rt(bce?"focusout":"blur",oe);break;case"focusin":Rt("focusout",oe);break}})}function Ji(){y.forEach(function(K){var Te=K.node,Oe=K.eventType,He=K.handler,Xe=K.options;Te.removeEventListener(Oe,He,Xe)}),y=[]}function V(K){var Te,Oe=!1;if(!(!_.state.isEnabled||Q(K)||a)){var He=((Te=f)==null?void 0:Te.type)==="focus";f=K,b=K.currentTarget,Y(),!_.state.isVisible&&J3(K)&&U0.forEach(function(Xe){return Xe(K)}),K.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?Oe=!0:G(K),K.type==="click"&&(o=!Oe),Oe&&!He&&ee(K)}}function D(K){var Te=K.target,Oe=q().contains(Te)||I.contains(Te);if(!(K.type==="mousemove"&&Oe)){var He=k().concat(I).map(function(Xe){var Di,cr=Xe._tippy,Dn=(Di=cr.popperInstance)==null?void 0:Di.state;return Dn?{popperRect:Xe.getBoundingClientRect(),popperState:Dn,props:i}:null}).filter(Boolean);pce(He,K)&&(pe(),ee(K))}}function H(K){var Te=Q(K)||_.props.trigger.indexOf("click")>=0&&o;if(!Te){if(_.props.interactive){_.hideWithInteractivity(K);return}ee(K)}}function oe(K){_.props.trigger.indexOf("focusin")<0&&K.target!==q()||_.props.interactive&&K.relatedTarget&&I.contains(K.relatedTarget)||ee(K)}function Q(K){return to.isTouch?j()!==K.type.indexOf("touch")>=0:!1}function ce(){ye();var K=_.props,Te=K.popperOptions,Oe=K.placement,He=K.offset,Xe=K.getReferenceClientRect,Di=K.moveTransition,cr=F()?u1(I).arrow:null,Dn=Xe?{getBoundingClientRect:Xe,contextElement:Xe.contextElement||q()}:e,pa={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(yu){var ma=yu.state;if(F()){var tb=h(),gu=tb.box;["placement","reference-hidden","escaped"].forEach(function(Fl){Fl==="placement"?gu.setAttribute("data-placement",ma.placement):ma.attributes.popper["data-popper-"+Fl]?gu.setAttribute("data-"+Fl,""):gu.removeAttribute("data-"+Fl)}),ma.attributes.popper={}}}},Oo=[{name:"offset",options:{offset:He}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Di}},pa];F()&&cr&&Oo.push({name:"arrow",options:{element:cr,padding:3}}),Oo.push.apply(Oo,Te?.modifiers||[]),_.popperInstance=oce(Dn,I,Object.assign({},Te,{placement:Oe,onFirstUpdate:p,modifiers:Oo}))}function ye(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function L(){var K=_.props.appendTo,Te,Oe=q();_.props.interactive&&K===o9||K==="parent"?Te=Oe.parentNode:Te=a9(K,[Oe]),Te.contains(I)||Te.appendChild(I),_.state.isMounted=!0,ce()}function k(){return uf(I.querySelectorAll("[data-tippy-root]"))}function G(K){_.clearDelayTimeouts(),K&&$("onTrigger",[_,K]),ze();var Te=m(!0),Oe=U(),He=Oe[0],Xe=Oe[1];to.isTouch&&He==="hold"&&Xe&&(Te=Xe),Te?r=setTimeout(function(){_.show()},Te):_.show()}function ee(K){if(_.clearDelayTimeouts(),$("onUntrigger",[_,K]),!_.state.isVisible){at();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(K.type)>=0&&o)){var Te=m(!1);Te?s=setTimeout(function(){_.state.isVisible&&_.hide()},Te):n=requestAnimationFrame(function(){_.hide()})}}function se(){_.state.isEnabled=!0}function ne(){_.hide(),_.state.isEnabled=!1}function W(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(n)}function Z(K){if(!_.state.isDestroyed){$("onBeforeUpdate",[_,K]),Ji();var Te=_.props,Oe=iO(e,Object.assign({},Te,QI(K),{ignoreAttributes:!0}));_.props=Oe,ri(),Te.interactiveDebounce!==Oe.interactiveDebounce&&(pe(),v=KI(D,Oe.interactiveDebounce)),Te.triggerTarget&&!Oe.triggerTarget?gc(Te.triggerTarget).forEach(function(He){He.removeAttribute("aria-expanded")}):Oe.triggerTarget&&e.removeAttribute("aria-expanded"),Y(),x(),C&&C(Te,Oe),_.popperInstance&&(ce(),k().forEach(function(He){requestAnimationFrame(He._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[_,K])}}function Ae(K){_.setProps({content:K})}function ke(){var K=_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,He=to.isTouch&&!_.props.touch,Xe=c_(_.props.duration,0,gn.duration);if(!(K||Te||Oe||He)&&!q().hasAttribute("disabled")&&($("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,F()&&(I.style.visibility="visible"),x(),ze(),_.state.isMounted||(I.style.transition="none"),F()){var Di=h(),cr=Di.box,Dn=Di.content;u_([cr,Dn],0)}p=function(){var Oo;if(!(!_.state.isVisible||c)){if(c=!0,I.offsetHeight,I.style.transition=_.props.moveTransition,F()&&_.props.animation){var Pf=h(),yu=Pf.box,ma=Pf.content;u_([yu,ma],Xe),nm([yu,ma],"visible")}B(),Y(),XI(f_,_),(Oo=_.popperInstance)==null||Oo.forceUpdate(),$("onMount",[_]),_.props.animation&&F()&&Tt(Xe,function(){_.state.isShown=!0,$("onShown",[_])})}},L()}}function Dt(){var K=!_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,He=c_(_.props.duration,1,gn.duration);if(!(K||Te||Oe)&&($("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,F()&&(I.style.visibility="hidden"),pe(),at(),x(!0),F()){var Xe=h(),Di=Xe.box,cr=Xe.content;_.props.animation&&(u_([Di,cr],He),nm([Di,cr],"hidden"))}B(),Y(),_.props.animation?F()&&Gt(He,_.unmount):_.unmount()}}function zt(K){te().addEventListener("mousemove",v),XI(U0,v),v(K)}function ai(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ye(),k().forEach(function(K){K._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),f_=f_.filter(function(K){return K!==_}),_.state.isMounted=!1,$("onHidden",[_]))}function Ri(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),Ji(),delete e._tippy,_.state.isDestroyed=!0,$("onDestroy",[_]))}}function Le(e,t){t===void 0&&(t={});var i=gn.plugins.concat(t.plugins||[]);gce();var r=Object.assign({},t,{plugins:i}),s=dce(e),n=s.reduce(function(o,a){var l=a&&Mce(a,r);return l&&o.push(l),o},[]);return Jv(e)?n[0]:n}Le.defaultProps=gn;Le.setDefaultProps=Sce;Le.currentInput=to;var Ice=Object.assign({},JR,{effect:function(t){var i=t.state,r={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,r.popper),i.styles=r,i.elements.arrow&&Object.assign(i.elements.arrow.style,r.arrow)}}),Oce=function(t,i){var r;i===void 0&&(i={});var s=t,n=[],o=[],a,l=i.overrides,c=[],f=!1;function d(){o=s.map(function(_){return gc(_.props.triggerTarget||_.reference)}).reduce(function(_,M){return _.concat(M)},[])}function p(){n=s.map(function(_){return _.reference})}function y(_){s.forEach(function(M){_?M.enable():M.disable()})}function v(_){return s.map(function(M){var I=M.setProps;return M.setProps=function(C){I(C),M.reference===a&&_.setProps(C)},function(){M.setProps=I}})}function b(_,M){var I=o.indexOf(M);if(M!==a){a=M;var C=(l||[]).concat("content").reduce(function(P,N){return P[N]=s[I].props[N],P},{});_.setProps(Object.assign({},C,{getReferenceClientRect:typeof C.getReferenceClientRect=="function"?C.getReferenceClientRect:function(){var P;return(P=n[I])==null?void 0:P.getBoundingClientRect()}}))}}y(!1),p(),d();var E={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function(I){I.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function(I){I.props.showOnCreate&&!f&&(f=!0,b(I,n[0]))},onTrigger:function(I,C){b(I,C.currentTarget)}}}},S=Le(Lc(),Object.assign({},lce(i,["overrides"]),{plugins:[E].concat(i.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},i.popperOptions,{modifiers:[].concat(((r=i.popperOptions)==null?void 0:r.modifiers)||[],[Ice])})})),T=S.show;S.show=function(_){if(T(),!a&&_==null)return b(S,n[0]);if(!(a&&_==null)){if(typeof _=="number")return n[_]&&b(S,n[_]);if(s.indexOf(_)>=0){var M=_.reference;return b(S,M)}if(n.indexOf(_)>=0)return b(S,_)}},S.showNext=function(){var _=n[0];if(!a)return S.show(0);var M=n.indexOf(a);S.show(n[M+1]||_)},S.showPrevious=function(){var _=n[n.length-1];if(!a)return S.show(_);var M=n.indexOf(a),I=n[M-1]||_;S.show(I)};var w=S.setProps;return S.setProps=function(_){l=_.overrides||l,w(_)},S.setInstances=function(_){y(!0),c.forEach(function(M){return M()}),s=_,y(!1),p(),d(),c=v(S),S.setProps({triggerTarget:o})},c=v(S),S},$ce={name:"animateFill",defaultValue:!1,fn:function(t){var i;if(!((i=t.props.render)!=null&&i.$$tippy))return{};var r=u1(t.popper),s=r.box,n=r.content,o=t.props.animateFill?Cce():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,c=Number(l.replace("ms",""));n.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,nm([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&nm([o],"hidden")}}}};function Cce(){var e=Lc();return e.className=r9,nm([e],"hidden"),e}var Ex={clientX:0,clientY:0},j0=[];function d9(e){var t=e.clientX,i=e.clientY;Ex={clientX:t,clientY:i}}function Nce(e){e.addEventListener("mousemove",d9)}function Pce(e){e.removeEventListener("mousemove",d9)}var Lce={name:"followCursor",defaultValue:!1,fn:function(t){var i=t.reference,r=c9(t.props.triggerTarget||i),s=!1,n=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){r.addEventListener("mousemove",p)}function f(){r.removeEventListener("mousemove",p)}function d(){s=!0,t.setProps({getReferenceClientRect:null}),s=!1}function p(b){var E=b.target?i.contains(b.target):!0,S=t.props.followCursor,T=b.clientX,w=b.clientY,_=i.getBoundingClientRect(),M=T-_.left,I=w-_.top;(E||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var P=i.getBoundingClientRect(),N=T,U=w;S==="initial"&&(N=P.left+M,U=P.top+I);var j=S==="horizontal"?P.top:U,F=S==="vertical"?P.right:N,q=S==="horizontal"?P.bottom:U,te=S==="vertical"?P.left:N;return{width:F-te,height:q-j,top:j,right:F,bottom:q,left:te}}})}function y(){t.props.followCursor&&(j0.push({instance:t,doc:r}),Nce(r))}function v(){j0=j0.filter(function(b){return b.instance!==t}),j0.filter(function(b){return b.doc===r}).length===0&&Pce(r)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(E,S){var T=S.followCursor;s||T!==void 0&&a.followCursor!==T&&(v(),T?(y(),t.state.isMounted&&!n&&!l()&&c()):(f(),d()))},onMount:function(){t.props.followCursor&&!n&&(o&&(p(Ex),o=!1),l()||c())},onTrigger:function(E,S){J3(S)&&(Ex={clientX:S.clientX,clientY:S.clientY}),n=S.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),f(),o=!0)}}}};function kce(e,t){var i;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((i=e.popperOptions)==null?void 0:i.modifiers)||[]).filter(function(r){var s=r.name;return s!==t.name}),[t])})}}var Rce={name:"inlinePositioning",defaultValue:!1,fn:function(t){var i=t.reference;function r(){return!!t.props.inlinePositioning}var s,n=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;r()&&(a.indexOf(v.placement)!==-1&&(a=[]),s!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),t.setProps({getReferenceClientRect:function(){return c(v.placement)}})),s=v.placement)}};function c(p){return Dce(l9(p),i.getBoundingClientRect(),uf(i.getClientRects()),n)}function f(p){o=!0,t.setProps(p),o=!1}function d(){o||f(kce(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(J3(v)){var b=uf(t.reference.getClientRects()),E=b.find(function(T){return T.left-2<=v.clientX&&T.right+2>=v.clientX&&T.top-2<=v.clientY&&T.bottom+2>=v.clientY}),S=b.indexOf(E);n=S>-1?S:n}},onHidden:function(){n=-1}}}};function Dce(e,t,i,r){if(i.length<2||e===null)return t;if(i.length===2&&r>=0&&i[0].left>i[1].right)return i[r]||t;switch(e){case"top":case"bottom":{var s=i[0],n=i[i.length-1],o=e==="top",a=s.top,l=n.bottom,c=o?s.left:n.left,f=o?s.right:n.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,i.map(function(I){return I.left})),v=Math.max.apply(Math,i.map(function(I){return I.right})),b=i.filter(function(I){return e==="left"?I.left===y:I.right===v}),E=b[0].top,S=b[b.length-1].bottom,T=y,w=v,_=w-T,M=S-E;return{top:E,bottom:S,left:T,right:w,width:_,height:M}}default:return t}}var Fce={name:"sticky",defaultValue:!1,fn:function(t){var i=t.reference,r=t.popper;function s(){return t.popperInstance?t.popperInstance.state.elements.reference:i}function n(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=n("reference")?s().getBoundingClientRect():null,f=n("popper")?r.getBoundingClientRect():null;(c&&nO(o,c)||f&&nO(a,f))&&t.popperInstance&&t.popperInstance.update(),o=c,a=f,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function nO(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Le.setDefaultProps({render:f9});Le.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function Z3(e,t={},i={mount:!0,appName:"Tippy"}){i=Object.assign({mount:!0,appName:"Tippy"},i);const r=ki(),s=X(),n=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=$f();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=C=>{let P,N=ht(C)?C.value:C;return On(N)?(o.value||(o.value=wl({name:i.appName,setup:()=>()=>ht(C)?C.value:C}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):typeof N=="object"?(o.value||(o.value=wl({name:i.appName,setup:()=>()=>Vs(ht(C)?C.value:C)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):P=N,P},f=C=>{let P={};return ht(C)?P=C.value||{}:bs(C)?P={...C}:P={...C},P.content&&(P.content=c(P.content)),P.triggerTarget&&(P.triggerTarget=ht(P.triggerTarget)?P.triggerTarget.value:P.triggerTarget),(!P.plugins||!Array.isArray(P.plugins))&&(P.plugins=[]),P.plugins=P.plugins.filter(N=>N.name!=="vueTippyReactiveState"),P.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){n.value.isEnabled=!0},onMount(){n.value.isMounted=!0},onShow(){n.value.isMounted=!0,n.value.isVisible=!0},onShown(){n.value.isShown=!0},onHide(){n.value.isMounted=!1,n.value.isVisible=!1},onHidden(){n.value.isShown=!1},onUnmounted(){n.value.isMounted=!1},onDestroy(){n.value.isDestroyed=!0}})}),P},d=()=>{s.value&&s.value.setProps(f(t))},p=()=>{!s.value||!t.content||s.value.setContent(c(t.content))},y=C=>{var P;(P=s.value)===null||P===void 0||P.setContent(c(C))},v=C=>{var P;(P=s.value)===null||P===void 0||P.setProps(f(C))},b=()=>{var C;s.value&&(s.value.destroy(),s.value=void 0),a=null,(C=o.value)===null||C===void 0||C.unmount(),o.value=void 0},E=()=>{var C;(C=s.value)===null||C===void 0||C.show()},S=()=>{var C;(C=s.value)===null||C===void 0||C.hide()},T=()=>{var C;(C=s.value)===null||C===void 0||C.disable(),n.value.isEnabled=!1},w=()=>{var C;(C=s.value)===null||C===void 0||C.enable(),n.value.isEnabled=!0},_=()=>{var C;(C=s.value)===null||C===void 0||C.unmount()},M=()=>{if(!e)return;let C=ht(e)?e.value:e;typeof C=="function"&&(C=C()),C&&(s.value=Le(C,f(t)),C.$tippy=I)},I={tippy:s,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:b,hide:S,show:E,disable:T,enable:w,unmount:_,mount:M,state:n};return i.mount&&(r?r.isMounted?M():lr(M):M()),r&&du(()=>{b()}),ht(t)||bs(t)?Wi(t,d,{immediate:!1}):ht(t.content)&&Wi(t.content,p,{immediate:!1}),I}function Uce(e,t){const i=X();return lr(()=>{const s=(Array.isArray(e)?e.map(n=>n.value):typeof e=="function"?e():e.value).map(n=>n instanceof Element?n._tippy:n).filter(Boolean);i.value=Oce(s,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:i}}function jce(e){return typeof e=="function"?e():Ie(e)}function Vce(e){var t,i;const r=jce(e);return(i=(t=r)===null||t===void 0?void 0:t.$el)!==null&&i!==void 0?i:r}const Bce=rt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Le.defaultProps.appendTo},aria:{default:()=>Le.defaultProps.aria},delay:{default:()=>Le.defaultProps.delay},duration:{default:()=>Le.defaultProps.duration},getReferenceClientRect:{default:()=>Le.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Le.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Le.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Le.defaultProps.interactive},interactiveBorder:{default:()=>Le.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Le.defaultProps.interactiveDebounce},moveTransition:{default:()=>Le.defaultProps.moveTransition},offset:{default:()=>Le.defaultProps.offset},onAfterUpdate:{default:()=>Le.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Le.defaultProps.onBeforeUpdate},onCreate:{default:()=>Le.defaultProps.onCreate},onDestroy:{default:()=>Le.defaultProps.onDestroy},onHidden:{default:()=>Le.defaultProps.onHidden},onHide:{default:()=>Le.defaultProps.onHide},onMount:{default:()=>Le.defaultProps.onMount},onShow:{default:()=>Le.defaultProps.onShow},onShown:{default:()=>Le.defaultProps.onShown},onTrigger:{default:()=>Le.defaultProps.onTrigger},onUntrigger:{default:()=>Le.defaultProps.onUntrigger},onClickOutside:{default:()=>Le.defaultProps.onClickOutside},placement:{default:()=>Le.defaultProps.placement},plugins:{default:()=>Le.defaultProps.plugins},popperOptions:{default:()=>Le.defaultProps.popperOptions},render:{default:()=>Le.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Le.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Le.defaultProps.touch},trigger:{default:()=>Le.defaultProps.trigger},triggerTarget:{default:()=>Le.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Le.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Le.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Le.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Le.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Le.defaultProps.allowHTML},animation:{default:()=>Le.defaultProps.animation},arrow:{default:()=>Le.defaultProps.arrow},content:{default:()=>Le.defaultProps.content},inertia:{default:()=>Le.defaultProps.inertia},maxWidth:{default:()=>Le.defaultProps.maxWidth},role:{default:()=>Le.defaultProps.role},theme:{default:()=>Le.defaultProps.theme},zIndex:{default:()=>Le.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:i,expose:r}){const s=X(),n=X(),o=X(),a=X(!1),l=()=>{let y={...e};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>Vce(s);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=s.value;return y||(y=s.value=n.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const f=Z3(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),lr(()=>{a.value=!0,Ln(()=>{d&&f.setContent(()=>o.value)})}),Wi(f.state,()=>{i("state",Ie(f.state))},{immediate:!0,deep:!0}),Wi(()=>e,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=tr({elem:s,contentElem:o,mounted:a,...f});return r(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),v=d?Vs(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const S=[];if(!s.value){const T=Vs("span",{ref:n,"data-v-tippy":"",style:{display:"none"}});S.push(T)}return v&&S.push(v),S}const b=t.default?t.default(p):[];if(!e.tag){const S=Vs(b[0],{ref:s,"data-v-tippy":""});return v?[S,v]:S}const E=(typeof e.tag=="string",e.tag);return Vs(E,{ref:s,"data-v-tippy":""},v?[b,v]:b)}}}),Gce=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let Ax={};Object.keys(Le.defaultProps).forEach(e=>{Gce.includes(e)?Ax[e]={type:Boolean,default:function(){return Le.defaultProps[e]}}:Ax[e]={default:function(){return Le.defaultProps[e]}}});const zce=rt({props:Ax,setup(e){const t=X([]),{singleton:i}=Uce(t,e);return{instances:t,singleton:i}},mounted(){var e;const i=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(i).map(r=>r._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return Vs(()=>e)}}),qce={mounted(e,t,i){const r=typeof t.value=="string"?{content:t.value}:t.value||{},s=Object.keys(t.modifiers||{}),n=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;n&&(r.placement=r.placement||n),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),i.props&&i.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),i.props&&i.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),i.props&&i.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),i.props&&i.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),i.props&&i.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),Z3(e,r)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const i=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(i||{}):e._tippy&&e._tippy.setProps(i||{})}},Wce={install(e,t={}){Le.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",qce),e.component(t.component||"tippy",Bce),e.component(t.componentSingleton||"tippy-singleton",zce)}},p9=Le.setDefaultProps;p9({ignoreAttributes:!0,plugins:[Fce,Rce,Lce,$ce]});const Hce=rt({name:"App",components:{Shell:tle},setup(){const e=ki();lr(()=>{new PR().observe(e?.proxy?.$refs["app-size"]),p9({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),Yce=["lang"],Jce={class:"h-full",ref:"app-size"};function Zce(e,t,i,r,s,n){const o=_i("shell");return fe(),xe("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ue("div",Jce,[Ke(o)],512)],8,Yce)}const Kce=da(Hce,[["render",Zce]]),io="focus-list",Jl="focus-item",Xce="focus-icon",Qce="focus-container",Th=`[${io}],[${Qce}]`,V0="truncate-text",B0="show-truncate",nh="focused",Tx=`button,input,select,a,textarea,[contenteditable],[${io}],[${Xce}],[tabIndex]`,eue={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(io,!0),new tue(e,t.value)},updated(e){m9(e)}};function m9(e){e.querySelectorAll(Tx).forEach(i=>{if(i.closest(Th)===e||i.closest(Th)===i&&i.parentElement.closest(Th)===e)if(i.closest(`[${io}],.${nh}`).classList.contains(nh))i.setAttribute("tabindex","0");else{i.setAttribute("tabindex","-1");return}})}class tue{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,i){this.element=t,this.highlightedItem=this.element,this.isHorizontal=i==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const r=this;t.addEventListener("keydown",function(s){r.onKeydown(s)}),t.addEventListener("focus",function(){r.onFocus()}),t.addEventListener("blur",function(){r.onBlur()}),t.addEventListener("mousedown",function(){r.onMousedown()}),t.addEventListener("touchstart",function(){r.onTouchstart()}),t.addEventListener("refocusLegendItem",s=>{const o=s.detail.focusItem;r.element.focus(),r.focusItem(o),this.highlightedItem=o}),document.addEventListener("click",function(s){s.target&&t.contains(s.target)?r.onClick(s):r.defocusItem(r.highlightedItem)})}setTabIndex(t,i=this.element){i.querySelectorAll(Tx).forEach(s=>{(t===-1||s.closest(Th)===this.element||s.closest(Th)===s&&s.parentElement.closest(Th)===this.element||s.closest(`[${io}],.${nh}`).classList.contains(nh))&&s.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(nh),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(Jl)===B0&&t.querySelector(`[${V0}]`)?._tippy?.hide()}focusItem(t){t.classList.add(nh),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(Jl)===B0&&t.querySelector(`[${V0}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,i=!1){if(this.defocusItem(this.highlightedItem),i)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const i=this,r=Array.prototype.filter.call(this.element.querySelectorAll(`[${Jl}]`),s=>s.closest(`[${io}]`)===i.element&&!!s.offsetParent);if(r.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":const s=this.highlightedItem.querySelectorAll(Tx).length===0,n=this.element.isEqualNode(t.target);this.highlightedItem!==this.element&&n&&(s&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let i=t.target;if(!i.hasAttribute(io))for(;i.parentElement.closest(`[${io}]`)!==this.element;)i=i.parentElement.closest(`[${io}]`);this.highlightedItem=i.closest(`[${Jl}]`)||i.closest(`[${io}]`)||this.highlightedItem,i.hasAttribute(`${Jl}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(Jl)===B0&&this.highlightedItem.querySelector(`[${V0}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),m9(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(Jl)===B0&&this.highlightedItem.querySelector(`[${V0}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const oO="focus-item",iue={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",rue()),t.value?e.setAttribute(oO,t.value):e.toggleAttribute(oO,!0)}};function rue(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const K3="focus-container",y9="focus-list",sue="focus-icon",d_=`[${y9}],[${K3}]`,aO=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${y9}],[${K3}],[${sue}],[tabIndex]`;let p_=[];const nue={mounted(e){[...document.querySelectorAll(".inner-shell")].some(i=>i.contains(e))&&p_.push(new oue(e))},beforeUnmount(e){p_=p_.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class oue{element;constructor(t){this.element=t,this.element.toggleAttribute(K3,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const i=this;this.element.addEventListener("keypress",function(r){i.onKeypress(r)}),this.element.addEventListener("click",function(){i.onClick()}),this.element.addEventListener("focusout",function(r){i.onFocusOut(r)}),this.element.addEventListener("focus",function(){i.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(i){t.onKeypress(i)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(i){t.onFocusOut(i)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(aO),()=>!0).forEach(i=>{i.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(aO),i=>{(i.closest(d_)===this.element||i.closest(d_)===i&&i.parentElement.closest(d_)===this.element)&&i.offsetParent&&(i.tabIndex=0,t===void 0&&(t=i))}),t}}const aue="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",lue="ÎµÎ»1Ï…2Ð±Ð³1ÐµÐ»3Ð´ÐµÑ‚Ð¸4ÐµÑŽ2ÐºÐ°Ñ‚Ð¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5Ñ€Ð³3Ñ€ÑƒÑ2Ñ„2ÑÐ°Ð¹Ñ‚3Ñ€Ð±3ÑƒÐºÑ€3Ò›Ð°Ð·3Õ°Õ¡Õµ3×™×©×¨××œ5×§×•×3Ø§Ø¨ÙˆØ¸Ø¨ÙŠ5ØªØµØ§Ù„Ø§Øª6Ø±Ø§Ù…ÙƒÙˆ5Ù„Ø§Ø±Ø¯Ù†4Ø¨Ø­Ø±ÙŠÙ†5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙˆØ¯ÙŠØ©6Ø¹Ù„ÙŠØ§Ù†5Ù…ØºØ±Ø¨5Ù…Ø§Ø±Ø§Øª5ÛŒØ±Ø§Ù†5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙŠØªÙƒ3Ú¾Ø§Ø±Øª5ØªÙˆÙ†Ø³4Ø³ÙˆØ¯Ø§Ù†3Ø±ÙŠØ©5Ø´Ø¨ÙƒØ©4Ø¹Ø±Ø§Ù‚2Ø¨2Ù…Ø§Ù†4ÙÙ„Ø³Ø·ÙŠÙ†6Ù‚Ø·Ø±3ÙƒØ§Ø«ÙˆÙ„ÙŠÙƒ6ÙˆÙ…3Ù…ØµØ±2Ù„ÙŠØ³ÙŠØ§5ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§7Ù‚Ø¹4Ù‡Ù…Ø±Ø§Ù‡5Ù¾Ø§Ú©Ø³ØªØ§Ù†7Ú€Ø§Ø±Øª4à¤•à¥‰à¤®3à¤¨à¥‡à¤Ÿ3à¤­à¤¾à¤°à¤¤_à¤®à¥3à¥‹à¤¤5à¤¸à¤‚à¤—à¤ à¤¨5à¦¬à¦¾à¦‚à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®‡à®¨à¯à®¤à®¿à®¯à®¾6à®²à®™à¯à®•à¯ˆ6à®šà®¿à®™à¯à®•à®ªà¯à®ªà¯‚à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´‚5à¶½à¶‚à¶šà·4à¸„à¸­à¸¡3à¹„à¸—à¸¢3àº¥àº²àº§3áƒ’áƒ”2ã¿ã‚“ãª3ã‚¢ãƒžã‚¾ãƒ³4ã‚¯ãƒ©ã‚¦ãƒ‰4ã‚°ãƒ¼ã‚°ãƒ«4ã‚³ãƒ 2ã‚¹ãƒˆã‚¢3ã‚»ãƒ¼ãƒ«3ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³6ãƒã‚¤ãƒ³ãƒˆ4ä¸–ç•Œ2ä¸­ä¿¡1å›½1åœ‹1æ–‡ç½‘3äºšé©¬é€Š3ä¼ä¸š2ä½›å±±2ä¿¡æ¯2å¥åº·2å…«å¦2å…¬å¸1ç›Š2å°æ¹¾1ç£2å•†åŸŽ1åº—1æ ‡2å˜‰é‡Œ_å¤§é…’åº—5åœ¨çº¿2å¤§æ‹¿2å¤©ä¸»æ•™3å¨±ä¹2å®¶é›»2å¹¿ä¸œ2å¾®åš2æ…ˆå–„2æˆ‘çˆ±ä½ 3æ‰‹æœº2æ‹›è˜2æ”¿åŠ¡1åºœ2æ–°åŠ å¡2é—»2æ—¶å°š2æ›¸ç±2æœºæž„2æ·¡é©¬é”¡3æ¸¸æˆ2æ¾³é–€2ç‚¹çœ‹2ç§»åŠ¨2ç»„ç»‡æœºæž„4ç½‘å€1åº—1ç«™1ç»œ2è”é€š2è°·æ­Œ2è´­ç‰©2é€šè²©2é›†å›¢2é›»è¨Šç›ˆç§‘4é£žåˆ©æµ¦3é£Ÿå“2é¤åŽ…2é¦™æ ¼é‡Œæ‹‰3æ¸¯2ë‹·ë„·1ì»´2ì‚¼ì„±2í•œêµ­2",hf=(e,t)=>{for(const i in t)e[i]=t[i];return e},Mx="numeric",Ix="ascii",Ox="alpha",zy="asciinumeric",G0="alphanumeric",$x="domain",g9="emoji",cue="scheme",uue="slashscheme",lO="whitespace";function hue(e,t){return e in t||(t[e]=[]),t[e]}function Ec(e,t,i){t[Mx]&&(t[zy]=!0,t[G0]=!0),t[Ix]&&(t[zy]=!0,t[Ox]=!0),t[zy]&&(t[G0]=!0),t[Ox]&&(t[G0]=!0),t[G0]&&(t[$x]=!0),t[g9]&&(t[$x]=!0);for(const r in t){const s=hue(r,i);s.indexOf(e)<0&&s.push(e)}}function fue(e,t){const i={};for(const r in t)t[r].indexOf(e)>=0&&(i[r]=!0);return i}function ds(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}ds.groups={};ds.prototype={accepts(){return!!this.t},go(e){const t=this,i=t.j[e];if(i)return i;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],n=t.jr[r][1];if(n&&s.test(e))return n}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,i,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,i,r)},tr(e,t,i,r){r=r||ds.groups;let s;return t&&t.j?s=t:(s=new ds(t),i&&r&&Ec(t,i,r)),this.jr.push([e,s]),s},ts(e,t,i,r){let s=this;const n=e.length;if(!n)return s;for(let o=0;o<n-1;o++)s=s.tt(e[o]);return s.tt(e[n-1],t,i,r)},tt(e,t,i,r){r=r||ds.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const n=t;let o,a=s.go(e);if(a?(o=new ds,hf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new ds,n){if(r)if(o.t&&typeof o.t=="string"){const l=hf(fue(o.t,r),i);Ec(n,l,r)}else i&&Ec(n,i,r);o.t=n}return s.j[e]=o,o}};const Re=(e,t,i,r,s)=>e.ta(t,i,r,s),Os=(e,t,i,r,s)=>e.tr(t,i,r,s),cO=(e,t,i,r,s)=>e.ts(t,i,r,s),me=(e,t,i,r,s)=>e.tt(t,i,r,s),zo="WORD",Cx="UWORD",om="LOCALHOST",Nx="TLD",Px="UTLD",qy="SCHEME",Hu="SLASH_SCHEME",h1="NUM",v9="WS",X3="NL",oh="OPENBRACE",lp="OPENBRACKET",cp="OPENANGLEBRACKET",up="OPENPAREN",vc="CLOSEBRACE",ah="CLOSEBRACKET",lh="CLOSEANGLEBRACKET",bc="CLOSEPAREN",f1="AMPERSAND",d1="APOSTROPHE",p1="ASTERISK",Ka="AT",m1="BACKSLASH",y1="BACKTICK",g1="CARET",tl="COLON",Q3="COMMA",v1="DOLLAR",Kn="DOT",b1="EQUALS",eA="EXCLAMATION",Xn="HYPHEN",_1="PERCENT",w1="PIPE",x1="PLUS",S1="POUND",E1="QUERY",tA="QUOTE",iA="SEMI",Ho="SLASH",hp="TILDE",A1="UNDERSCORE",b9="EMOJI",T1="SYM";var _9=Object.freeze({__proto__:null,WORD:zo,UWORD:Cx,LOCALHOST:om,TLD:Nx,UTLD:Px,SCHEME:qy,SLASH_SCHEME:Hu,NUM:h1,WS:v9,NL:X3,OPENBRACE:oh,OPENBRACKET:lp,OPENANGLEBRACKET:cp,OPENPAREN:up,CLOSEBRACE:vc,CLOSEBRACKET:ah,CLOSEANGLEBRACKET:lh,CLOSEPAREN:bc,AMPERSAND:f1,APOSTROPHE:d1,ASTERISK:p1,AT:Ka,BACKSLASH:m1,BACKTICK:y1,CARET:g1,COLON:tl,COMMA:Q3,DOLLAR:v1,DOT:Kn,EQUALS:b1,EXCLAMATION:eA,HYPHEN:Xn,PERCENT:_1,PIPE:w1,PLUS:x1,POUND:S1,QUERY:E1,QUOTE:tA,SEMI:iA,SLASH:Ho,TILDE:hp,UNDERSCORE:A1,EMOJI:b9,SYM:T1});const Nu=/[a-z]/,m_=/\p{L}/u,y_=/\p{Emoji}/u,g_=/\d/,uO=/\s/,hO=`
`,due="ï¸",pue="â€";let z0=null,q0=null;function mue(e){e===void 0&&(e=[]);const t={};ds.groups=t;const i=new ds;z0==null&&(z0=fO(aue)),q0==null&&(q0=fO(lue)),me(i,"'",d1),me(i,"{",oh),me(i,"[",lp),me(i,"<",cp),me(i,"(",up),me(i,"}",vc),me(i,"]",ah),me(i,">",lh),me(i,")",bc),me(i,"&",f1),me(i,"*",p1),me(i,"@",Ka),me(i,"`",y1),me(i,"^",g1),me(i,":",tl),me(i,",",Q3),me(i,"$",v1),me(i,".",Kn),me(i,"=",b1),me(i,"!",eA),me(i,"-",Xn),me(i,"%",_1),me(i,"|",w1),me(i,"+",x1),me(i,"#",S1),me(i,"?",E1),me(i,'"',tA),me(i,"/",Ho),me(i,";",iA),me(i,"~",hp),me(i,"_",A1),me(i,"\\",m1);const r=Os(i,g_,h1,{[Mx]:!0});Os(r,g_,r);const s=Os(i,Nu,zo,{[Ix]:!0});Os(s,Nu,s);const n=Os(i,m_,Cx,{[Ox]:!0});Os(n,Nu),Os(n,m_,n);const o=Os(i,uO,v9,{[lO]:!0});me(i,hO,X3,{[lO]:!0}),me(o,hO),Os(o,uO,o);const a=Os(i,y_,b9,{[g9]:!0});Os(a,y_,a),me(a,due,a);const l=me(a,pue);Os(l,y_,a);const c=[[Nu,s]],f=[[Nu,null],[m_,n]];for(let d=0;d<z0.length;d++)Ta(i,z0[d],Nx,zo,c);for(let d=0;d<q0.length;d++)Ta(i,q0[d],Px,Cx,f);Ec(Nx,{tld:!0,ascii:!0},t),Ec(Px,{utld:!0,alpha:!0},t),Ta(i,"file",qy,zo,c),Ta(i,"mailto",qy,zo,c),Ta(i,"http",Hu,zo,c),Ta(i,"https",Hu,zo,c),Ta(i,"ftp",Hu,zo,c),Ta(i,"ftps",Hu,zo,c),Ec(qy,{scheme:!0,ascii:!0},t),Ec(Hu,{slashscheme:!0,ascii:!0},t),e=e.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<e.length;d++){const p=e[d][0],v=e[d][1]?{[cue]:!0}:{[uue]:!0};p.indexOf("-")>=0?v[$x]=!0:Nu.test(p)?g_.test(p)?v[zy]=!0:v[Ix]=!0:v[Mx]=!0,cO(i,p,p,v)}return cO(i,"localhost",om,{ascii:!0}),i.jd=new ds(T1),{start:i,tokens:hf({groups:t},_9)}}function yue(e,t){const i=gue(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=i.length,s=[];let n=0,o=0;for(;o<r;){let a=e,l=null,c=0,f=null,d=-1,p=-1;for(;o<r&&(l=a.go(i[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=i[o].length,p++),c+=i[o].length,n+=i[o].length,o++;n-=d,o-=p,c-=d,s.push({t:f.t,v:t.slice(n-c,n),s:n-c,e:n})}return s}function gue(e){const t=[],i=e.length;let r=0;for(;r<i;){let s=e.charCodeAt(r),n,o=s<55296||s>56319||r+1===i||(n=e.charCodeAt(r+1))<56320||n>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Ta(e,t,i,r,s){let n;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?n=e.j[l]:(n=new ds(r),n.jr=s.slice(),e.j[l]=n),e=n}return n=new ds(i),n.jr=s.slice(),e.j[t[o-1]]=n,n}function fO(e){const t=[],i=[];let r=0,s="0123456789";for(;r<e.length;){let n=0;for(;s.indexOf(e[r+n])>=0;)n++;if(n>0){t.push(i.join(""));let o=parseInt(e.substring(r,r+n),10);for(;o>0;o--)i.pop();r+=n}else e[r]==="_"?(t.push(i.join("")),r++):(i.push(e[r]),r++)}return t}const am={defaultProtocol:"http",events:null,format:dO,formatHref:dO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function rA(e,t){t===void 0&&(t=null);let i=hf({},am);e&&(i=hf(i,e instanceof rA?e.o:e));const r=i.ignoreTags,s=[];for(let n=0;n<r.length;n++)s.push(r[n].toUpperCase());this.o=i,t&&(this.defaultRender=t),this.ignoreTags=s}rA.prototype={o:am,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,i){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=i.t in s?s[i.t]:am[e],typeof s=="function"&&r&&(s=s(t,i))):typeof s=="function"&&r&&(s=s(t,i.t,i)),s)},getObj(e,t,i){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,i.t,i)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function dO(e){return e}function w9(e,t){this.t="token",this.v=e,this.tk=t}w9.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),i=e.get("truncate",t,this),r=e.get("format",t,this);return i&&r.length>i?r.substring(0,i)+"â€¦":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=am.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,i=this.toFormattedHref(e),r=e.get("tagName",i,t),s=this.toFormattedString(e),n={},o=e.get("className",i,t),a=e.get("target",i,t),l=e.get("rel",i,t),c=e.getObj("attributes",i,t),f=e.getObj("events",i,t);return n.href=i,o&&(n.class=o),a&&(n.target=a),l&&(n.rel=l),c&&hf(n,c),{tagName:r,attributes:n,content:s,eventListeners:f}}};function Zv(e,t){class i extends w9{constructor(s,n){super(s,n),this.t=e}}for(const r in t)i.prototype[r]=t[r];return i.t=e,i}const pO=Zv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),mO=Zv("text"),vue=Zv("nl"),Zl=Zv("url",{isLink:!0,toHref(e){return e===void 0&&(e=am.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==om&&e[1].t===tl}}),Ki=e=>new ds(e);function bue(e){let{groups:t}=e;const i=t.domain.concat([f1,p1,Ka,m1,y1,g1,v1,b1,Xn,h1,_1,w1,x1,S1,Ho,T1,hp,A1]),r=[d1,lh,vc,ah,bc,tl,Q3,Kn,eA,cp,oh,lp,up,E1,tA,iA],s=[f1,d1,p1,m1,y1,g1,vc,v1,b1,Xn,h1,oh,_1,w1,x1,S1,E1,Ho,T1,hp,A1],n=Ki(),o=me(n,hp);Re(o,s,o),Re(o,t.domain,o);const a=Ki(),l=Ki(),c=Ki();Re(n,t.domain,a),Re(n,t.scheme,l),Re(n,t.slashscheme,c),Re(a,s,o),Re(a,t.domain,a);const f=me(a,Ka);me(o,Ka,f),me(l,Ka,f),me(c,Ka,f);const d=me(o,Kn);Re(d,s,o),Re(d,t.domain,o);const p=Ki();Re(f,t.domain,p),Re(p,t.domain,p);const y=me(p,Kn);Re(y,t.domain,p);const v=Ki(pO);Re(y,t.tld,v),Re(y,t.utld,v),me(f,om,v);const b=me(p,Xn);Re(b,t.domain,p),Re(v,t.domain,p),me(v,Kn,y),me(v,Xn,b);const E=me(v,tl);Re(E,t.numeric,pO);const S=me(a,Xn),T=me(a,Kn);Re(S,t.domain,a),Re(T,s,o),Re(T,t.domain,a);const w=Ki(Zl);Re(T,t.tld,w),Re(T,t.utld,w),Re(w,t.domain,a),Re(w,s,o),me(w,Kn,T),me(w,Xn,S),me(w,Ka,f);const _=me(w,tl),M=Ki(Zl);Re(_,t.numeric,M);const I=Ki(Zl),C=Ki();Re(I,i,I),Re(I,r,C),Re(C,i,I),Re(C,r,C),me(w,Ho,I),me(M,Ho,I);const P=me(l,tl),N=me(c,tl),U=me(N,Ho);me(U,Ho,P),Re(l,t.domain,a),me(l,Kn,T),me(l,Xn,S),Re(c,t.domain,a),me(c,Kn,T),me(c,Xn,S),Re(P,t.domain,I),me(P,Ho,I);const j=me(I,oh),F=me(I,lp),q=me(I,cp),te=me(I,up);me(C,oh,j),me(C,lp,F),me(C,cp,q),me(C,up,te),me(j,vc,I),me(F,ah,I),me(q,lh,I),me(te,bc,I),me(j,vc,I);const h=Ki(Zl),m=Ki(Zl),x=Ki(Zl),$=Ki(Zl);Re(j,i,h),Re(F,i,m),Re(q,i,x),Re(te,i,$);const B=Ki(),Y=Ki(),pe=Ki(),le=Ki();return Re(j,r),Re(F,r),Re(q,r),Re(te,r),Re(h,i,h),Re(m,i,m),Re(x,i,x),Re($,i,$),Re(h,r,h),Re(m,r,m),Re(x,r,x),Re($,r,$),Re(B,i,B),Re(Y,i,m),Re(pe,i,x),Re(le,i,$),Re(B,r,B),Re(Y,r,Y),Re(pe,r,pe),Re(le,r,le),me(m,ah,I),me(x,lh,I),me($,bc,I),me(h,vc,I),me(Y,ah,I),me(pe,lh,I),me(le,bc,I),me(B,bc,I),me(n,om,w),me(n,X3,vue),{start:n,tokens:_9}}function _ue(e,t,i){let r=i.length,s=0,n=[],o=[];for(;s<r;){let a=e,l=null,c=null,f=0,d=null,p=-1;for(;s<r&&!(l=a.go(i[s].t));)o.push(i[s++]);for(;s<r&&(c=l||a.go(i[s].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,s++,f++;if(p<0)s-=f,s<r&&(o.push(i[s]),s++);else{o.length>0&&(n.push(v_(mO,t,o)),o=[]),s-=p,f-=p;const y=d.t,v=i.slice(s-f,s);n.push(v_(y,t,v))}}return o.length>0&&n.push(v_(mO,t,o)),n}function v_(e,t,i){const r=i[0].s,s=i[i.length-1].e,n=t.slice(r,s);return new e(n,i)}const Cr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function wue(){Cr.scanner=mue(Cr.customSchemes);for(let e=0;e<Cr.tokenQueue.length;e++)Cr.tokenQueue[e][1]({scanner:Cr.scanner});Cr.parser=bue(Cr.scanner.tokens);for(let e=0;e<Cr.pluginQueue.length;e++)Cr.pluginQueue[e][1]({scanner:Cr.scanner,parser:Cr.parser});Cr.initialized=!0}function xue(e){return Cr.initialized||wue(),_ue(Cr.parser.start,e,yue(Cr.scanner.start,e))}var Sue={amp:"&",gt:">",lt:"<",nbsp:"Â ",quot:'"'},Eue=/^#[xX]([A-Fa-f0-9]+)$/,Aue=/^#([0-9]+)$/,Tue=/^([A-Za-z0-9]+)$/,Mue=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var i=t.match(Eue);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=t.match(Aue),i)return String.fromCharCode(parseInt(i[1],10));if(i=t.match(Tue),i)return this.named[i[1]]||"&"+i[1]+";"}},e}(),Iue=/[\t\n\f ]/,Oue=/[A-Za-z]/,$ue=/\r\n?/g;function hr(e){return Iue.test(e)}function yO(e){return Oue.test(e)}function Cue(e){return e.replace($ue,`
`)}var Nue=function(){function e(t,i,r){r===void 0&&(r="precompile"),this.delegate=t,this.entityParser=i,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var n=this.tagNameBuffer.toLowerCase();(n==="pre"||n==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),n=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&n!=="script"&&n!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||yO(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();n==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();hr(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();hr(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();hr(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!hr(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=n.toUpperCase()==="PUBLIC",a=n.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();hr(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();hr(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();hr(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();hr(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();hr(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();hr(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(hr(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();hr(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(hr(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();hr(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();hr(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();hr(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||yO(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=Cue(t);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var i=this.input.slice(this.index,t),r=this.entityParser.parse(i);if(r){for(var s=i.length;s;)this.consume(),s--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),Pue=function(){function e(t,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Nue(this,t,i.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var i=0;i<arguments.length;i++)if(t.type===arguments[i])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=t:i.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=t:i.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function Lue(e,t){var i=new Pue(new Mue(Sue),t);return i.tokenize(e)}const x9="LinkifyResult",M1="StartTag",S9="EndTag",Lx="Chars",kue="Comment",Rue="Doctype";function Due(e,t){t===void 0&&(t={});const i=Lue(e),r=[],s=[],n=new rA(t,jue);for(let o=0;o<i.length;o++){const a=i[o];if(a.type===M1){r.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||n.ignoreTags.indexOf(l)>=0))continue;let f=r.length;Uue(l,i,++o,r),o+=r.length-f-1}else if(a.type!==Lx)r.push(a);else{const l=Fue(a.chars,n);r.push.apply(r,l)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case x9:s.push(a.rendered);break;case M1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Bue(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case S9:s.push(`</${a.tagName}>`);break;case Lx:s.push(kx(a.chars));break;case kue:s.push(`<!--${kx(a.chars)}-->`);break;case Rue:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",s.push(l);break}}}return s.join("")}function Fue(e,t){const i=xue(e),r=[];for(let s=0;s<i.length;s++){const n=i[s];n.t==="nl"&&t.get("nl2br")?r.push({type:M1,tagName:"br",attributes:[],selfClosing:!0}):!n.isLink||!t.check(n)?r.push({type:Lx,chars:n.toString()}):r.push({type:x9,rendered:t.render(n)})}return r}function Uue(e,t,i,r){let s=1;for(;i<t.length&&s>0;){let n=t[i];n.type===M1&&n.tagName.toUpperCase()===e?s++:n.type===S9&&n.tagName.toUpperCase()===e&&s--,r.push(n),i++}return r}function jue(e){let{tagName:t,attributes:i,content:r}=e;return`<${t} ${Vue(i)}>${kx(r)}</${t}>`}function kx(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function E9(e){return e.replace(/"/g,"&quot;")}function Vue(e){const t=[];for(const i in e){const r=e[i]+"";t.push(`${i}="${E9(r)}"`)}return t.join(" ")}function Bue(e){const t=[];for(let i=0;i<e.length;i++){const r=e[i][0],s=e[i][1]+"";t.push(`${r}="${E9(s)}"`)}return t}const Gue="truncate-text",zue="truncate-trigger",que={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(Gue,!0)},mounted(e,t){let i;t.value&&t.value.externalTrigger&&(i=e.closest(`[${zue}]`)),Z3(e,{content:gO(e.textContent),onShow:Wue,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:i,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(gO(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function Wue(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function gO(e){if(e===null)return"";let t=Due(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const Hue=["content"],Yue={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Jue={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Zue={key:1},Kue={key:0,class:"flex"},Xue=["innerHTML"],Que={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},ehe=rt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:i}=ii(),r=Xc(),s=i1(),n=Li("iApi"),o=Fg("el"),a=Fg("contentEl"),l=X();t({el:o});const c=e,f=tt(()=>n?.fixture.get("appbar")?s.temporary:[]),d=tt(()=>r.mobileView),p=tt(()=>r.reorderable),y=S=>S.scrollHeight>S.clientHeight,v=()=>!d.value&&!c.panel.teleport,b=S=>{c.panel.move(S),S==="left"&&Ln(()=>{(o.value?.querySelector(".move-left")).focus()})},E=tt(()=>c.screenId?c.panel.screens[c.screenId][n?.$i18n.locale.value??"en"]:null);return lr(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),kn(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(S,T)=>{const w=_i("back"),_=_i("panel-options-menu"),M=_i("left"),I=_i("right"),C=_i("pin"),P=_i("expand"),N=_i("minimize"),U=_i("close"),j=At("truncate"),F=At("focus-item"),q=At("tippy");return Et((fe(),xe("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Ie(i)(e.panel.alertName)+". "+Ie(i)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(fe(),xe("header",Yue,[Ke(w,{class:pi(e.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=te=>e.panel.close())},null,8,["class"]),Et((fe(),xe("h2",Jue,[S.$slots.header?pn(S.$slots,"header",{key:0}):(fe(),xe("div",Zue,jt(Ie(i)(e.panel.alertName)),1))])),[[j]]),S.$slots.controls?(fe(),Vt(_,{key:0},{default:Ti(()=>[pn(S.$slots,"controls")]),_:3})):Wt("",!0),ue("div",{class:pi(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Wt("",!0):(fe(),xe("div",Kue,[p.value?(fe(),Vt(M,{key:0,onClick:T[1]||(T[1]=te=>b("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Wt("",!0),p.value?(fe(),Vt(I,{key:1,onClick:T[2]||(T[2]=te=>b("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Wt("",!0),Ke(C,{onClick:T[3]||(T[3]=te=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(fe(),Vt(P,{key:2,onClick:T[4]||(T[4]=te=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Wt("",!0)])),e.panel.button&&f.value?.includes(e.panel.id)?(fe(),Vt(N,{key:1,onClick:T[5]||(T[5]=te=>e.panel.minimize())})):Wt("",!0),Ke(U,{onClick:T[6]||(T[6]=te=>e.panel.close())})],2)])):Wt("",!0),e.content?(fe(),xe("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[S.$slots.content?pn(S.$slots,"content",{key:0}):E.value?(fe(),xe("div",{key:1,innerHTML:E.value.innerHTML},null,8,Xue)):Wt("",!0)],512)):Wt("",!0),e.footer?Et((fe(),xe("div",Que,[pn(S.$slots,"footer")])),[[F]]):Wt("",!0)],8,Hue)),[[q,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),the={class:"relative"},ihe=["content","aria-label"],rhe=["transform"],she=rt({__name:"pin",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=At("tippy");return fe(),xe("div",the,[Et((fe(),xe("button",{type:"button",class:pi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Ie(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(fe(),xe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},r[0]||(r[0]=[ue("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,rhe))],10,ihe)),[[s,{placement:"bottom",hideOnClick:!1}]])])}}}),nhe={class:"relative"},ohe=["content","aria-label"],ahe=rt({__name:"close",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=At("tippy");return fe(),xe("div",nhe,[Et((fe(),xe("button",{type:"button",class:pi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.close"),"aria-label":Ie(t)("panels.controls.close")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ue("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,ohe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),lhe={class:"relative"},che=["content","aria-label"],uhe=rt({__name:"back",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=At("tippy");return fe(),xe("div",lhe,[Et((fe(),xe("button",{type:"button",class:pi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.back"),"aria-label":Ie(t)("panels.controls.back")},r[0]||(r[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ue("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,che)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),hhe={class:"w-32 h-32"},fhe=["content","aria-label"],dhe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},phe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},mhe=rt({__name:"expand",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=At("tippy");return fe(),xe("div",hhe,[Et((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Ie(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":Ie(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(fe(),xe("svg",phe,r[1]||(r[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ue("path",{d:"M4 12h16v2H4z"},null,-1)]))):(fe(),xe("svg",dhe,r[0]||(r[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,fhe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),yhe={class:"relative"},ghe=["content","aria-label"],vhe=rt({__name:"minimize",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=At("tippy");return fe(),xe("div",yhe,[Et((fe(),xe("button",{type:"button",class:pi(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:Ie(t)("panels.controls.minimize"),"aria-label":Ie(t)("panels.controls.minimize")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ue("path",{d:"M6 19h12v2H6z"})],-1)]),10,ghe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),bhe={class:"relative"},_he=["content","aria-label"],whe=rt({__name:"right",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=At("tippy");return fe(),xe("div",bhe,[Et((fe(),xe("button",{type:"button",class:pi(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ie(t)("panels.controls.moveRight"),"aria-label":Ie(t)("panels.controls.moveRight")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,_he)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),xhe={class:"relative"},She=["content","aria-label"],Ehe=rt({__name:"left",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=At("tippy");return fe(),xe("div",xhe,[Et((fe(),xe("button",{type:"button",class:pi(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ie(t)("panels.controls.moveLeft"),"aria-label":Ie(t)("panels.controls.moveLeft")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,She)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Ahe=rt({__name:"panel-options-menu",setup(e){const{t}=ii();return(i,r)=>(fe(),Vt(V3,{class:"flex",tooltip:Ie(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Ti(()=>r[0]||(r[0]=[ue("div",{class:"p-6"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ue("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Ti(()=>[pn(i.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),The=da(Ahe,[["__scopeId","data-v-5a275ac2"]]),Mhe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Ihe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Ohe=rt({__name:"fullscreen-nav",setup(e){const{t}=ii(),i=Li("iApi"),r=()=>{i.toggleFullscreen()};return(s,n)=>{const o=_i("mapnav-button");return fe(),Vt(o,{onClickFunction:r,tooltip:Ie(t)("mapnav.fullscreen")},{default:Ti(()=>[Ie(i).isFullscreen?(fe(),xe("svg",Mhe,n[0]||(n[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(fe(),xe("svg",Ihe,n[1]||(n[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),$he=rt({__name:"geolocator-nav",setup(e){const{t}=ii(),i=Li("iApi");let r=tr([]);const s=async()=>{if(r.length)n(r);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?i.notify.show(_s.ERROR,t("mapnav.geolocator.error.permission")):i.notify.show(_s.ERROR,t("mapnav.geolocator.error.internal"))});a&&(r=[a.coords.longitude,a.coords.latitude],n(r))}},n=a=>{const l=new Dr("geolocation",a,Ve.latLongSR(),!0);i.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=_i("mapnav-button");return fe(),Vt(c,{onClickFunction:s,tooltip:Ie(t)("mapnav.geolocator")},{default:Ti(()=>l[0]||(l[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),Che=rt({__name:"home-nav",setup(e){const{t}=ii(),i=Li("iApi"),r=()=>{const s=i.geo.map.getExtentSet();i.geo.map.zoomMapTo(s.fullExtent)};return(s,n)=>{const o=_i("mapnav-button");return fe(),Vt(o,{onClickFunction:r,tooltip:Ie(t)("mapnav.home")},{default:Ti(()=>n[0]||(n[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ue("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),Nhe={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},Phe=["content","aria-label"],Lhe=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,i)=>{const r=At("focus-item"),s=At("tippy");return fe(),xe("div",Nhe,[Et((fe(),xe("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:i[0]||(i[0]=n=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[pn(t.$slots,"default")],8,Phe)),[[r],[s,{placement:"left"}]])])}}}),khe={class:"relative",tabindex:"-1"},Rhe=["aria-label","content"],Dhe=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=Li("iApi"),i=e,r=()=>t?.event.emit($e.APPBAR_BUTTON_CLICK,i.buttonId);return(s,n)=>{const o=At("focus-item"),a=At("tippy");return fe(),xe("div",khe,[Et((fe(),xe("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{e.onClickFunction(),r()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[pn(s.$slots,"default",{},void 0,!0)],8,Rhe)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),Fhe=da(Dhe,[["__scopeId","data-v-8a68fa69"]]),Uhe=oi("areas-of-interest",()=>({areas:X([])})),jhe=oi("export",()=>{const e=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=X("");function i(r){if(e.value[r.name]!==void 0){const s=e.value[r.name];e.value[r.name]=r.selected!==void 0?r.selected:!s}}return{componentSelectedState:e,fileName:t,toggleSelected:i}}),Vhe=oi("extentguard",()=>{const e=X(!1);function t(l){e.value=l}const i=X(!1);function r(l){i.value=l}const s=X(!1);function n(l){s.value=l}const o=X([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:i,setEnforcing:r,alwaysOn:s,setAlwaysOn:n,extentSetIds:o,setExtentSetIds:a}}),Ym=function e(t){function i(s,n,o){var a,l={};if(Array.isArray(s))return s.concat(n);for(a in s)l[o?a.toLowerCase():a]=s[a];for(a in n){var c=o?a.toLowerCase():a,f=n[a];l[c]=c in l&&typeof f=="object"?i(l[c],f,c=="headers"):f}return l}function r(s,n,o,a,l){var c=typeof s!="string"?(n=s).url:s,f={config:n},d=i(t,n),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:i(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(f[v]=y[v]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(b){f.data=b,f.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return t=t||{},r.request=r,r.get=function(s,n){return r(s,n,"get")},r.delete=function(s,n){return r(s,n,"delete")},r.head=function(s,n){return r(s,n,"head")},r.options=function(s,n){return r(s,n,"options")},r.post=function(s,n,o){return r(s,o,"post",n)},r.put=function(s,n,o){return r(s,o,"put",n)},r.patch=function(s,n,o){return r(s,o,"patch",n)},r.all=Promise.all.bind(Promise),r.spread=function(s){return s.apply.bind(s,s)},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=t,r.create=e,r}(),Bhe={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},Ghe={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class zhe{provinceList=[];listFetched=!1;constructor(t){Ym.get(t).then(i=>{this.provinceList=i.data.definitions.map(s=>{const n=parseInt(s.code);return{code:n,abbr:Ghe[n],name:s.description}});const r={code:-1,abbr:"...",name:"..."};this.provinceList.push(r),this.provinceList.sort((s,n)=>s.name>n.name?1:-1),this.listFetched=!0})}codeToProvince(t){return this.provinceList.find(i=>i.code===t)}nameToProvince(t){return this.provinceList.find(i=>i.name===t)}fsaToProvince(t){let i;const r=t.toUpperCase(),s=r.substring(0,1);return s==="X"?r==="X0A"||r==="X0B"||r==="X0C"?i=62:i=61:i=Bhe[s],this.codeToProvince(i)}}function qhe(e){return new zhe(e)}const W0={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"RÃ©gion De Tri D'Acheminement",NTS:"SystÃ¨me National De RÃ©fÃ©rence Cartographique",COORD:"Latitude/Longitude",SCALE:"Ã‰chelle"}};class Whe{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,i){Ym.get(i).then(r=>{r.data.definitions.forEach(s=>{W0[t][s.code]=s.term.split(`${s.code}-`)[1]}),Object.keys(W0[t]).forEach(s=>{this.allTypes[s]=W0[t][s],this.validTypes[s]=W0[t][s]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const i of t)delete this.validTypes[i];return this.filterComplete=!0,this.validTypes}}function Hhe(e,t){return new Whe(e,t)}function Cn(e,t){return e.then(function(i){return[null,i]}).catch(function(i){return[i,void 0]})}class H0{config;query;failedServs=[];results=[];constructor(t,i=""){this.query=i,this.config=t}addResult(t){Array.isArray(t)?this.results=this.results.concat(t):this.results.push(t)}}async function Yhe(e,t){let i,r;const s=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,n=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return s.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")?(r=t.slice(0,-1),i=new H0(e,r),await Khe(i)):o.test(t)&&!e.disabledSearchTypes.includes("FSA")?(r=t.substring(0,3).toUpperCase(),i=new H0(e,r),await Xhe(i)):n.test(t)&&!e.disabledSearchTypes.includes("NTS")?(r=t.substring(0,6).toUpperCase(),i=new H0(e,r),await Qhe(i)):(r=encodeURIComponent(t.trim()),i=new H0(e,r),await efe(i)),i}const sA=async e=>{const[t,i]=await Cn(Ym.get(e));return t?(console.error("Request error from "+e),console.error(t),Promise.reject("Could not load results from remote service.")):i.data},Kv=(e,t,i)=>[e+i,t-i,e-i,t+i],nA=(e,t,i,r)=>{let s="";const n=e.config;return t?s=n.geoLocateUrl+"?q="+e.query:(i&&r?s=`${n.geoNameUrl}?lat=${i}&lon=${r}&num=${n.maxResults}`:s=`${n.geoNameUrl}?q=${e.query}&num=${n.maxResults}`,n.categories.length>0&&(s+=`&concise=${n.categories.join(",")}`),n.officialOnly&&(s+="&category=O")),s},A9=(e,t)=>t.filter(i=>e.types.validTypes[i.concise.code]).map(i=>({name:i.name,flav:"nme",bbox:i.bbox,type:e.types.allTypes[i.concise.code],position:[i.longitude,i.latitude],location:{city:i.location,province:e.provinces.codeToProvince(parseInt(i.province.code))},order:e.sortOrder.indexOf(i.concise.code)>=0?e.sortOrder.indexOf(i.concise.code):e.sortOrder.length})),oA=async e=>{const[t,i]=await Cn(sA(nA(e,!0)));return t?(console.error("Geolocation service failed"),e.failedServs.push("geolocation"),[]):i},Jhe=async e=>{const[t,i]=await Cn(sA(nA(e,!1)));let r;t?(console.error("GeoName service targeting Name failed"),e.failedServs.push("geoname"),r=[]):r=i.items,e.addResult(A9(e.config,r))},Zhe=async(e,t,i)=>{const[r,s]=await Cn(sA(nA(e,!1,t,i)));let n;r?(console.error("GeoName service targeting Lat Lon failed"),e.failedServs.push("geoname"),n=[]):n=s.items,e.addResult(A9(e.config,n))},Khe=async e=>{const t=e.query.split(/[\s|,|;|]/).filter(n=>!isNaN(n)&&n!=="").map(n=>parseFloat(n)),i=t[0],r=t[1],s={name:`${i},${r}`,flav:"llg",location:{},type:"Latitude/Longitude",position:[r,i],bbox:Kv(r,i,.015),order:-1};await Zhe(e,i,r),e.addResult(s)},Xhe=async e=>{const t=e.config,i=await oA(e);if(i.length){const s=i[0].geometry.coordinates,n=s[1],o=s[0],a={name:e.query,flav:"fsa",bbox:Kv(o,n,.03),type:t.types.allTypes.FSA,position:[o,n],location:{province:t.provinces.fsaToProvince(e.query)},order:-1};e.addResult(a)}},Qhe=async e=>{const t=e.config,i=await oA(e);if(i.length){const r=i[0],s=r.title.split(" "),n=s.shift()||"",o=s.join(" "),a=r.geometry.coordinates,l=a[1],c=a[0],f={name:n,flav:"nts",bbox:r.bbox??Kv(c,l,.03),type:t.types.allTypes.NTS,position:[c,l],location:{city:o},order:-1};e.addResult(f)}},efe=async e=>{const t=e.config;if(await Jhe(e),t.categories.length===0||t.categories.includes("ADDR")){const i=await oA(e),r=t.sortOrder.indexOf("ADDR"),s=r>=0?r:t.sortOrder.length,n=i.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),f=o.geometry.coordinates,d=f[1],p=f[0];return{name:a,flav:"add",bbox:Kv(p,d,.002),type:t.types.allTypes.ADDRESS,position:[p,d],location:{city:l.split(" Of ").pop(),province:t.provinces.nameToProvince(c)},order:s}});e.addResult(n)}},tfe="~FSA~",vO="https://geogratis.gc.ca/services/geolocation/@{language}/locate",bO="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",_O="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",wO="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class xO{config;constructor(t,i){let r,s,n,o;const a=i?.serviceUrls;a?(r=a.geoLocation?a.geoLocation:vO,s=a.geoNames?a.geoNames:bO,n=a.geoProvince?a.geoProvince:_O,o=a.geoTypes?a.geoTypes:wO):(r=vO,s=bO,n=_O,o=wO),r=r.replace("@{language}",t),s=s.replace("@{language}",t),n=n.replace("@{language}",t),o=o.replace("@{language}",t);let l="";const c=i?.fsaBoundaries;if(c&&c.serviceUrl){const E=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${E}%3D'${tfe}'&outFields=${E}&returnGeometry=true&f=json`}const f=i?.settings;let d,p,y,v,b;f?(d=f.categories?f.categories:[],p=f.sortOrder?f.sortOrder:[],y=f.disabledSearchTypes?f.disabledSearchTypes:[],v=f.maxResults>0?f.maxResults:100,b=!!f.officialOnly):(d=[],p=[],y=[],v=100,b=!1),this.config={language:t,geoNameUrl:s,geoLocateUrl:r,fsaUrl:l,types:Hhe(t,o),provinces:qhe(n),categories:d,sortOrder:p,disabledSearchTypes:y,maxResults:v,officialOnly:b},this.config.types.filterValidTypes(i?.excludeTypes),this._typeList=[],this._excludedTypes=i?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(t){this._typeList=t}levenshteinDistance(t,i){i=i.toLowerCase().trim(),t=decodeURI(t.toLowerCase().replace("*",""));const r=[];for(let s=0;s<=i.length;s++){r[s]=[s];for(let n=1;n<=t.length;n++)r[s][n]=s===0?n:Math.min(r[s][n-1]+1,r[s-1][n]+.2,r[s-1][n-1]+(t[n-1]===i[s-1]?0:1))}return r[i.length][t.length]}async query(t){const i=await Yhe(this.config,t.toUpperCase()),r=this.config.sortOrder.length,s=i.results.filter(l=>l.order<r),n=i.results.filter(l=>l.order>=r);s.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return s.length>=o?a=s.slice(0,o):(n.forEach(l=>l.order=this.levenshteinDistance(i.query,l.name)),n.sort((l,c)=>l.order-c.order),a=s.concat(n.slice(0,o-s.length))),{results:a,failedServs:i.failedServs}}fetchProvinces(){return new Promise(t=>{const i=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(i),t(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(i);const r=[],s={code:-1,name:"..."};r.push(s);const n=this.config.types.allTypes;for(const o in n)this._excludedTypes.includes(o)||r.push({code:o,name:n[o]});this.typeList=r,t(this.typeList)}},100)})}}function SO(e,t,i){return e&&t.extent&&(i=i.filter(r=>r.bbox[0]<=t.extent.xmax&&r.bbox[1]<=t.extent.ymax&&r.bbox[2]>=t.extent.xmin&&r.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(i=i.filter(r=>r.location.province?.name&&r.location.province.name===t.province)),t.type&&t.type!=="..."&&(i=i.filter(r=>r.type===t.type)),i}const ife=oi("geosearch",()=>{const e=X(new xO("en",void 0)),t=X({type:"",province:"",extent:void 0}),i=X(!1),r=X(""),s=X(""),n=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),f=tt(()=>e.value.fetchProvinces()),d=tt(()=>new Promise(w=>{e.value.fetchTypes().then(_=>{_.sort((M,I)=>M.name>I.name?1:-1),w(_)})}));function p(w,_){e.value=new xO(w,_)}function y(w){l.value=!0;const _=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!_)o.value=[],a.value=[],l.value=!1;else if(_&&_!==n.value||w){const M=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(M),e.value.query(`${_}*`).then(I=>{c.value=I.failedServs,n.value=_,a.value=I.results;const C=SO(i.value,t.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const M=SO(i.value,t.value,a.value);o.value=M||[],l.value=!1}}function v(w){t.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function b(w){t.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function E(w){n.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=w,y()}function S(w){const _={a:"Ã Ã¡Ã¢Ã£Ã¤Ã¥ÄÄƒÄ…ÇŽÈÈƒÈ§áº¡áº£áº¥áº§áº©áº«áº­áº¯áº±áº³áºµáº·",b:"á¸ƒÉ“á¸…á¸‡",c:"Ã§Ä‡Ä‰Ä‹Ä",d:"Äá¸‹á¸á¸á¸‘á¸“",e:"Ã¨Ã©ÃªÃ«Ä“Ä•Ä—Ä™Ä›È…È‡áº¹áº»áº½áº¿á»á»ƒá»…á»‡",f:"Æ’á¸Ÿ",g:"ÄÄŸÄ¡Ä£Ç§Çµá¸¡",h:"Ä¥ÈŸá¸£á¸¥á¸§á¸©á¸«áº–",i:"Ã¬Ã­Ã®Ã¯Ä©Ä«Ä­Ä¯Ä±È‰È‹á»‹á»‰Ä©",j:"ÄµÇ°É‰",k:"Ä·Ä¸Æ™á¸³á¸µ",l:"ÄºÄ¼Ä¾Å€Å‚á¸·á¸¹á¸»á¸½",m:"á¸¿á¹á¹ƒ",n:"Ã±Å„Å†ÅˆÅ‰Å‹Ç¹á¹…á¹‡á¹‰á¹‹",o:"Ã²Ã³Ã´ÃµÃ¶ÅÅÅ‘Æ¡Ç’Ç«Ç­ÈÈÈ¯á»á»á»‘á»“á»•á»—á»™á»›á»á»Ÿá»¡á»£",p:"á¹•á¹—",r:"Å•Å—Å™È‘È“á¹›á¹á¹Ÿ",s:"Å›ÅÅŸÅ¡È™á¹¡á¹£á¹¥á¹§á¹©",t:"Å£Å¥Å§È›á¹«á¹­á¹¯á¹±áº—",u:"Ã¹ÃºÃ»Ã¼Å©Å«Å­Å¯Å±Å³Æ°Ç”Ç–Ç˜ÇšÇœÈ•È—á»¥á»§á»©á»«á»­á»¯á»±",v:"á¹½á¹¿",w:"áºáºƒÅµáº…áº‡áº‰áº‹",x:"áº‹áº",y:"á»³Ã½Å·Ã¿á»¹È³áºáº™á»µá»·á»¹",z:"ÅºÅ¼Å¾áº‘áº“áº•"};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),s.value=Array.from(w).map(M=>Object.keys(_).includes(M)?"["+M+_[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(w){if(w.visible!==void 0&&(i.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=w.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:i,searchVal:r,searchRegex:s,lastSearchVal:n,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:v,setType:b,setSearchTerm:E,setSearchRegex:S,setMapExtent:T}}),rfe=oi("help",()=>({location:X("./help/")}));var T9=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(T9||{}),Rx=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(Rx||{});class M9 extends Mi{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,i,r){super(t),this._uid=Mh.sharedUtils.generateUUID(),this._name=i.name,this._type=i.type??"placeholder",this._parent=r,this._children=[],this._loadPromise=new Si,this._hidden=i.hidden??!1,this._expanded=i.expanded??!0,this._visibility=!0,this._exclusive=i.exclusive??!1,this._controls=i.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=i.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,i){i&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(r=>r!==t),this._controls?.push(t)):!i&&this._controls?.includes(t)&&(this._controls=this._controls.filter(r=>r!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,i=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Va)||this._lastVisible.layerControlAvailable(gi.Visibility)))this._lastVisible.toggleVisibility(!0);else{const r=this.children.find(s=>!(s instanceof Va)||s.layerControlAvailable(gi.Visibility));r&&r.toggleVisibility(!0)}else this._lastVisible=this.children.find(r=>r.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&i&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(i=>i.visibility&&i!==this&&i.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof Va&&!this.layerControlAvailable(gi.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(i=>{i.uid!==t.uid&&i.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(i=>i.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(i=>i.visibility),this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},i=[];return this.children.forEach(r=>{i.push(r.getConfig())}),this.exclusive?t.exclusiveVisibility=i:t.children=i,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Si}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Va extends M9{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,i,r){if(super(t,i,r),this._type=Rx.Placeholder,this._layerId=i.layerId,this._layerIdx=i.sublayerIndex,this._isSublayer=i.sublayerIndex!==void 0,this._layerControls=i.layerControls??[],this._origLayerControls=i.layerControls,this._layerDisabledControls=i.disabledLayerControls??[],this._origLayerDisabledControls=i.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=i.symbologyExpanded||!1,i.coverIcon&&(this._coverIcon=i.coverIcon),i.description&&(this._description=i.description),this._symbologyRenderStyle=i.symbologyRenderStyle??"icons",this._customSymbology=!!i.symbologyStack,this._symbologyStack=i.symbologyStack?.map(s=>({uid:this.$iApi.geo.shared.generateUUID(),label:s.text,definitionClause:s.sqlQuery,imgUrl:s.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=i.maxLines&&[1,2,3,4,5,6].includes(i.maxLines)?i.maxLines:void 0,!this._name){const s=this.$iApi.getConfig()?.layers;if(s&&Array.isArray(s)){const n=s.find(o=>o.id===this._layerId);if(n)if(this._isSublayer){if(n.sublayers&&Array.isArray(n.sublayers)){const o=n.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else n.name&&(this._name=n.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,i=!0,r=!1){if(!(!this.layerControlAvailable(gi.Visibility)&&!r)&&(super.toggleVisibility(t,i),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const s=this._symbologyStack.some(n=>n.lastVisbility);this._symbologyStack.forEach(n=>{s||(n.lastVisbility=!0),n.visibility=this.visibility?n.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,i){this._symbologyStack.some(r=>((t===void 0||r.uid===t)&&(r.visibility=i,r.lastVisbility=i),t!==void 0&&r.uid===t))}load(t){const i=t instanceof cA?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);i&&(this.layer=i,this._layerRedrawing=i.mapLayer&&i.drawState!==Kr.UP_TO_DATE,i.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:i.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),i.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on($e.LAYER_VISIBILITYCHANGE,r=>{r.layer.uid===this.layer.uid&&this._type===Rx.Item&&this.toggleVisibility(r.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on($e.LAYER_DRAWSTATECHANGE,r=>{this.layer.uid===r.layer.uid&&(r.layer.drawState===Kr.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=r.layer.drawState===Kr.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?i.isOffscale():!1,this.handlers.push(this.$iApi.event.on($e.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var sfe=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(sfe||{});class EO extends M9{_infoType;_content;constructor(t,i,r){super(t,i,r),this._infoType=i.infoType??"title",this._content=i.content??"",i.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(i.infoType||i.content)&&(this._controls=i.controls?.slice()??[T9.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const nfe=oi("legend",()=>{const e=X(),t=X([]),i=X([]),r=X(!0),s=X(3);function n(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof EO)&&!(l.item instanceof Va)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof EO&&!d.children.length&&d.content==="")),f);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,f=c.indexOf(l.oldItem);f>-1&&(t.value[f]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:r,maxLines:s,children:t,headerControls:i,addItem:n,removeItem:o,replaceItem:a}}),ofe=oi("mapnav",()=>{const e=X({}),t=X([]);function i(r){r in e.value&&delete e.value[r];const s=t.value.indexOf(r);s!==-1&&t.value.splice(s,1)}return{items:e,order:t,removeItem:i}}),afe=oi("metadata",()=>{const e=X(""),t=X({type:"LineString",coordinates:[]});return{status:e,response:t}}),lfe=oi("northarrow",()=>{const e=X(""),t=X("");return{arrowIcon:e,poleIcon:t}}),cfe=oi("overviewmap",()=>{const e=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=X({}),i=X(!0),r=X(1.5),s=X("#FF0000"),n=X(1),o=X("#000000"),a=X(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:i,expandFactor:r,borderColour:s,borderWidth:n,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),ufe=oi("scrollguard",()=>{const e=X(!1);function t(i){e.value=i}return{enabled:e,setEnabled:t}});var dr=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(dr||{});const hfe=oi("wizard",()=>{const e={id:"Placeholder",layerType:Ne.UNKNOWN,url:""},t=X(),i=X(""),r=X(""),s=X(!0),n=X(null),o=X({config:e,configOptions:[]}),a=X(dr.UPLOAD);function l(c){switch(a.value){case dr.UPLOAD:c===dr.UPLOAD?i.value="":c===dr.FORMAT&&(a.value=dr.FORMAT);break;case dr.FORMAT:c===dr.UPLOAD?(n.value&&(i.value="",n.value=null),r.value="",a.value=dr.UPLOAD):c===dr.CONFIGURE&&(a.value=dr.CONFIGURE);break;case dr.CONFIGURE:c===dr.UPLOAD?(i.value="",r.value="",n.value=null,s.value=!0,o.value={config:e,configOptions:[]},a.value=dr.UPLOAD):c===dr.FORMAT&&(o.value={config:e,configOptions:[]},s.value=!0,a.value=dr.FORMAT);break}}return{layerSource:t,url:i,typeSelection:r,nested:s,fileData:n,layerInfo:o,currStep:a,goToStep:l}});class ffe{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,i,r){this.event=new Bie(this);const s=dfe(t,this);this.$vApp=s.app,this.$element=s.element,this.$i18n=s.i18n,this.$rootEl=s.app.$root?.$el,this.fixture=new Ide(this),this.panel=new Ode(this),this.geo=new Tde(this),this.dev=new kde(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Qoe(this),this._isFullscreen=jn.isEnabled&&!!this.$vApp.$root&&jn.isFullscreen&&jn.element===this.$vApp.$root.$el,jn.isEnabled&&jn.onchange(()=>{this._isFullscreen=jn.isEnabled&&!!this.$vApp.$root&&jn.isFullscreen&&jn.element===this.$vApp.$root.$el}),this.initialize(!0,i,r)}initialize(t,i,r){const s=es(this.$vApp.$pinia),n=Xc(this.$vApp.$pinia),o=o1(this.$vApp.$pinia);if(i?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);s.registerAllConfigs(i,l);const c=s.registeredConfigs[s.registeredLangs[this.$i18n.locale.value]];s.newConfig(c),s.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const f=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(f),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(E=>{const S=this.geo.layer.createLayer(E);this.geo.map.addLayer(S,b).catch(()=>{}),S.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(b=>b.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}n.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,E=>b[E])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}r||(r={});const a=Wu(this.$vApp.$pinia);r?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit($e.MAP_START)),t&&(r.loadDefaultFixtures!==!1||i?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(i?.startingFixtures):t||this.fixture.restore(),r.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(t,i){const r=Wu(this.$vApp.$pinia),s=mo(this.$vApp.$pinia),n=es(this.$vApp.$pinia),o=ks(this.$vApp.$pinia),a=no(this.$vApp.$pinia),l=ax(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),r.started=!1,this.geo.map.destroyMap(),a.$reset(),i?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(t=JSON.parse(JSON.stringify({startingFixtures:n.startingFixtures,configs:n.registeredConfigs}))),s.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,i),c&&this.event.emit($e.CONFIG_CHANGE,this.getConfig())}reload(t,i){this.reloadWorker(t,i),this.event.emit($e.RAMP_RELOAD)}component(t,i){if(i){const r=this.$element.component(t,i);return this.event.emit($e.COMPONENT,t),r}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=es(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return i1(this.$vApp.$pinia);case"areas-of-interest":return Uhe(this.$vApp.$pinia);case"details":return Bk(this.$vApp.$pinia);case"export":return jhe(this.$vApp.$pinia);case"extentguard":return Vhe(this.$vApp.$pinia);case"geosearch":return ife(this.$vApp.$pinia);case"grid":return ax(this.$vApp.$pinia);case"help":return rfe(this.$vApp.$pinia);case"legend":return nfe(this.$vApp.$pinia);case"mapnav":return ofe(this.$vApp.$pinia);case"metadata":return afe(this.$vApp.$pinia);case"northarrow":return lfe(this.$vApp.$pinia);case"overviewmap":return cfe(this.$vApp.$pinia);case"scrollguard":return ufe(this.$vApp.$pinia);case"wizard":return hfe(this.$vApp.$pinia);case"config":return es(this.$vApp.$pinia);case"fixture":return ks(this.$vApp.$pinia);case"instance":return Wu(this.$vApp.$pinia);case"layer":return no(this.$vApp.$pinia);case"map-caption":return ol(this.$vApp.$pinia);case"maptip":return o1(this.$vApp.$pinia);case"notification":return mo(this.$vApp.$pinia);case"panel":return Xc(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const i=es(this.$vApp.$pinia),r=mo(this.$vApp.$pinia),s=i.registeredLangs;Object.keys(i.registeredConfigs).length===1&&r.clearAll();const n=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();s[n]!==s[t]&&(this.reloadWorker(),this.event.emit($e.CONFIG_CHANGE,o)),this.event.emit($e.LANG_CHANGE,{oldLang:n,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){jn.isEnabled&&jn.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Wu(this.$vApp.$pinia).started}updateAlert(t){const i=this.$vApp.$el.querySelector(".screen-reader-alert");i.childNodes.length>0&&(i.innerHTML="");const r=document.createElement("span");r.setAttribute("role","alert");const s=document.createTextNode(t);r.appendChild(s),i.insertBefore(r,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=Wu(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit($e.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function dfe(e,t){const i=kie();i.use(({store:o})=>{const a=MI(o.$state);o.$reset=()=>o.$patch(MI(a))});const r=sne(),s=wl(Kce).use(r).use(Wce,{directive:"tippy",component:"tippy"}).use(i);s.directive("focus-container",nue),s.directive("focus-list",eue),s.directive("focus-item",iue),s.directive("truncate",que),s.component("panel-screen",ehe),s.component("pin",she),s.component("close",ahe),s.component("back",uhe),s.component("expand",mhe),s.component("panel-options-menu",The),s.component("dropdown-menu",V3),s.component("minimize",vhe),s.component("right",whe),s.component("left",Ehe),s.component("fullscreen-nav-button",Ohe),s.component("geolocator-nav-button",$he),s.component("home-nav-button",Che),s.component("mapnav-button",Lhe),s.component("appbar-button",Fhe),s.component("transition",$v),s.component("transition-group",Nv),s.config.globalProperties.$iApi=t,s.config.globalProperties.$pinia=i,s.config.idPrefix=`ramp-${e.id||t.geo.shared.generateUUID()}`,s.provide("iApi",t);const n=s.mount(e);return{element:s,app:n,i18n:r.global}}class aA{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const i=new aA(t),r=t.layers.map(o=>{if(o.layerType===Ne.TILE)return Mt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===Ne.MAPIMAGE)return Mt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===Ne.OSM)return Mt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),n=(await Promise.allSettled(r)).filter(o=>o.status==="rejected"?(console.error(o.reason),i.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return i.esriBasemap=await Mt.Basemap({baseLayers:n,title:t.name||"",id:t.id}),i}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class pfe extends Mi{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t,i=""){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Si,this.handlers=[],this.pointZoomScale=5e4,this.name=i}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,i){const r=l=>{this.$iApi.notify.show(_s.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},s=t.basemaps.map(l=>aA.create(l)),o=(await Promise.all(s)).filter(l=>(l.createErr&&r(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{ps(()=>c.loadStatus,()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(r(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=di(await Mt.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=i,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,i){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,i)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Si,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const i=this._basemapStore.find(r=>r.id===t);if(i)return i;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,i,r=!0,s=200,n="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ze.POINT&&(a.scale=i||this.pointZoomScale);const l={animate:r,duration:s,easing:n};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?Qt.fromESRI(this.esriView.extent):(this.noMapErr(),Qt.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Lp.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Ve.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class mfe extends Mi{maptipStore;constructor(t){super(t),this.maptipStore=o1(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const i=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!i){this.clear(),this.maptipStore.maptipInstance.disable();return}const r=this.$iApi.geo.layer.getLayer(i.layerId);if(r?.geomType!=Ze.POLYGON&&this.#e&&this.#e.layerId===i.layerId&&this.#e.oid===i.oid&&this.#e.layerIdx===i.layerIdx)return;if(this.clear(),this.#e=i,!r){console.error(`graphic hit test returned non-existent layer id: ${i.layerId}`);return}if(!r.hovertips)return;const s=await r.getIcon(i.oid),n=await r.getGraphic(i.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit($e.MAP_GRAPHICHIT,{layer:r,graphicHit:i,attributes:n.attributes,icon:s,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.layer.tooltipValue(t.attributes)}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class yfe extends Mi{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const i=ol(this.$vApp.$pinia);if(i.coords.disabled=!1,i.scale.disabled=!1,i.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)i.coords.disabled=!0;else{const r=t.mapCoords.formatter;r!==void 0&&this.setPointFormatter(r)}if(t.scaleBar)if(t.scaleBar.disabled)i.scale.disabled=!0;else{const r=t.scaleBar.imperialScale;r!==void 0&&(i.toggleScale(r),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}i.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const i={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},r={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},s={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?s.logo.disabled=!0:(s.logo.altText=t.logo.altText||r.altText,s.logo.link=t.logo.link||r.link,s.logo.value=t.logo.value||r.value):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value),t.text?t.text.disabled?s.text.disabled=!0:s.text.value=t.text.value||i.value:s.text.value=i.value,ol(this.$vApp.$pinia).setAttribution(s)):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value,s.text.value=i.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let n="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(f=>new Promise(d=>{let p=0;const y=o/a,v=setInterval(function(){f.loaded&&!f.loadError?(clearInterval(v),d(f)):p>y&&(clearInterval(v),d(null)),p++},a)})).toArray();Promise.all(c).then(f=>{n=f.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),s.text.value=n||s.text.value||i.value,ol(this.$vApp.$pinia).setAttribution(s)})}}}updateScale(){const t=ol(this.$vApp.$pinia),i=t.scale;if(i?.disabled)return;const r=i?.isImperialScale||!1,s=this.scaleHelper().find(n=>n.isImperialScale===r)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${s.pixels}px`,label:`${this.$iApi.$i18n.n(s.distance,"number")}${s.units}`,isImperialScale:r}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,i=this.$iApi.geo.map.getResolution(),r=[],s=i*t,n=1609.34,o=3.28084,a=s>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(r.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),s>1e3){const f=i*t/(c?n:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);r[l].distance=Math.ceil(f/p)*p,r[l].pixels=r[l].distance*(c?n:1e3)/i}else r[l].distance=Math.ceil(c?s*o:s),r[l].pixels=s/i}return r}wrapValue(t,i,r){return((t-i)%(r-i)+(r-i))%(r-i)+i}async formatLatLongDMS(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="Â°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.floor(Math.abs((r-o)*60)),l=Math.floor((Math.abs(r)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(s))*(s<0?-1:1),f=Math.floor(Math.abs((s-c)*60)),d=Math.floor((Math.abs(s)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${n} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDDM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="Â°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.abs((r-o)*60),l=Math.floor(Math.abs(s))*(s<0?-1:1),c=Math.abs((s-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${n} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDD(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="Â°",o=Math.abs(r),a=Math.abs(s);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatMercator(t){const i=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(i.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(i.y),"number")} m`}async formatLambert(t){const i=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(i.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>i.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(i.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(i.y>0?"north":"south"))}`}async formatUTM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n=Math.ceil((s+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+n),t);return`${this.$iApi.$i18n.n(n,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const i=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(i.x,"number")} | ${this.$iApi.$i18n.n(i.y,"number")}`}}class gfe extends pfe{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(t){super(t,"main"),this.maptip=new mfe(t),this.caption=new yfe(t),this.mapMouseThrottle=0}async createMap(t,i){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,i),this.viewPromise.then(()=>{this.$iApi.event.emit($e.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit($e.MAP_DESTROYED)}async createMapView(t){const r=es(this.$vApp.$pinia).config.map;if(!r)throw new Error("Attempted to create map view without a map config");const s=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(r.initialBasemapId),n=r.tileSchemas.find(l=>l.id===s.tileSchemaId);if(!n)throw new Error(`Could not find tile schema for the given basemap id: ${s.id}`);const o=r.extentSets.find(l=>l.id===n.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${n.extentSetId}`);this._rampExtentSet=Lp.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=r.lodSets.find(l=>l.id===n.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${n.lodSetId}`);this.esriView=di(await Mt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:s.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:ps(()=>this.esriView.extent,l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit($e.MAP_EXTENTCHANGE,c),this.$iApi.event.emit($e.FILTER_CHANGE,{extent:c,filterKey:Lr.EXTENT})}})}),this.handlers.push({type:"scale",handler:ps(()=>this.esriView.scale,l=>{this.$iApi.event.emit($e.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit($e.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit($e.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit($e.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",r1(100,!0,l=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",r1(100,l=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit($e.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit($e.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit($e.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit($e.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit($e.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit($e.MAP_BLUR,l.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}):console.error("ESRI Map View is missing its container"),ps(()=>this.esriView.fatalError,()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(s),n.recoveryBasemap?.basemapId){const l=n.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(n.id)},l)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap);const r=es(this.$vApp.$pinia);r.activeBasemapConfig=i.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const i=es(this.$vApp.$pinia),r=await this.findBasemap(t),n=i.activeBasemapConfig.tileSchemaId!==r.tileSchemaId;if(n){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Si,this.created=!1,this.$iApi.event.emit($e.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(r),await this.viewPromise.then(()=>{this.$iApi.event.emit($e.MAP_REFRESH_END),this.$iApi.event.emit($e.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(r);const o=await Mt.ColorBackground({color:new aa(r.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit($e.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n})}return n}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const r=es(this.$vApp.$pinia).config.map;if(r){const s=r.tileSchemas.find(n=>n.id===t);if(s?.recoveryBasemap?.basemapId){const n=await this.findBasemap(s.recoveryBasemap.basemapId);await this.applyBasemap(n)}}}addLayer(t,i=void 0){return new Promise((r,s)=>{if(this.esriMap||(this.noMapErr(),s()),t.initiationState!==Xt.INITIATING&&t.initiationState!==Xt.INITIATED&&t.layerState!==hi.ERROR&&t.initiate(),t.mapLayer&&i===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)i=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(i=p+1,d=!1)}d&&(i=0)}}no(this.$vApp.$pinia).addLayer(t,i),this.$iApi.event.emit($e.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===hi.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),s()):t.initiationState===Xt.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),r())},250)})}insertToEsriMap(t){let i=0;const r=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(r>0){const s=this.$iApi.geo.layer.layerOrderIds(),n=this.$iApi.geo.layer.allLayers();for(let o=r-1;o>-1;o--){const a=s[o],l=n.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){i=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}r>-1&&this.esriMap?.add(t.esriLayer,i)}reorder(t,i,r=!1){if(i<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const s=this.$iApi.geo.layer.allLayers();let n=this.$iApi.geo.layer.layerOrderIds();if(r){if(t.isCosmetic)return;if(i>0){const l=n.filter(c=>{const f=s.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});i>=l.length&&(console.error("non-cosmetic reorder index was too high"),i=l.length-1),i=n.indexOf(l[i])}}else i>=n.length&&(console.error("reorder index was too high"),i=n.length-1);const o=n.indexOf(t.id);if(o===i)return;if(no(this.$vApp.$pinia).reorderLayer(t,i),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(i>0){n=this.$iApi.geo.layer.layerOrderIds();for(let c=i-1;c>-1;c--){const f=n[c],d=s.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=i<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit($e.MAP_REORDER,{layer:t,newIndex:i})}removeSublayer(t){let i,r;if(typeof t=="string")i=t,r=this.$iApi.geo.layer.getLayer(i);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);i=t.uid,r=t}if(!r)throw new Error("Sublayer could not be found for removal.");r.visibility=!1,r.isRemoved=!0,this.$iApi.event.emit($e.LAYER_REMOVE,t),r.parentLayer?.sublayers.every(s=>s.isRemoved)&&this.removeLayer(r.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let i;if(t instanceof cA?i=t:i=this.$iApi.geo.layer.getLayer(t),!i)throw new Error("Layer could not be found for removal.");if(i.isSublayer){this.removeSublayer(i);return}i.supportsSublayers&&i.sublayers.forEach(s=>{s.isRemoved||this.removeSublayer(s)});const r=no(this.$vApp.$pinia);r.removeLayer(i),r.removeLayerConfig(i.id),i.removeEsriLayer(),i.initiationState===Xt.INITIATED&&i.terminate(),i.isRemoved=!0,this.$iApi.event.emit($e.LAYER_REMOVE,i)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const i=this.handlers.findIndex(r=>r.type==="pointer-move");if(i!==-1){const r=this.handlers[i];this.handlers.splice(i,1),r.handler.remove()}return i!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return el(this.mapMouseThrottle,t=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const i=t.isOffScale(this.getScale());if(!i.offScale)return;const r=this.esriView.constraints.lods;if(!r)return this.zoomMapTo(this.getExtent().center(),(i.zoomIn,t.minScale));const s=i.zoomIn?r:[...r].reverse(),n=s.find(o=>i.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||s[s.length-1];return this.zoomToLevel(n.level)}findClosestScale(t){const i=this.esriView?.constraints.lods;if(!i)return t;const r=i.map(n=>Math.abs(n.scale-t)),s=r.indexOf(Math.min(...r));return i[s].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?Dr.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new Dr("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const i=this.esriView.toScreen(t.toESRI());return{screenX:i.x,screenY:i.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(t,i){await this.viewPromise;const s=(await this.esriView.hitTest({x:t,y:i})).results.filter(o=>o.type==="graphic").map(async o=>{const a=o.layer;if(o.graphic.isAggregate===!0){const l=await this.esriView.whenLayerView(a),c=l.createQuery();return c.aggregateIds=[o.graphic.getObjectId()],(await l.queryFeatures(c)).features.map(d=>({layerId:a.id,layerIdx:0,oid:d.getObjectId()}))}else return{layerId:a.id,layerIdx:0,oid:o.graphic.getObjectId()}});return(await Promise.all(s)).flat()}runIdentify(t){const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let r;if(t instanceof Dr){const c=this.mapPointToScreenPoint(t);r={mapPoint:t,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else r=t;if(i===void 0)return{click:r,results:[]};let s=Promise.resolve([]);i.some(c=>c.identifyMode===Vi.HYBRID||c.identifyMode===Vi.SYMBOLIC)&&(s=this.symbolIdentify(r.screenX,r.screenY));const n={geometry:r.mapPoint,hitTest:s},o=i.filter(c=>c.supportsIdentify).map(c=>(n.tolerance=r.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(n))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:r};return this.$iApi.event.emit($e.MAP_IDENTIFY,l),l}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Ne.GRAPHIC);if(i.length===0)return;const r=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(r.results.length===0)return;const s=r.results.filter(l=>l.type==="graphic");let n,o;const a=new Set;if(s.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=i.find(f=>f.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Ne.GRAPHIC||l.graphic.isAggregate||(n=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),n&&o)return{oid:o.getObjectId(),layerId:n.id,layerIdx:n.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const i=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(s=>i.includes(s))||this.keyPan()):i.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const i=["=","-"];this._activeKeys.includes(t.key)&&!i.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(r=>i.includes(r))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),i=this.mapPointToScreenPoint(t),r=this.screenPointToMapPoint({screenX:i.screenX+5,screenY:i.screenY+5}),s=Math.abs(r.x-t.x),n=Math.abs(r.y-t.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=s;break;case"ArrowRight":o+=s;break;case"ArrowUp":a+=n;break;case"ArrowDown":a-=n;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const vfe={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},bfe={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},_fe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},wfe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},xfe={circlePoint:vfe,solidLine:bfe,outlinedPoly:_fe,boundingBoxPoly:wfe};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var Sfe=function(t,i){for(var r=0;r<t.length;r++)if(t[r]!==i[r])return!1;return!0},AO=function(t){return Sfe(t[0],t[t.length-1])||t.push(t[0]),t},TO=function(t){var i=0,r=0,s=t.length,n=t[r],o;for(r;r<s-1;r++)o=t[r+1],i+=(o[0]-n[0])*(o[1]+n[1]),n=o;return i>=0},Efe=function(t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i},I9=function(t){var i=[],r=t.slice(0),s=AO(r.shift().slice(0));if(s.length>=4){TO(s)||s.reverse(),i.push(s);for(var n=0;n<r.length;n++){var o=AO(r[n].slice(0));o.length>=4&&(TO(o)&&o.reverse(),i.push(o))}}return i},Afe=function(t){for(var i=[],r=0;r<t.length;r++)for(var s=I9(t[r]),n=s.length-1;n>=0;n--){var o=s[n].slice(0);i.push(o)}return i},Tfe=function e(t,i){i=i||"OBJECTID";var r={wkid:4326},s={},n;switch(t.type){case"Point":s.x=t.coordinates[0],s.y=t.coordinates[1],t.coordinates[2]!=null&&(s.z=t.coordinates[2]),s.spatialReference=r;break;case"MultiPoint":s.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"LineString":s.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiLineString":s.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Polygon":s.rings=I9(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiPolygon":s.rings=Afe(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Feature":t.geometry&&(s.geometry=e(t.geometry,i)),s.attributes=t.properties?Efe(t.properties):{},t.id&&(s.attributes[i]=t.id);break;case"FeatureCollection":for(s=[],n=0;n<t.features.length;n++)s.push(e(t.features[n],i));break;case"GeometryCollection":for(s=[],n=0;n<t.geometries.length;n++)s.push(e(t.geometries[n],i));break}return s};function O9(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+"]"}).join(",")+"}")}function Mfe(e,t){var i=O9(e);return function(r,s){return t(i(r),s,e)}}function Ife(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var s in r)s in t||i.push(t[s]=s)}),i}function lA(e){var t=new RegExp('["'+e+`
]`),i=e.charCodeAt(0);function r(c,f){var d,p,y=s(c,function(v,b){if(d)return d(v,b-1);p=v,d=f?Mfe(v,f):O9(v)});return y.columns=p,y}function s(c,f){var d={},p={},y=[],v=c.length,b=0,E=0,S,T;function w(){if(b>=v)return p;if(T)return T=!1,d;var M=b,I;if(c.charCodeAt(M)===34){for(var C=M;C++<v;)if(c.charCodeAt(C)===34){if(c.charCodeAt(C+1)!==34)break;++C}return b=C+2,I=c.charCodeAt(C+1),I===13?(T=!0,c.charCodeAt(C+2)===10&&++b):I===10&&(T=!0),c.slice(M+1,C).replace(/""/g,'"')}for(;b<v;){var P=1;if(I=c.charCodeAt(b++),I===10)T=!0;else if(I===13)T=!0,c.charCodeAt(b)===10&&(++b,++P);else if(I!==i)continue;return c.slice(M,b-P)}return c.slice(M)}for(;(S=w())!==p;){for(var _=[];S!==d&&S!==p;)_.push(S),S=w();f&&(_=f(_,E++))==null||y.push(_)}return y}function n(c,f){return f==null&&(f=Ife(c)),[f.map(l).join(e)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:r,parseRows:s,format:n,formatRows:o}}var Xv=lA(","),Ofe=Xv.parse,$fe=Xv.parseRows,Cfe=Xv.format,Nfe=Xv.formatRows,Qv=lA("	"),Pfe=Qv.parse,Lfe=Qv.parseRows,kfe=Qv.format,Rfe=Qv.formatRows;const Dfe=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:Cfe,csvFormatRows:Nfe,csvParse:Ofe,csvParseRows:$fe,dsvFormat:lA,tsvFormat:kfe,tsvFormatRows:Rfe,tsvParse:Pfe,tsvParseRows:Lfe},Symbol.toStringTag,{value:"Module"})),Ffe=nH(Dfe);var Kl={exports:{}},MO;function Ufe(){if(MO)return Kl.exports;MO=1,Kl.exports=e,Kl.exports.pair=n,Kl.exports.format=i,Kl.exports.formatPair=t,Kl.exports.coordToDMS=r;function e(a,l){var c=s(a,l);return c===null?null:c.val}function t(a){return i(a.lat,"lat")+" "+i(a.lon,"lon")}function i(a,l){var c=r(a,l);return c.whole+"Â° "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function r(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,b=Math.floor(v),E=Math.floor((v-b)*60);return{whole:p,minutes:b,seconds:E,dir:f}}function s(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\â€”|\â€•]?[0-9.]+)[Â°ÂºËš]?\s*(?:([0-9.]+)['â€™â€²â€˜]\s*)?(?:([0-9.]+)(?:''|"|â€|â€³)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,v=f[3]?parseFloat(f[3])/60:0,b=f[4]?parseFloat(f[4])/3600:0,E=y<0?-1:1;return(p==="S"||p==="W")&&(E*=-1),{val:(Math.abs(y)+v+b)*E,dim:p,matched:d,remain:a.slice(d.length)}}function n(a,l){a=a.trim();var c=s(a,l);if(!c)return null;a=c.remain.trim();var f=s(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Kl.exports}var b_,IO;function jfe(){if(IO)return b_;IO=1;var e=Ffe,t=Ufe(),i=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function s(E,S){var T,w,_;for(var M in E)w=M.match(S),w&&(!T||w[0].length/M.length>_)&&(_=w[0].length/M.length,T=M);return T}function n(E){return s(E,i)}function o(E){return s(E,r)}function a(E){return!!E.match(i)}function l(E){return!!E.match(r)}function c(E){return typeof E=="object"?Object.keys(E).length:0}function f(E){var S=[",",";","	","|"],T=[];return S.forEach(function(w){var _=e.dsvFormat(w).parse(E);if(_.length>=1){for(var M=c(_[0]),I=0;I<_.length;I++)if(c(_[I])!==M)return;T.push({delimiter:w,arity:Object.keys(_[0]).length})}}),T.length?T.sort(function(w,_){return _.arity-w.arity})[0].delimiter:null}function d(E){return delete E.columns,E}function p(E){var S=f(E);return S?d(e.dsvFormat(S).parse(E)):null}function y(E,S,T){T||(T=S,S={}),S.delimiter=S.delimiter||",";var w=S.latfield||"",_=S.lonfield||"",M=S.crs||"",I=[],C={type:"FeatureCollection",features:I};if(M!==""&&(C.crs={type:"name",properties:{name:M}}),S.delimiter==="auto"&&typeof E=="string"&&(S.delimiter=f(E),!S.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var P=S.numericFields?S.numericFields.split(","):null,N=typeof E=="string"?e.dsvFormat(S.delimiter).parse(E,function($){if(P)for(var B in $)P.includes(B)&&($[B]=+$[B]);return $}):E;if(!N.length){T(null,C);return}var U=[],j;w||(w=n(N[0])),_||(_=o(N[0]));var F=!w||!_;if(F){for(j=0;j<N.length;j++)I.push({type:"Feature",properties:N[j],geometry:null});T(U.length?U:null,C);return}for(j=0;j<N.length;j++)if(N[j][_]!==void 0&&N[j][w]!==void 0){var q=N[j][_],te=N[j][w],h,m,x;x=t(q,"EW"),x&&(q=x),x=t(te,"NS"),x&&(te=x),h=parseFloat(q),m=parseFloat(te),isNaN(h)||isNaN(m)?U.push({message:"A row contained an invalid value for latitude or longitude",row:N[j],index:j}):(S.includeLatLon||(delete N[j][_],delete N[j][w]),I.push({type:"Feature",properties:N[j],geometry:{type:"Point",coordinates:[parseFloat(h),parseFloat(m)]}}))}T(U.length?U:null,C)}function v(E){for(var S=E.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<S.length;w++)T.geometry.coordinates.push(S[w].geometry.coordinates);return T.properties=S.reduce(function(_,M){for(var I in M.properties)_[I]||(_[I]=[]),_[I].push(M.properties[I]);return _},{}),{type:"FeatureCollection",features:[T]}}function b(E){for(var S=E.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<S.length;w++)T.geometry.coordinates[0].push(S[w].geometry.coordinates);return T.properties=S.reduce(function(_,M){for(var I in M.properties)_[I]||(_[I]=[]),_[I].push(M.properties[I]);return _},{}),{type:"FeatureCollection",features:[T]}}return b_={isLon:l,isLat:a,guessLatHeader:n,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:v,toPolygon:b},b_}var __=jfe();const Vfe={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function Bfe(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,i=!0;for(let r=0;r<e.features.length;r++){const s=e.features[r];Object.assign(s.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in s&&typeof s.id<"u"&&(s.properties.ID_FILE=s.id,t=!1),"OBJECTID"in s.properties&&(s.properties.OBJECTID_FILE=s.properties.OBJECTID,delete s.properties.OBJECTID,i=!1),s.id=r+1}if(t)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.ID_FILE;if(i)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.OBJECTID_FILE}function Gfe(e,t){const i=r=>r.indexOf(" ")>-1;t.fields?.forEach(r=>{if(r.name&&i(r.name)){const s=r.name;let n,o="_",a;do n=s.replace(/ /g,o),a=t.fields?.find(l=>l.name===n),a&&(o+="_");while(a);r.alias=s,r.name=n;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[n]=c.properties[s],delete c.properties[s]}}})}function zfe(e,t){const i=e.features[t].geometry.geometries;if(i.length===1)e.features[t].geometry={type:i[0].type,coordinates:i[0].coordinates};else{const r=i.map(s=>s.coordinates);e.features[t].geometry={type:`Multi${i[0].type}`,coordinates:r}}}function qfe(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class Wfe extends Mi{async fetchFileData(t,i){const r=await Ym.get(t,{responseType:"arrayBuffer"});switch(i){case Ne.GEOJSON:case Ne.DATAJSON:return JSON.parse(this.arbToStr(r.data));case Ne.SHAPEFILE:case Ne.GEOJSONZIPPED:case Ne.FLATGEOBUF:case Ne.FLATGEOBUFZIPPED:return r.data;case Ne.CSV:case Ne.DATACSV:return this.arbToStr(r.data);default:console.error(`Unsupported file type passed to fetchFileData- '${i}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let i="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");zfe(t,o)}const c=qfe(a.geometry.type);if(i==="")i=c;else if(i!==c)throw new Error("GeoJSON file contains multiple geometry types")}const r=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let s=0;const n=Object.keys(t.features[0].properties);for(;s<t.features.length;){const o=t.features[s];if(o.properties&&Object.keys(o.properties).filter(a=>n.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=r.findIndex(f=>f.name===a);r[c]={name:a,type:this.inferType(l)},n.splice(n.indexOf(a),1)}}),n.length===0)break;s++}return r}extractCsvFields(t,i=","){return __.dsv.dsvFormat(i).parseRows(t)[0].map(s=>({name:s,type:Yo.STRING}))}filterCsvLatLonFields(t,i=","){const r=__.dsv.dsvFormat(i).parseRows(t),s=r[0],n={lat:JSON.parse(JSON.stringify(s)),lon:JSON.parse(JSON.stringify(s))};for(let o=0;o<s.length;o++)for(let a=1;a<r.length;a++){const l=Number(r[a][o]),c=n.lat.indexOf(s[o]),f=n.lon.indexOf(s[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&n.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&n.lon.splice(f,1),c===-1&&f===-1)break}return n}async geoJsonToEsriJson(t,i){let r,s="",n;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Yo.OID}]};Bfe(t);const a=t.features[0].geometry.type,l=Vfe[a],c=JSON.parse(JSON.stringify(xfe[l]));if(i){if(i.sourceProjection&&(s=this.$iApi.geo.proj.normalizeProj(i.sourceProjection)),i.targetSR)r=i.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");i.layerId?n=i.layerId:n=this.$iApi.geo.shared.generateUUID(),i.colour&&(c.renderer.symbol.color=new aa(i.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");s||(s=Ve.parseGeoJsonCrs(t.crs)),o.renderer=await Mt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(i.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(b=>i.fieldMetadata?.fieldInfo?.find(E=>E.name===b.name)):this.extractGeoJsonFields(t)),i.fieldMetadata?.enforceOrder&&i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,i.fieldMetadata?.fieldInfo)),Gfe(t,o);const f=this.$iApi.geo.proj.normalizeProj(r);if(i){if(i.latField){const b=o.fields.find(E=>E.name===i.latField||E.alias===i.latField);b&&(b.type=Yo.DOUBLE)}if(i.lonField){const b=o.fields.find(E=>E.name===i.lonField||E.alias===i.lonField);b&&(b.type=Yo.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([s,r]);const d=Ve.parseSR(r).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,s,f);const p=Tfe(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(b=>b.name);for(let b=0;b<p.length;b++){const E=p[b];E.geometry.spatialReference=d,E.geometry.type=o.geometryType,Object.keys(E.attributes).forEach(S=>{y.includes(S)?(Array.isArray(E.attributes[S])||typeof E.attributes[S]=="object")&&E.attributes[S]!=null&&(E.attributes[S]=JSON.stringify(E.attributes[S])):delete E.attributes[S]})}return(i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0?i.fieldMetadata.fieldInfo.filter(b=>b.trim&&y.includes(b.name)).map(b=>b.name):[]).forEach(b=>{for(let E=0;E<p.length;E++){const S=p[E].attributes;typeof S[b]=="string"&&(S[b]=S[b].trim())}}),o.source=p,o.spatialReference=d,o.id=n,o}async csvToGeoJson(t,i){const r={latfield:"Lat",lonfield:"Long",delimiter:","};return i&&(i.latfield&&(r.latfield=i.latfield),i.lonfield&&(r.lonfield=i.lonfield),i.delimiter&&(r.delimiter=i.delimiter)),new Promise((s,n)=>{__.csv2geojson(t,r,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),n(o)):(a.features.map(l=>{l.properties[r.lonfield]=l.geometry.coordinates[0],l.properties[r.latfield]=l.geometry.coordinates[1]}),s(a))})})}async shapefileToGeoJson(t){return(await _e(()=>import("./shp.min-BZ7xNA5B.js").then(r=>r.s),__vite__mapDeps([204,205]),import.meta.url)).default(t)}fgbToGeoJson(t,i){return _e(async()=>{const{geojson:s}=await import("./flatgeobuf-Xmj1HQyn.js");return{geojson:s}},[],import.meta.url).then(({geojson:s})=>new Promise(n=>{let o=!1,a=null;const l=s.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Ve(a.code):a.wkt?d=new Ve(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),n(l)}else c+=60,c>i&&(clearInterval(f),n({}))},60)}))}inferType(t){return typeof t=="number"?Yo.DOUBLE:Yo.STRING}rawDataJsonParser(t,i=!1){let r;return typeof t=="string"?r=JSON.parse(t):i?r=structuredClone(t):r=t,r}async unzipSingleFile(t){const i=await _e(()=>import("./jszip.min-De0Ekcoc.js").then(o=>o.j),__vite__mapDeps([206,205]),import.meta.url),s=await new i.default().loadAsync(t),n=Object.keys(s.files)[0];if(n&&s.file(n))return await s.file(n).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const Hfe=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class Yfe extends Mi{async loadWfsData(t,i=-1,r=0,s=1e3,n={type:"FeatureCollection",features:[]},o=!1){let a={offset:r.toString(),limit:s.toString()};i===-1&&(a={resulttype:"hits"});const c=new Ag(t).updateQuery(a),[f,d]=await Cn(Ym.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,f),Promise.reject(f);const p=d.data;if(i===-1)return i=d.data.numberMatched,this.loadWfsData(t,i,r,s,n,o);if(n.features=n.features.concat(p.features),p.features.length<i-r){const y=Math.min(s,i-r-p.features.length);return this.loadWfsData(c,i,p.features.length+r,y,n,o)}else return o&&n.features.length>0&&n.features[0].geometry.type===ci.POINT&&n.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),n}reversedAxisWKIDs(){return Hfe}parseCapabilities(t){const i=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new Ag(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Pi(o,{responseType:"xml"}).then(a=>a.data)},r=new Promise(o=>{i().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(i())})}),s=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const b=v.Name;if(p.push(b),v.LegendURL){const S=v.LegendURL.OnlineResource["@_xlink:href"];y[b]=S.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:s(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},n=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return _e(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>r.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:s(d),queryTypes:n(d.Request.GetFeatureInfo)}}))}}class lm{static makeRawItem(t,i){const r=Promise.resolve();return tr({format:t,data:i,started:!0,loaded:!0,loading:r,load(){return r}})}static makeOidItem(t,i){const r=new Si,s={format:ch.ESRI,data:void 0,started:!1,loaded:!1,loading:r.getPromise(),async load(){if(!this.started){this.started=!0;const n=await i.getGraphic(t,{getAttribs:!0});this.data=n.attributes,this.loaded=!0,r.resolveMe()}return r.getPromise()}};return tr(s)}}class Jfe extends Mi{files;ogc;constructor(t){super(t),this.files=new Wfe(t),this.ogc=new Yfe(t)}createLayer(t){let i;switch(t.layerType){case Ne.FEATURE:i=sde;break;case Ne.MAPIMAGE:i=nde;break;case Ne.GRAPHIC:i=Kfe;break;case Ne.TILE:i=cde;break;case Ne.WFS:i=hde;break;case Ne.DATATABLE:i=dde;break;case Ne.WMS:i=ude;break;case Ne.GEOJSON:i=Xfe;break;case Ne.GEOJSONZIPPED:i=tde;break;case Ne.FLATGEOBUFZIPPED:i=rde;break;case Ne.CSV:i=ede;break;case Ne.DATAJSON:i=fde;break;case Ne.IMAGERY:i=lde;break;case Ne.SHAPEFILE:i=Qfe;break;case Ne.FLATGEOBUF:i=ide;break;case Ne.OSM:i=ade;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new i(t,this.$iApi)}sublayerId(t,i){return`${t}-${i}`}getLayer(t){return no(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,i){const r=no(this.$vApp.$pinia).getLayerById(t);if(r&&r.supportsSublayers&&i<r.sublayers.length)return r.sublayers[i]}async awaitLayer(t){const i=this.getLayer(t);if(i)return i;const r=new Si;let s=0;const n=300,o=setInterval(()=>{s+=n;const a=this.getLayer(t);if(a)clearInterval(o),r.resolveMe(a);else if(s>8e3){clearInterval(o);const l=setInterval(()=>{const c=this.getLayer(t);c&&(clearInterval(l),r.resolveMe(c))},1500)}},n);return r.getPromise()}async awaitSublayer(t,i){return this.awaitLayer(this.sublayerId(t,i))}getLayerPosition(t){const i=this.getLayer(t);if(i&&i.mapLayer){const r=i.isSublayer?i.parentLayer.id:i.id,s=this.layerOrderIds().findIndex(n=>n===r);return s===-1?void 0:s}else return}layerOrderIds(){return no(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return no(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==hi.ERROR&&t.initiationState===Xt.INITIATED)}allLayersOnMap(t=!0){const i=this.allLayers().filter(r=>r.mapLayer&&r.initiationState===Xt.INITIATED);if(t){const r=this.layerOrderIds(),s=new Map(r.map((n,o)=>[n,o]));i.sort((n,o)=>s.get(n.id)-s.get(o.id))}return i}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===Xt.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===hi.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===Xt.INITIATING)}getLayerControls(t){const i=this.getLayer(t);if(!i)return;const r=i.config.controls?.slice()??[gi.BoundaryZoom,gi.Datatable,gi.Identify,gi.Metadata,gi.Opacity,gi.Refresh,gi.Reload,gi.Remove,gi.Settings,gi.Symbology,gi.Visibility],s=[];return i.supportsFeatures||s.push(gi.Datatable),i.extent===void 0&&s.push(gi.BoundaryZoom),(i.config?.metadata||(i.isSublayer?i.parentLayer?.config?.metadata:{})||{}).url||s.push(gi.Metadata),!i.mapLayer&&!i.config.controls?.includes(gi.Settings)&&s.push(gi.Settings),s.forEach(o=>{const a=r?.indexOf(o)??-1;a!==-1&&r?.splice(a,1)}),{controls:r,disabledControls:i.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[i,r]=await Cn(Pi(t,{query:{f:"json"}}));if(!r)throw console.error(`Service metadata load error: ${t}`,i),new Error(`Service metadata load error: ${t}`);if(!r.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const s=r.data,n={geometryType:Ze.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:nr.UNKNOWN,mapLayer:!0};if(n.name=s.name||"",n.currentVersion=s.currentVersion||-1,n.minScale=s.effectiveMinScale||s.minScale||0,n.maxScale=s.effectiveMaxScale||s.maxScale||0,n.extent=s.extent?Qt.fromArcServer(s.extent,"layer_extent"):void 0,n.defaultVisibility=s.defaultVisibility??!0,n.canModifyLayer=s.canModifyLayer??!0,s.type==="Feature Layer"||s.type==="Table"){if(n.dataFormat=nr.ESRI_FEATURE,n.displayField=s.displayField||"",Array.isArray(s.fields)){const o=await Promise.all(s.fields.map(l=>Mt.FieldFromJson(l)));n.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(n.objectIdField=l.name,!1):!0)&&(n.objectIdField=s.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),s.type==="Feature Layer"?(n.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(s.geometryType),s.drawingInfo?.renderer&&(n.renderer=await Mt.RendererFromJson(s.drawingInfo.renderer)),s.sourceSpatialReference&&(n.sourceSR=Ve.fromConfig(s.sourceSpatialReference))):n.mapLayer=!1}}else n.dataFormat=nr.ESRI_RASTER;return n}async loadFeatureCount(t,i=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const r={query:{f:"json",where:i||"1=1",returnCountOnly:!0,returnGeometry:!1}},[s,n]=await Cn(Pi(`${t}/query`,r));return n?n.data?Number.isInteger(n.data.count)?n.data.count:(console.error(`Funny result (${n.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,s),0)}}class cA extends Mi{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(t){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(t){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,i){super(i),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=hi.NEW,this.drawState=Kr.NOT_LOADED,this.initiationState=Xt.NEW,this.layerIdx=-1,this.layerFormat=Ss.UNKNOWN,this.layerType=Ne.UNKNOWN,this.dataFormat=nr.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Vi.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ze.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new Eg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Ve.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new HN}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(t){return""}tooltipValue(t){return""}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return Promise.resolve(new Sn(new Al))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,i){}applySqlFilter(t=[]){}getFilterOIDs(t=[],i=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(Qt.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,i=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const i=this._sublayers.findIndex(r=>r?.uid===t);if(i===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return i}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let i;if(typeof t=="string"?i=this.uidToIdx(t):i=t,this._sublayers[i]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[i]}controlAvailable(t){const i=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,i)}}class $9 extends cA{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(t,i){super(t,i),this.name=t.name||"",this.geomType=Ze.NONE,this.dataFormat=nr.UNKNOWN,this.layerType=Ne.UNKNOWN,this.layerFormat=Ss.UNKNOWN;const r=i.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??r.draw,this.expectedTime.load=t.expectedLoadTime??r.load,this.expectedTime.fail=t.maxLoadTime||r.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=t.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Vi.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=hi.NEW,this.initiationState=Xt.NEW,this.drawState=Kr.NOT_LOADED,this.loadDefProm=new Si,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new Eg(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit($e.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,i=!1){this.layerState=t,this.$iApi.event.emit($e.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:i})}updateDrawState(t){this.drawState=t,t===Kr.REFRESH?this.startTimer("draw"):t===Kr.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit($e.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(Xt.INITIATING),this.startTimer("load");const t=n=>{this.layerState!==hi.ERROR&&(console.error(n),this.onError())},i=Date.now(),r=setTimeout(()=>{i>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[s]=await Cn(this.onInitiate());clearTimeout(r),i>this.lastCancel&&(this.drawState!==Kr.UP_TO_DATE&&this.startTimer("draw"),s?t(`Init error on layer id: ${this.id} . ${s.message}`):this.updateInitiationState(Xt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Xt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Xt.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new Si,this.loadPromDone=!1,this.updateLayerState(hi.NEW),this.updateDrawState(Kr.NOT_LOADED),this.updateInitiationState(Xt.TERMINATED)}onLoad(){const t=Date.now();let i=!1;const r=setTimeout(()=>{i=!0,this.onError()},this.expectedTime.fail);try{const s=this.onLoadActions();Promise.all(s).then(()=>{clearTimeout(r),i?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Si),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onLoad()),this.updateLayerState(hi.LOADED)))}).catch(()=>{clearTimeout(r),this.onError()})}catch(s){console.error("Encountered error on layer load: ",s),clearTimeout(r),this.onError()}}onError(t=!0){this.layerState!==hi.ERROR&&(this.initiationState===Xt.INITIATING&&this.updateInitiationState(Xt.NEW),this.loadPromDone&&(this.loadDefProm=new Si),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(i=>i.onError(t)),t&&this.$iApi.notify.show(_s.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(hi.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Xt.NEW||this.initiationState===Xt.TERMINATING||this.initiationState===Xt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===hi.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return this.stubError(),Promise.resolve(new Sn(new Al))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,i){this.stubError()}getFilterOIDs(t=[],i=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(Qt.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,i,r=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(_s.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}async arcadeGenerator(t){const i={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(r=>{const s=this.$iApi.geo.attributes.fieldTypeToArcade(r.type);return s?{name:r.name,type:s}:(console.error(`Encountered field type with no arcade support: ${r.type} [${r.name}]`),s)}).filter(r=>!!r)}]};return Mt.ArcadeExecutor(t,i)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(t){this.supportsFeatures?t.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=t,this.nameArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(t,i=""){if(this.supportsFeatures){const r=(t?.nameArcade||"").trim();r&&await this.setNameArcade(r),this.nameField=(t?.nameField||"").trim()||i||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(t){if(t)if(this.nameArcade){const i={$attr:t};return this.nameArcadeExecutor?.execute(i)??"Arcade Error"}else return this.nameField?t[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(t){this.supportsFeatures?t.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=t,this.tooltipArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(t){if(this.supportsFeatures){const i=(t?.tooltipArcade||"").trim();i&&await this.setTooltipArcade(i),this.tooltipField=(t?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(t){if(t)if(this.tooltipArcade){const i={$attr:t};return this.tooltipArcadeExecutor?.execute(i)??"Arcade Error"}else return this.tooltipField?t[this.tooltipField]??this.nameValue(t):this.nameValue(t);else return""}}class pu extends $9{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,i){super(t,i),this._scaleSet=new HN,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?Qt.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new Si,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(ps(()=>this.esriLayer.visible,t=>{this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(ps(()=>this.esriLayer.opacity,t=>{this.$iApi.event.emit($e.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(ps(()=>this.esriLayer.loadStatus,t=>{const i={"not-loaded":hi.LOADING,loading:hi.LOADING,loaded:hi.LOADED,failed:hi.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(i[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=di(t.layerView),this.esriWatches.push(ps(()=>t.layerView.updating,i=>{this.updateDrawState(i?Kr.REFRESH:Kr.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Si,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit($e.LAYER_RELOAD_START,this),this.sublayers.forEach(i=>this.$iApi.event.emit($e.LAYER_RELOAD_START,i)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit($e.LAYER_RELOAD_END,this),this.sublayers.forEach(i=>this.$iApi.event.emit($e.LAYER_RELOAD_END,i))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(i=>i.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();if(this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify),this.layerType!==Ne.WMS){const i=this.$iApi.geo.proj.checkProj(this.getSR()).then(r=>r?Promise.resolve():Promise.reject());t.push(i)}return t}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let i;if(typeof t>"u")if(this.mapCheck())i=this.$iApi.geo.map.getScale();else return!1;else i=t;return this.scaleSet.isOffScale(i).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===Xt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Ve.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Ve.latLongSR())}}class uA extends pu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.geomType=Ze.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new YN(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new N9}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const i=Date.now(),r=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(i<this.lastCancel))if(this.geomType=r.geometryType,this.attribs.quickCache=new L9(this.geomType),this.scaleSet.minScale=r.minScale,this.scaleSet.maxScale=r.maxScale,this.dataFormat=r.dataFormat,this.extent=this.extent??r.extent,this._serverVisibility=r.defaultVisibility,this.origRampConfig.name||(this.name=r.name??this.id),this.dataFormat===nr.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Ne.SUBLAYER?r.canModifyLayer:!0,this.fields=r.fields,this.nameField=r.displayField,this.oidField=r.objectIdField,this.sourceSR=r.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const s=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:r.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(s,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={supportsLimit:(r.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Lr.PERMANENT)};this.attribs.attLoader=new P9(this.$iApi,n)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={},s=new Al;const n=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(i.getAttribs||i.getStyle){const f=this.attribs.quickCache.getAttribs(t);if(f)r=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();r=d.features[d.oidIndex[t]]}else o=!0}if(i.getGeom){l=n.getScale();const f=this.attribs.quickCache.getGeom(t,l);if(f)s=f;else if(this.layerType===Ne.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const v=ps(()=>this.esriView.updating,b=>{b||(v.remove(),y())})});const d=await Mt.Query();d.objectIds=[t],d.returnGeometry=!0;const p=await this.esriView.queryFeatures(d);if(p.features.length){const y=p.features[0],v=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(t,v,l),s=v}else a=!0}else a=!0}if(o||a){const f={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=n.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=n.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),s=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(r=d.attributes))}const c=new Sn(s,"",i.getAttribs?r:void 0);if(i.getStyle){const f=Ge(this.renderer.getGraphicSymbol(r));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const i=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(i.attributes||{},this.renderer)}setSqlFilter(t,i){const r=this.filter.getSql(t);if(i===r)return;this.filter.setSql(t,i),this.$iApi.event.emit($e.FILTER_CHANGE,{uid:this.uid,filterKey:t});const s=`${this.uid}-${t}-${i}`;this._lastFilterUpdate=s,setTimeout(()=>{this._lastFilterUpdate===s&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],i=void 0){const r=this.filter.getCombinedSql(t),s=!!i;if(!(r||s))return;i&&this.filter.setExtent(i);const n=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(n,s);if(!o){const a={filterGeometry:i,filterSql:r,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,n,s)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){const i=await this.queryOIDs(t),r={getGeom:!!t.includeGeometry,getAttribs:!0};return i.map(s=>({oid:s,graphic:this.getGraphic(s,r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}configDrawOrder(t,i){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(i.orderBy=t.drawOrder.map(r=>{const s=r.ascending??!0?"ascending":"descending";return r.field?{field:r.field,order:s}:{valueExpression:r.arcade,order:s}}),this._drawOrder=t.drawOrder.slice())}}class Zfe extends pu{constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=Ss.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(i=>i.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(i=>i.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let i;t instanceof Array?i=t:i=[t];const r=i.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),s=this.$iApi.geo.map.getSR(),n=r.map(l=>this.$iApi.geo.proj.projectGeometry(s,l.geometry)),o=await Promise.all(n),a=r.map((l,c)=>{const f=new Sn(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let i;Array.isArray(t)?i=t:i=[t],i.map(s=>typeof s=="string"?s:s.id).forEach(s=>{const n=this.esriLayer.graphics.findIndex(a=>a.id===s);n>-1&&this.esriLayer.graphics.removeAt(n);const o=this._graphics.findIndex(a=>a.id===s);o>-1&&this._graphics.splice(o,1)})}}class Kfe extends Zfe{constructor(t,i){super(t,i),this.layerType=Ne.GRAPHIC}async onInitiate(){this.esriLayer=di(await Mt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(Kr.UP_TO_DATE),t}}class mu extends uA{esriJson;sourceGeoJson;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=Ss.FEATURE,this.layerIdx=0,t.identifyMode&&t.identifyMode!==Vi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Vi.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=di(await Mt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(n=>{i[n]=this.esriJson[n]}),this.origRampConfig.nameField?i.displayField=this.$iApi.geo.attributes.fieldValidator(i.fields,this.origRampConfig.nameField)||r:i.displayField=r,i.outFields=["*"],delete i.url,this.configDrawOrder(t,i),t.geomClustering&&(i.featureReduction=t.geomClustering),i}onLoadActions(){const t=super.onLoadActions(),i=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Mt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const r=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:r}),this.featureCount=this.esriLayer?.source.length||0};return t.push(i()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const i=new Si,r=tr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[],a=[];if(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),n=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.SYMBOLIC)&&(s=n.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([s,n]).then(()=>{o.forEach(l=>{r.items.push(lm.makeRawItem(ch.ESRI,l.attributes))}),a.forEach(l=>{r.items.push(lm.makeOidItem(l,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??Qt.fromESRI(t.fullExtent,this.id+"_extent");const i=di(t.fields.slice());this.fields=i.map(s=>({name:s.name,alias:s.alias,type:s.type,length:s.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new yde(this.$iApi,r)}async getGraphic(t,i){let r;if(!i.getGeom&&this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=new Sn(new Al,"",s.features[s.oidIndex[t]])}else{const s={filterOIDs:[t],includeGeometry:!!i.getGeom},n=await this.queryFeatures(s);if(n.length===0)throw new Error(`Could not find object id ${t}`);n.length!==1&&console.warn("did not get a single result on a query for a specific object id"),r=n[0]}if(i.getStyle){const s=Ge(this.renderer.getGraphicSymbol(r.attributes));r.style=this.$iApi.geo.geom.styleEsriToRamp(s)}return r}async queryFeatures(t){const i={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(i)}async queryOIDs(t){const i={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(i)).map(s=>s.attributes?s.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const i=this.filter.getCombinedSql(t);Mt.FeatureFilter({where:i}).then(r=>{Ge(this.esriView).filter=r})}}class Xfe extends mu{constructor(t,i){super(t,i),this.layerType=Ne.GEOJSON}async onInitiate(){let t;const i=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");i>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class Qfe extends mu{constructor(t,i){super(t,i),this.layerType=Ne.SHAPEFILE}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.shapefileToGeoJson(i);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class ede extends mu{constructor(t,i){super(t,i),this.layerType=Ne.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const i=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(i>this.lastCancel){const r=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});i>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class tde extends mu{constructor(t,i){super(t,i),this.layerType=Ne.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(r)),await super.onInitiate())}}}class ide extends mu{constructor(t,i){super(t,i),this.layerType=Ne.FLATGEOBUF}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class rde extends mu{constructor(t,i){super(t,i),this.layerType=Ne.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);if(t>this.lastCancel){const s=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}}}class sde extends uA{constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Ne.FEATURE,this.layerFormat=Ss.FEATURE,t.identifyMode&&t.identifyMode!==Vi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Vi.HYBRID}async onInitiate(){di(this.esriLayer=await Mt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(i.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,i),t.geomClustering&&(i.featureReduction=t.geomClustering),i}onLoadActions(){const t=Date.now(),i=super.onLoadActions(),r=this.esriLayer.parsedUrl.path,n=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=n,this.serviceUrl=r;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await Mt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Lr.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=n,i.push(a,o()),i}runIdentify(t){if(!this.canIdentify())return[];const i=new Si,r=tr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[];if(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),n=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.SYMBOLIC)&&(s=n.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([s,n]).then(()=>{o.forEach(a=>{r.items.push(lm.makeOidItem(a,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}applySqlFilter(t=[]){if(this.layerExists){const i=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=i}else this.noLayerErr()}getGraphicExtent(t){return new Promise((i,r)=>{if(!this.layerExists)this.noLayerErr(),r();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),r();else{const s=this.attribs.quickCache.getExtent(t);s?i(s):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(n=>{const o=Qt.fromESRI(n.extent);this.attribs.quickCache.setExtent(t,o),i(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),r()})}})}}class nde extends pu{isDynamic;origState;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Ne.MAPIMAGE,this.layerFormat=Ss.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Vi.GEOMETRIC}async onInitiate(){this.esriLayer=di(await Mt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return this.origState={visibility:i.visible,opacity:i.opacity},i.visible=!1,t.imageFormat&&(i.imageFormat=t.imageFormat),i}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const i=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(_s.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??Qt.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const r=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},s={};this.origRampConfig.sublayers.forEach(l=>{s[l.index||0]=l});const n=[],o=(l,c)=>{const f=l.id,d=s[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new Eg(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[f]||(this._sublayers[f]=new ode({id:this.$iApi.geo.layer.sublayerId(this.id,f),index:f,layerType:Ne.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",n.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new Eg(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(ps(()=>l.visible,()=>{this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),ps(()=>l.opacity,y=>{this.$iApi.event.emit($e.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=r(l.index||0);o(c,this.layerTree)}});const a=n.map(async l=>{const c=r(l.layerIdx),f=s[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),i<this.lastCancel)return;const d={};if(l.esriSubLayer&&f?.customRenderer?.type){const y=await Mt.RendererFromJson(f.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),i<this.lastCancel)return;const p=s[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(_s.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(p,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Lr.PERMANENT));i>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!n.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,i=!1){super.updateLayerState(t,i),this.sublayers.forEach(r=>r.updateLayerState(t,i))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(i=>i.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(s=>typeof s=="number"?this.layerTree?.findChildByIdx(s)?.uid:s));const i=t.sublayerIds?this._sublayers.filter(s=>t.sublayerIds?.includes(s.uid)):this._sublayers.filter(s=>s.canIdentify());if(i.length===0)return[];let r;return t.geometry.type===Ze.POINT&&(r=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),i.map(s=>{const n=new Si,o={},a=tr({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:s.uid,layerId:s.id,requestTime:Date.now()});return s.geomType!==Ze.POLYGON&&r?o.filterGeometry=r:o.filterGeometry=t.geometry,o.filterSql=s.getCombinedSqlFilter(),o.sourceSR=s.sourceSR,s.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(lm.makeOidItem(c,s))}),a.loaded=!0,n.resolveMe()}).catch(()=>{a.errored=!0,n.resolveMe()}),a})}}class ode extends uA{constructor(t,i,r){if(super(t,i),this.layerType=Ne.SUBLAYER,this.layerFormat=Ss.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=r,this.isSystem=r.isSystem,this.dataFormat=nr.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!r.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(r),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=di(t.esriLayer.allSublayers.find(i=>i.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Xt.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Xt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const i=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=i}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?Ve.fromESRI(t):Ve.latLongSR()}else return this.noLayerErr(),Ve.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class ade extends pu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Ne.OSM,this.layerFormat=Ss.OSM,this.dataFormat=nr.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=di(await Mt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),r={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:i.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(r),t}}class lde extends pu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Ne.IMAGERY,this.layerFormat=Ss.IMAGERY,this.dataFormat=nr.ESRI_RASTER}async onInitiate(){this.esriLayer=di(await Mt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=Date.now(),r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t}}class cde extends pu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Ne.TILE,this.layerFormat=Ss.TILE,this.dataFormat=nr.ESRI_TILE}async onInitiate(){this.esriLayer=di(await Mt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),i=Date.now();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),r=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===hi.LOADED&&!r)this.$iApi.notify.show(_s.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===hi.ERROR&&r)this.reload();else if(this.layerState!==hi.ERROR&&!r)return this.$iApi.notify.show(_s.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class ude extends pu{sublayerNames;mimeType;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.layerType=Ne.WMS,this.layerFormat=Ss.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=nr.OGC_RASTER,this.identifyMode=Vi.GEOMETRIC}async onInitiate(){this.esriLayer=di(await Mt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r=t.sublayers;this.sublayerNames=r.map(n=>n.id||"error_no_wms_id");const s=r.map(n=>n.currentStyle).join();return i.customParameters={styles:s},t.url.indexOf("/geomet")!==-1&&(i.customParameters.layers=r[0].id),i}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=r=>{let s=!1;return r.forEach(n=>{this.sublayerNames.indexOf(n.name)>-1||n.sublayers&&n.sublayers.length>0&&i(n.sublayers)?s=!0:n.visible=!1}),s};return this.layerExists?i(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ze.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const i=new Si,r=tr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(s=>{if(s){let n=!0,o;typeof s!="string"?o=ch.JSON:s.indexOf("Search returned no results")===-1&&s!==""?o=ch.TEXT:(n=!1,o=ch.UNKNOWN),n&&r.items.push(lm.makeRawItem(o,s))}r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}setCustomParameter(t,i,r=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=i,r&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,i,r){const s=this.$iApi.geo.map,n=this.esriLayer;if(!s.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!n)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=s.getExtent(),c=n.spatialReferences,f=t.join(","),d=s.esriView.toScreen(i.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),b={"application/json":"json","text/html":"text","text/plain":"text"}[r]||"text",E=s.getSR();E.wkid?o=E.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(E.latestWkid&&c.indexOf(E.latestWkid)>-1?o=E.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),n.version==="1.3"||n.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:n.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const S={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:n.version,WIDTH:s.getPixelWidth(),HEIGHT:s.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:r},T=n.customLayerParameters;return T&&Object.keys(T).forEach(w=>{w.toLowerCase()!=="styles"&&(S[w]=T[w])}),Object.keys(S).forEach(w=>a[w]=S[w]),Pi(n.url.split("?")[0],{query:a,responseType:b})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const i=new Map;this.esriLayer.allSublayers.forEach(s=>{s.visible&&(s.legendUrl&&this.origRampConfig.sublayers?.forEach(n=>{if(n.id&&n.currentStyle&&n.id===s.name){const o=new Ag(s.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==n.currentStyle&&(s.legendUrl=o.updateQuery({STYLE:n.currentStyle}))}}),i.set(s.name,s.legendUrl))});const r=t.map(s=>s.styleLegends&&s.currentStyle?s.styleLegends.find(n=>n.name===s.currentStyle).url:void 0);return r.forEach((s,n)=>{s||(r[n]=i.get(t[n].id))}),r}getWMSLayerTitle(t){if(!this.esriLayer)return"";let i;return this.esriLayer.allSublayers.some(r=>r.name===t?(i=r.title,!0):!1),i||""}loadSymbology(){const t=Date.now(),i=this.config.sublayers,r=this.getLegendUrls(i.map(s=>({id:s.id,styleLegends:s.styleLegends,currentStyle:s.currentStyle}))).map((s,n)=>{const o=i[n].name||this.getWMSLayerTitle(i[n].id)||i[n].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(s).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=r}}class hde extends mu{constructor(t,i){super(t,i),this.layerType=Ne.WFS}async onInitiate(){const t=Date.now(),i=new Ag(this.config.url),{offset:r,limit:s}=i.queryMap,n=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(r)||0,parseInt(s)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}class C9 extends $9{sourceJson;attribs;_visibility;constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=Ss.NOLAYER,this.drawState=Kr.NOT_VISUAL,this.attribs=new N9,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const i=t.fields.slice(),r=t.data[0].slice(),s=/ /gi;this.fields=i.map((c,f)=>{let d="",p=c;c.indexOf(" ")>-1&&(d=c,p=c.trim().replace(s,"-"),t.fields[f]=p);const y=this.$iApi.geo.layer.files.inferType(r[f]);return{name:p,alias:d,type:y,length:y===Yo.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Yo.OID}),t.fields.push(this.oidField),t.data.forEach((c,f)=>c.push(f+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const n={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new gde(this.$iApi,n),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length;const o=this.origRampConfig.nameField,l={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(l,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit($e.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==hi.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit($e.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(i=>{this.legend[0].svgcode=i})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={};if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=s.features[s.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Sn(new Al,"",r)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],i=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class fde extends C9{constructor(t,i){super(t,i),this.layerType=Ne.DATAJSON}async onInitiate(){const t=Date.now();let i;if(this.origRampConfig.rawData)i=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)i=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=i,await super.onInitiate())}}class dde extends C9{filter;serviceUrl;constructor(t,i){super(t,i),this.layerType=Ne.DATATABLE,this.serviceUrl=t.url,this.filter=new YN(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),i=Date.now(),s=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,n=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(i<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,a.displayField);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Lr.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new P9(this.$iApi,l),this.attribs.quickCache=new L9(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Lr.PERMANENT)).then(a=>{i>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=s,t.push(n,o),t}async getGraphic(t){let i={};const r=this.attribs.quickCache.getAttribs(t);if(r)i=r;else if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=n.features[n.oidIndex[t]]}else{const n={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(n);this.attribs.quickCache.setAttribs(t,o.attributes),i=o.attributes}return new Sn(new Al,"",i)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,i){const r=this.filter.getSql(t);i!==r&&(this.filter.setSql(t,i),this.$iApi.event.emit($e.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const i=this.filter.getCombinedSql(t);if(!i)return;const r=this.filter.sqlActiveFilters(t);let s=this.filter.getCache(r,!1);if(!s){const n={filterSql:i,includeGeometry:!1};s=this.queryOIDs(n),this.filter.setCache(s,r,!1)}return s}queryOIDs(t){const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(r=>({oid:r,graphic:this.getGraphic(r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}}const pde=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class mde extends Mi{oidIndexer(t,i){t.features.forEach((r,s)=>{t.oidIndex[r[i]]=s})}async arcGisBatchLoad(t,i){if(i.loadAbortFlag)return[];const r=t.permanentFilter?` AND ${t.permanentFilter}`:"",s={query:{where:`${t.oidField}>${t.maxId}${r}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[n,o]=await Cn(Pi(t.serviceUrl+"/query",s));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){i.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const f=await this.arcGisBatchLoad(t,i);return i.loadAbortFlag?[]:a.concat(f)}else return i.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,i){t.maxId=-1,t.batchSize=-1;const s={features:(await this.arcGisBatchLoad(t,i)).map(n=>n.attributes),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,s}async loadGraphicsAttributes(t,i){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const s={features:t.sourceGraphics.map(n=>Ge(n).attributes).toArray(),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,i.loadedCount=s.features.length,s}async loadCompactJsonAttributes(t,i){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const r=t.sourceDataJson.fields,s=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[r[f]]=typeof c=="string"&&s.includes(r[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),i.loadIsDone=!0,i.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const i={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(i.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(i.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(i.query.geometryPrecision=t.geometryPrecision);const[r,s]=await Cn(Pi(t.serviceUrl+"/query",i));if(!s)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,r),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!s.data||!s.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const n=s.data.features;if(n.length>0){let o;const a=this.trimFeatureSetAttributes([n[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=s.data.spatialReference;const l=_S(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Al;return new Sn(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,i){return i.forEach(r=>{t.forEach(s=>{typeof s.attributes[r]=="string"&&(s.attributes[r]=s.attributes[r].trim())})}),t}orderFields(t,i){const r=(n,o)=>n.findIndex(a=>a.name===o),s=(n,o)=>{const a=r(i,n.name),l=r(i,o.name);return a===-1&&l===-1?r(t,n.name)-r(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(s)}applyFieldMetadata(t,i=void 0){if(!i||!i.fieldInfo){t.fieldList="*";return}const r=i.fieldInfo.filter(s=>s.trim).map(s=>s.name);if(t.fields.forEach(s=>{r.includes(s.name)&&(s.trim=!0)}),i?.enforceOrder&&i?.fieldInfo&&i?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,i.fieldInfo),t.fieldList=i.fieldInfo.map(s=>s.name).join(",")),i.exclusiveFields){i.fieldInfo.find(n=>n.name===t.oidField)||i.fieldInfo.push({name:t.oidField}),t.fieldList=i.fieldInfo.map(n=>n.name).join(",");const s=i.fieldInfo;t.fields=t.fields.filter(n=>s.find(o=>o.name===n.name))}else t.fieldList="*";i.fieldInfo.forEach(s=>{if(s.alias){const n=t.fields.find(o=>o.name===s.name);n&&(n.alias=s.alias)}})}fieldValidator(t,i){if(t.findIndex(r=>r.name===i)===-1){const r=t.find(s=>s.alias===i);return r?r.name:(console.warn(`Cannot find name field in layer field list: ${i}`),"")}else return i}async generateTabularAttributes(t,i){return i.attLoader.tabularAttributesCache||(i.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,i)),i.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,i){if(t.dataFormat===nr.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const r=await i.attLoader.getAttribs();if(!r.features||r.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const s=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(r.features[0],Ge(o).name)).map(o=>({data:Ge(o).name,title:Ge(o).alias||Ge(o).name})),n=r.features.map(o=>{const a=JN({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return s.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);n.forEach(c=>{c[l]=a})}}),{columns:s,rows:n,fields:t.fields,oidField:t.oidField}}fieldTypeToArcade(t){return pde.get(t)}}class N9{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class OO{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class hA extends Mi{aac;loadPromise;details;tabularAttributesCache;constructor(t,i){super(t),this.aac=new OO,this.details=i}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new OO,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class P9 extends hA{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class yde extends hA{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class gde extends hA{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class L9{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ze.POINT||t===Ze.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,i){this.attribs[t]=i}getGeom(t,i=void 0){return this.getGeomStore(i)[t]}setGeom(t,i,r=void 0){const s=this.getGeomStore(r);s[t]=i}getExtent(t){return this.extents[t]}setExtent(t,i){this.extents[t]=i}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class fA{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,i,r=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=r,this.type=I1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const i=this.makeSearchParams(t),r=this.symbolUnits.find(n=>n.match(i));if(r)return r;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${i}`);const s=new eb(this);return s.svgCode="",s}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,i){let r="'";if(!i||i.length===0)return r;const s=i.find(n=>n.name===t);return s&&s.type&&s.type!=="string"&&(r=""),r}cleanFieldName(t,i){if(!t)return t;let r=i.find(s=>s.name===t);if(r)return t;{const s=t.toLowerCase();return r=i.find(n=>n.name.toLowerCase()===s),r?r.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(i=>i.definitionClause).join(" OR ")}))`}}class eb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new _o}match(t){return!!t}}class vde extends fA{constructor(t,i){super(t,i),this.type=I1.Simple;const r=new eb(this);r.label=t.label||"",r.symbol=t.symbol,r.definitionClause="",this.symbolUnits.push(r)}}class bde extends fA{delim;keyFields;constructor(t,i,r=!1){super(t,i,r),this.type=I1.Unique,this.delim=t.fieldDelimiter||", ";const s=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,i));const n=this.keyFields.map(o=>this.getFieldDelimiter(o,i));if(t.uniqueValueInfos.forEach(o=>{const a=new $O(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${n[d]}${s(l[d])}${n[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new $O(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(i=>{let r=t[i]===null?"":t[i];return typeof r!="string"&&(r=r.toString()),r}).join(this.delim)}}class $O extends eb{matchValue;constructor(t,i){super(t),typeof i=="number"?this.matchValue=i.toString():this.matchValue=i}match(t){return this.matchValue===t}}class _de extends fA{valField;constructor(t,i,r=!1){if(super(t,i,r),this.valField=this.cleanFieldName(t.field,i),t.classBreakInfos.forEach((s,n)=>{const o=n===0,a=new CO(this,s.minValue,s.maxValue,o);a.label=s.label||"",a.symbol=s.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${s.minValue} AND ${this.valField} <= ${s.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const s=new CO(this,0,0,!1);s.isDefault=!0,s.label=t.defaultLabel||"",s.symbol=t.defaultSymbol,s.definitionClause=this.makeElseClause(),this.defaultUnit=s}}makeSearchParams(t){return parseFloat(t[this.valField])}}class CO extends eb{minValue;maxValue;firstBreak;constructor(t,i,r,s){super(t),this.minValue=i,this.maxValue=r,this.firstBreak=s}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var Wy={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var wde=Wy.exports,NO;function xde(){return NO||(NO=1,function(e,t){(function(i,r){e.exports=i.document?r(i,i.document):function(s){return r(s,s.document)}})(typeof window<"u"?window:wde,function(i,r){var s=typeof this<"u"?this:i,n=s.SVG=function(h){if(n.supported)return h=new n.Doc(h),n.parser.draw||n.prepare(),h};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!r.createElementNS&&!!r.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(h){return"Svgjs"+E(h)+n.did++},n.create=function(h){var m=r.createElementNS(this.ns,h);return m.setAttribute("id",this.eid(h)),m},n.extend=function(){var h,m,x,$;for(h=[].slice.call(arguments),m=h.pop(),$=h.length-1;$>=0;$--)if(h[$])for(x in m)h[$].prototype[x]=m[x];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(h){var m=typeof h.create=="function"?h.create:function(){this.constructor.call(this,n.create(h.create))};return h.inherit&&(m.prototype=new h.inherit),h.extend&&n.extend(m,h.extend),h.construct&&n.extend(h.parent||n.Container,h.construct),m},n.adopt=function(h){if(!h)return null;if(h.instance)return h.instance;var m;return h.nodeName=="svg"?m=h.parentNode instanceof i.SVGElement?new n.Nested:new n.Doc:h.nodeName=="linearGradient"?m=new n.Gradient("linear"):h.nodeName=="radialGradient"?m=new n.Gradient("radial"):n[E(h.nodeName)]?m=new n[E(h.nodeName)]:m=new n.Element(h),m.type=h.nodeName,m.node=h,h.instance=m,m instanceof n.Doc&&m.namespace().defs(),m.setData(JSON.parse(h.getAttribute("svgjs:data"))||{}),m},n.prepare=function(){var h=r.getElementsByTagName("body")[0],m=(h?new n.Doc(h):n.adopt(r.documentElement).nested()).size(2,0);n.parser={body:h||r.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},r.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(h,m){var x,$=h.length,B=[];for(x=0;x<$;x++)B.push(m(h[x]));return B},filter:function(h,m){var x,$=h.length,B=[];for(x=0;x<$;x++)m(h[x])&&B.push(h[x]);return B},radians:function(h){return h%360*Math.PI/180},degrees:function(h){return h*180/Math.PI%360},filterSVGElements:function(h){return this.filter(h,function(m){return m instanceof i.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(h){var m;this.r=0,this.g=0,this.b=0,h&&(typeof h=="string"?n.regex.isRgb.test(h)?(m=n.regex.rgb.exec(h.replace(n.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):n.regex.isHex.test(h)&&(m=n.regex.hex.exec(S(h)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof h=="object"&&(this.r=h.r,this.g=h.g,this.b=h.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(h){return this.destination=new n.Color(h),this},at:function(h){return this.destination?(h=h<0?0:h>1?1:h,new n.Color({r:~~(this.r+(this.destination.r-this.r)*h),g:~~(this.g+(this.destination.g-this.g)*h),b:~~(this.b+(this.destination.b-this.b)*h)})):this}}),n.Color.test=function(h){return h+="",n.regex.isHex.test(h)||n.regex.isRgb.test(h)},n.Color.isRgb=function(h){return h&&typeof h.r=="number"&&typeof h.g=="number"&&typeof h.b=="number"},n.Color.isColor=function(h){return n.Color.isRgb(h)||n.Color.test(h)},n.Array=function(h,m){h=(h||[]).valueOf(),h.length==0&&m&&(h=m.valueOf()),this.value=this.parse(h)},n.extend(n.Array,{morph:function(h){if(this.destination=this.parse(h),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],x=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(x);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.indexOf(this.value[h])==-1&&x.push(this.value[h]);return this.value=x},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,$=[];m<x;m++)$.push(this.value[m]+(this.destination[m]-this.value[m])*h);return new n.Array($)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(h){return h=h.valueOf(),Array.isArray(h)?h:this.split(h)},split:function(h){return h.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var h=new this.constructor;return h.value=p(this.value),h}}),n.PointArray=function(h,m){n.Array.call(this,h,m||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.push(this.value[h].join(","));return x.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,$=[];m<x;m++)$.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*h,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*h]);return new n.PointArray($)},parse:function(h){var m=[];if(h=h.valueOf(),Array.isArray(h)){if(Array.isArray(h[0]))return h.map(function(B){return B.slice()});if(h[0].x!=null)return h.map(function(B){return[B.x,B.y]})}else h=h.trim().split(n.regex.delimiter).map(parseFloat);h.length%2!==0&&h.pop();for(var x=0,$=h.length;x<$;x=x+2)m.push([h[x],h[x+1]]);return m},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var $=this.value.length-1;$>=0;$--)this.value[$]=[this.value[$][0]+h,this.value[$][1]+m];return this},size:function(h,m){var x,$=this.bbox();for(x=this.value.length-1;x>=0;x--)$.width&&(this.value[x][0]=(this.value[x][0]-$.x)*h/$.width+$.x),$.height&&(this.value[x][1]=(this.value[x][1]-$.y)*m/$.height+$.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var o={M:function(h,m,x){return m.x=x.x=h[0],m.y=x.y=h[1],["M",m.x,m.y]},L:function(h,m){return m.x=h[0],m.y=h[1],["L",h[0],h[1]]},H:function(h,m){return m.x=h[0],["H",h[0]]},V:function(h,m){return m.y=h[0],["V",h[0]]},C:function(h,m){return m.x=h[4],m.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},S:function(h,m){return m.x=h[2],m.y=h[3],["S",h[0],h[1],h[2],h[3]]},Q:function(h,m){return m.x=h[2],m.y=h[3],["Q",h[0],h[1],h[2],h[3]]},T:function(h,m){return m.x=h[0],m.y=h[1],["T",h[0],h[1]]},Z:function(h,m,x){return m.x=x.x,m.y=x.y,["Z"]},A:function(h,m){return m.x=h[5],m.y=h[6],["A",h[0],h[1],h[2],h[3],h[4],h[5],h[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(h){return function(m,x,$){if(h=="H")m[0]=m[0]+x.x;else if(h=="V")m[0]=m[0]+x.y;else if(h=="A")m[5]=m[5]+x.x,m[6]=m[6]+x.y;else for(var B=0,Y=m.length;B<Y;++B)m[B]=m[B]+(B%2?x.y:x.x);return o[h](m,x,$)}}(a[l].toUpperCase());n.PathArray=function(h,m){n.Array.call(this,h,m||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return P(this.value)},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var $,B=this.value.length-1;B>=0;B--)$=this.value[B][0],$=="M"||$=="L"||$=="T"?(this.value[B][1]+=h,this.value[B][2]+=m):$=="H"?this.value[B][1]+=h:$=="V"?this.value[B][1]+=m:$=="C"||$=="S"||$=="Q"?(this.value[B][1]+=h,this.value[B][2]+=m,this.value[B][3]+=h,this.value[B][4]+=m,$=="C"&&(this.value[B][5]+=h,this.value[B][6]+=m)):$=="A"&&(this.value[B][6]+=h,this.value[B][7]+=m);return this},size:function(h,m){var x,$,B=this.bbox();for(x=this.value.length-1;x>=0;x--)$=this.value[x][0],$=="M"||$=="L"||$=="T"?(this.value[x][1]=(this.value[x][1]-B.x)*h/B.width+B.x,this.value[x][2]=(this.value[x][2]-B.y)*m/B.height+B.y):$=="H"?this.value[x][1]=(this.value[x][1]-B.x)*h/B.width+B.x:$=="V"?this.value[x][1]=(this.value[x][1]-B.y)*m/B.height+B.y:$=="C"||$=="S"||$=="Q"?(this.value[x][1]=(this.value[x][1]-B.x)*h/B.width+B.x,this.value[x][2]=(this.value[x][2]-B.y)*m/B.height+B.y,this.value[x][3]=(this.value[x][3]-B.x)*h/B.width+B.x,this.value[x][4]=(this.value[x][4]-B.y)*m/B.height+B.y,$=="C"&&(this.value[x][5]=(this.value[x][5]-B.x)*h/B.width+B.x,this.value[x][6]=(this.value[x][6]-B.y)*m/B.height+B.y)):$=="A"&&(this.value[x][1]=this.value[x][1]*h/B.width,this.value[x][2]=this.value[x][2]*m/B.height,this.value[x][6]=(this.value[x][6]-B.x)*h/B.width+B.x,this.value[x][7]=(this.value[x][7]-B.y)*m/B.height+B.y);return this},equalCommands:function(h){var m,x,$;for(h=new n.PathArray(h),$=this.value.length===h.value.length,m=0,x=this.value.length;$&&m<x;m++)$=this.value[m][0]===h.value[m][0];return $},morph:function(h){return h=new n.PathArray(h),this.equalCommands(h)?this.destination=h:this.destination=null,this},at:function(h){if(!this.destination)return this;var m=this.value,x=this.destination.value,$=[],B=new n.PathArray,Y,pe,le,Me;for(Y=0,pe=m.length;Y<pe;Y++){for($[Y]=[m[Y][0]],le=1,Me=m[Y].length;le<Me;le++)$[Y][le]=m[Y][le]+(x[Y][le]-m[Y][le])*h;$[Y][0]==="A"&&($[Y][4]=+($[Y][4]!=0),$[Y][5]=+($[Y][5]!=0))}return B.value=$,B},parse:function(h){if(h instanceof n.PathArray)return h.valueOf();var m,$,x={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof h=="string"?h=h.replace(n.regex.numbersWithDots,d).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):h=h.reduce(function(Me,je){return[].concat.call(Me,je)},[]);var $=[],B=new n.Point,Y=new n.Point,pe=0,le=h.length;do n.regex.isPathLetter.test(h[pe])?(m=h[pe],++pe):m=="M"?m="L":m=="m"&&(m="l"),$.push(o[m].call(null,h.slice(pe,pe=pe+x[m.toUpperCase()]).map(parseFloat),B,Y));while(le>pe);return $},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(h,m){this.value=0,this.unit=m||"",typeof h=="number"?this.value=isNaN(h)?0:isFinite(h)?h:h<0?-34e37:34e37:typeof h=="string"?(m=h.match(n.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):h instanceof n.Number&&(this.value=h.valueOf(),this.unit=h.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(h){return h=new n.Number(h),new n.Number(this+h,this.unit||h.unit)},minus:function(h){return h=new n.Number(h),new n.Number(this-h,this.unit||h.unit)},times:function(h){return h=new n.Number(h),new n.Number(this*h,this.unit||h.unit)},divide:function(h){return h=new n.Number(h),new n.Number(this/h,this.unit||h.unit)},to:function(h){var m=new n.Number(this);return typeof h=="string"&&(m.unit=h),m},morph:function(h){return this.destination=new n.Number(h),h.relative&&(this.destination.value+=this.value),this},at:function(h){return this.destination?new n.Number(this.destination).minus(this).times(h).plus(this):this}}}),n.Element=n.invent({create:function(h){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=h)&&(this.type=h.nodeName,this.node.instance=this,this._events=h._events||{},this._stroke=h.getAttribute("stroke")||this._stroke)},extend:{x:function(h){return this.attr("x",h)},y:function(h){return this.attr("y",h)},cx:function(h){return h==null?this.x()+this.width()/2:this.x(h-this.width()/2)},cy:function(h){return h==null?this.y()+this.height()/2:this.y(h-this.height()/2)},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},width:function(h){return this.attr("width",h)},height:function(h){return this.attr("height",h)},size:function(h,m){var x=w(this,h,m);return this.width(new n.Number(x.width)).height(new n.Number(x.height))},clone:function(h){this.writeDataToDom();var m=N(this.node.cloneNode(!0));return h?h.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(h){return this.after(h).remove(),h},addTo:function(h){return h.put(this)},putIn:function(h){return h.add(this)},id:function(h){return this.attr("id",h)},inside:function(h,m){var x=this.bbox();return h>x.x&&m>x.y&&h<x.x+x.width&&m<x.y+x.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var h=this.attr("class");return h==null?[]:h.trim().split(n.regex.delimiter)},hasClass:function(h){return this.classes().indexOf(h)!=-1},addClass:function(h){if(!this.hasClass(h)){var m=this.classes();m.push(h),this.attr("class",m.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(m){return m!=h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)},reference:function(h){return n.get(this.attr(h))},parent:function(h){var m=this;if(!m.node.parentNode)return null;if(m=n.adopt(m.node.parentNode),!h)return m;for(;m&&m.node instanceof i.SVGElement;){if(typeof h=="string"?m.matches(h):m instanceof h)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=n.adopt(m.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(h){var m=[],x=this;do{if(x=x.parent(h),!x||!x.node)break;m.push(x)}while(x.parent);return m},matches:function(h){return v(this.node,h)},native:function(){return this.node},svg:function(h){var m=r.createElement("svg");if(h&&this instanceof n.Parent){m.innerHTML="<svg>"+h.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var x=0,$=m.firstChild.childNodes.length;x<$;x++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(h=r.createElement("svg")),this.writeDataToDom(),h.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var h=this.each?this:this.lines();h.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(h){return this.dom=h,this},is:function(h){return y(this,h)}}}),n.easing={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return-Math.cos(h*Math.PI/2)+1}},n.morph=function(h){return function(m,x){return new n.MorphObj(m,x).at(h)}},n.Situation=n.invent({create:function(h){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(h.duration).valueOf(),this.delay=new n.Number(h.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=h.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(h){this._target=h,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(h,m,x){typeof h=="object"&&(m=h.ease,x=h.delay,h=h.duration);var $=new n.Situation({duration:h||1e3,delay:x||0,ease:n.easing[m||"-"]||m});return this.queue($),this},delay:function(h){var m=new n.Situation({duration:h,delay:0,ease:n.easing["-"]});return this.queue(m)},target:function(h){return h&&h instanceof n.Element?(this._target=h,this):this._target},timeToAbsPos:function(h){return(h-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(h){return this.situation.duration/this._speed*h+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=i.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){i.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(h){return(typeof h=="function"||h instanceof n.Situation)&&this.situations.push(h),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var h,m,x,$=this.situation;if($.init)return this;for(h in $.animations)for(x=this.target()[h](),Array.isArray(x)||(x=[x]),Array.isArray($.animations[h])||($.animations[h]=[$.animations[h]]),m=x.length;m--;)$.animations[h][m]instanceof n.Number&&(x[m]=new n.Number(x[m])),$.animations[h][m]=x[m].morph($.animations[h][m]);for(h in $.attrs)$.attrs[h]=new n.MorphObj(this.target().attr(h),$.attrs[h]);for(h in $.styles)$.styles[h]=new n.MorphObj(this.target().style(h),$.styles[h]);return $.initialTransformation=this.target().matrixify(),$.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(h,m){var x=this.active;return this.active=!1,m&&this.clearQueue(),h&&this.situation&&(!x&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var h=this.situation;this.stop(),this.situation=h,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(h,m){var x=this.situation.duration/this._speed;return this.absPos=h,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*x,this.situation.finish=this.situation.start+x,this.step(!0)},speed:function(h){return h===0?this.pause():h?(this._speed=h,this.at(this.absPos,!0)):this._speed},loop:function(h,m){var x=this.last();return x.loops=h??!0,x.loop=0,m&&(x.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(h){var m=this.last();return typeof h>"u"?m.reversed=!m.reversed:m.reversed=h,this},progress:function(h){return h?this.situation.ease(this.pos):this.pos},after:function(h){var m=this.last(),x=function $(B){B.detail.situation==m&&(h.call(this,m),this.off("finished.fx",$))};return this.target().on("finished.fx",x),this._callStart()},during:function(h){var m=this.last(),x=function($){$.detail.situation==m&&h.call(this,$.detail.pos,n.morph($.detail.pos),$.detail.eased,m)};return this.target().off("during.fx",x).on("during.fx",x),this.after(function(){this.off("during.fx",x)}),this._callStart()},afterAll:function(h){var m=function x($){h.call(this),this.off("allfinished.fx",x)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(h){var m=function(x){h.call(this,x.detail.pos,n.morph(x.detail.pos),x.detail.eased,x.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(h,m,x){return this.last()[x||"animations"][h]=m,this._callStart()},step:function(h){if(h||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,x,$;m=Math.max(this.absPos,0),x=Math.floor(m),this.situation.loops===!0||x<this.situation.loops?(this.pos=m-x,$=this.situation.loop,this.situation.loop=x):(this.absPos=this.situation.loops,this.pos=1,$=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-$)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var B=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=B&&(this.situation.once[Y].call(this.target(),this.pos,B),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:B,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=B,this):this},eachAt:function(){var h,m,x,$=this,B=this.target(),Y=this.situation;for(h in Y.animations)x=[].concat(Y.animations[h]).map(function(le){return typeof le!="string"&&le.at?le.at(Y.ease($.pos),$.pos):le}),B[h].apply(B,x);for(h in Y.attrs)x=[h].concat(Y.attrs[h]).map(function(le){return typeof le!="string"&&le.at?le.at(Y.ease($.pos),$.pos):le}),B.attr.apply(B,x);for(h in Y.styles)x=[h].concat(Y.styles[h]).map(function(le){return typeof le!="string"&&le.at?le.at(Y.ease($.pos),$.pos):le}),B.style.apply(B,x);if(Y.transforms.length){for(x=Y.initialTransformation,h=0,m=Y.transforms.length;h<m;h++){var pe=Y.transforms[h];if(pe instanceof n.Matrix){pe.relative?x=x.multiply(new n.Matrix().morph(pe).at(Y.ease(this.pos))):x=x.morph(pe).at(Y.ease(this.pos));continue}pe.relative||pe.undo(x.extract()),x=x.multiply(pe.at(Y.ease(this.pos)))}B.matrix(x)}return this},once:function(h,m,x){var $=this.last();return x||(h=$.ease(h)),$.once[h]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(h,m,x){return(this.fx||(this.fx=new n.FX(this))).animate(h,m,x)},delay:function(h){return(this.fx||(this.fx=new n.FX(this))).delay(h)},stop:function(h,m){return this.fx&&this.fx.stop(h,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(h){if(this.fx){if(h==null)return this.fx.speed();this.fx.speed(h)}return this}}}),n.MorphObj=n.invent({create:function(h,m){if(n.Color.isColor(m))return new n.Color(h).morph(m);if(n.regex.delimiter.test(h))return n.regex.pathLetters.test(h)?new n.PathArray(h).morph(m):new n.Array(h).morph(m);if(n.regex.numberAndUnit.test(m))return new n.Number(h).morph(m);this.value=h,this.destination=m},extend:{at:function(h,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(h,m,x){if(typeof h=="object")for(var $ in h)this.attr($,h[$]);else this.add(h,m,"attrs");return this},style:function(h,m){if(typeof h=="object")for(var x in h)this.style(x,h[x]);else this.add(h,m,"styles");return this},x:function(h,m){if(this.target()instanceof n.G)return this.transform({x:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("x",x)},y:function(h,m){if(this.target()instanceof n.G)return this.transform({y:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("y",x)},cx:function(h){return this.add("cx",new n.Number(h))},cy:function(h){return this.add("cy",new n.Number(h))},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},size:function(h,m){if(this.target()instanceof n.Text)this.attr("font-size",h);else{var x;(!h||!m)&&(x=this.target().bbox()),h||(h=x.width/x.height*m),m||(m=x.height/x.width*h),this.add("width",new n.Number(h)).add("height",new n.Number(m))}return this},width:function(h){return this.add("width",new n.Number(h))},height:function(h){return this.add("height",new n.Number(h))},plot:function(h,m,x,$){return arguments.length==4?this.plot([h,m,x,$]):this.add("plot",new(this.target()).morphArray(h))},leading:function(h){return this.target().leading?this.add("leading",new n.Number(h)):this},viewbox:function(h,m,x,$){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(h,m,x,$)),this},update:function(h){if(this.target()instanceof n.Stop){if(typeof h=="number"||h instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",h.offset)}return this}}),n.Box=n.invent({create:function(h,m,x,$){if(typeof h=="object"&&!(h instanceof n.Element))return n.Box.call(this,h.left!=null?h.left:h.x,h.top!=null?h.top:h.y,h.width,h.height);arguments.length==4&&(this.x=h,this.y=m,this.width=x,this.height=$),U(this)},extend:{merge:function(h){var m=new this.constructor;return m.x=Math.min(this.x,h.x),m.y=Math.min(this.y,h.y),m.width=Math.max(this.x+this.width,h.x+h.width)-m.x,m.height=Math.max(this.y+this.height,h.y+h.height)-m.y,U(m)},transform:function(h){var m=1/0,x=-1/0,$=1/0,B=-1/0,Y,pe=[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)];return pe.forEach(function(le){le=le.transform(h),m=Math.min(m,le.x),x=Math.max(x,le.x),$=Math.min($,le.y),B=Math.max(B,le.y)}),Y=new this.constructor,Y.x=m,Y.width=x-m,Y.y=$,Y.height=B-$,U(Y),Y}}}),n.BBox=n.invent({create:function(h){if(n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element){var m;try{if(r.documentElement.contains){if(!r.documentElement.contains(h.node))throw new Exception("Element not in the dom")}else{for(var x=h.node;x.parentNode;)x=x.parentNode;if(x!=r)throw new Exception("Element not in the dom")}m=h.node.getBBox()}catch{if(h instanceof n.Shape){var $=h.clone(n.parser.draw.instance).show();m=$.node.getBBox(),$.remove()}else m={x:h.node.clientLeft,y:h.node.clientTop,width:h.node.clientWidth,height:h.node.clientHeight}}n.Box.call(this,m)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(h){n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element&&n.Box.call(this,h.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=i.pageXOffset,this.y+=i.pageYOffset,this}},construct:{rbox:function(h){return h?new n.RBox(this).transform(h.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(h){var m,x=M([1,0,0,1,0,0]);for(h=h instanceof n.Element?h.matrixify():typeof h=="string"?M(h.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(h)?M(h):typeof h=="object"?h:x,m=q.length-1;m>=0;--m)this[q[m]]=h[q[m]]!=null?h[q[m]]:x[q[m]]},extend:{extract:function(){var h=_(this,0,1),m=_(this,1,0),x=180/Math.PI*Math.atan2(h.y,h.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(x*Math.PI/180)+this.f*Math.sin(x*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(x*Math.PI/180)+this.e*Math.sin(-x*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-x,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:x,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(h){return this.destination=new n.Matrix(h),this},at:function(h){if(!this.destination)return this;var m=new n.Matrix({a:this.a+(this.destination.a-this.a)*h,b:this.b+(this.destination.b-this.b)*h,c:this.c+(this.destination.c-this.c)*h,d:this.d+(this.destination.d-this.d)*h,e:this.e+(this.destination.e-this.e)*h,f:this.f+(this.destination.f-this.f)*h});return m},multiply:function(h){return new n.Matrix(this.native().multiply(I(h).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(h,m){return new n.Matrix(this.native().translate(h||0,m||0))},scale:function(h,m,x,$){return arguments.length==1?m=h:arguments.length==3&&($=x,x=m,m=h),this.around(x,$,new n.Matrix(h,0,0,m,0,0))},rotate:function(h,m,x){return h=n.utils.radians(h),this.around(m,x,new n.Matrix(Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0))},flip:function(h,m){return h=="x"?this.scale(-1,1,m,0):h=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,h,m??h)},skew:function(h,m,x,$){return arguments.length==1?m=h:arguments.length==3&&($=x,x=m,m=h),h=n.utils.radians(h),m=n.utils.radians(m),this.around(x,$,new n.Matrix(1,Math.tan(m),Math.tan(h),1,0,0))},skewX:function(h,m,x){return this.skew(h,0,m,x)},skewY:function(h,m,x){return this.skew(0,h,m,x)},around:function(h,m,x){return this.multiply(new n.Matrix(1,0,0,1,h||0,m||0)).multiply(x).multiply(new n.Matrix(1,0,0,1,-h||0,-m||0))},native:function(){for(var h=n.parser.native.createSVGMatrix(),m=q.length-1;m>=0;m--)h[q[m]]=this[q[m]];return h},toString:function(){return"matrix("+F(this.a)+","+F(this.b)+","+F(this.c)+","+F(this.d)+","+F(this.e)+","+F(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var h=this.rect(1,1),m=h.node.getScreenCTM();return h.remove(),new n.Matrix(m)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(h,m){var x,$={x:0,y:0};x=Array.isArray(h)?{x:h[0],y:h[1]}:typeof h=="object"?{x:h.x,y:h.y}:h!=null?{x:h,y:m??h}:$,this.x=x.x,this.y=x.y},extend:{clone:function(){return new n.Point(this)},morph:function(h,m){return this.destination=new n.Point(h,m),this},at:function(h){if(!this.destination)return this;var m=new n.Point({x:this.x+(this.destination.x-this.x)*h,y:this.y+(this.destination.y-this.y)*h});return m},native:function(){var h=n.parser.native.createSVGPoint();return h.x=this.x,h.y=this.y,h},transform:function(h){return new n.Point(this.native().matrixTransform(h.native()))}}}),n.extend(n.Element,{point:function(h,m){return new n.Point(h,m).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(h,m,x){if(h==null){for(h={},m=this.node.attributes,x=m.length-1;x>=0;x--)h[m[x].nodeName]=n.regex.isNumber.test(m[x].nodeValue)?parseFloat(m[x].nodeValue):m[x].nodeValue;return h}else if(typeof h=="object")for(m in h)this.attr(m,h[m]);else if(m===null)this.node.removeAttribute(h);else{if(m==null)return m=this.node.getAttribute(h),m==null?n.defaults.attrs[h]:n.regex.isNumber.test(m)?parseFloat(m):m;h=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):h=="stroke"&&(this._stroke=m),(h=="fill"||h=="stroke")&&(n.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof n.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new n.Number(m):n.Color.isColor(m)?m=new n.Color(m):Array.isArray(m)&&(m=new n.Array(m)),h=="leading"?this.leading&&this.leading(m):typeof x=="string"?this.node.setAttributeNS(x,h,m.toString()):this.node.setAttribute(h,m.toString()),this.rebuild&&(h=="font-size"||h=="x")&&this.rebuild(h,m)}return this}}),n.extend(n.Element,{transform:function(h,m){var x=this,$,B;if(typeof h!="object")return $=new n.Matrix(x).extract(),typeof h=="string"?$[h]:$;if($=new n.Matrix(x),m=!!m||!!h.relative,h.a!=null)$=m?$.multiply(new n.Matrix(h)):new n.Matrix(h);else if(h.rotation!=null)C(h,x),$=m?$.rotate(h.rotation,h.cx,h.cy):$.rotate(h.rotation-$.extract().rotation,h.cx,h.cy);else if(h.scale!=null||h.scaleX!=null||h.scaleY!=null){if(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,!m){var Y=$.extract();h.scaleX=h.scaleX*1/Y.scaleX,h.scaleY=h.scaleY*1/Y.scaleY}$=$.scale(h.scaleX,h.scaleY,h.cx,h.cy)}else if(h.skew!=null||h.skewX!=null||h.skewY!=null){if(C(h,x),h.skewX=h.skew!=null?h.skew:h.skewX!=null?h.skewX:0,h.skewY=h.skew!=null?h.skew:h.skewY!=null?h.skewY:0,!m){var Y=$.extract();$=$.multiply(new n.Matrix().skew(Y.skewX,Y.skewY,h.cx,h.cy).inverse())}$=$.skew(h.skewX,h.skewY,h.cx,h.cy)}else h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(B=x.bbox(),h.flip=B.cx,h.offset=B.cy):h.flip=h.offset,$=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(m?$=$.translate(h.x,h.y):(h.x!=null&&($.e=h.x),h.y!=null&&($.f=h.y)));return this.attr("transform",$)}}),n.extend(n.FX,{transform:function(h,m){var x=this.target(),$,B;return typeof h!="object"?($=new n.Matrix(x).extract(),typeof h=="string"?$[h]:$):(m=!!m||!!h.relative,h.a!=null?$=new n.Matrix(h):h.rotation!=null?(C(h,x),$=new n.Rotate(h.rotation,h.cx,h.cy)):h.scale!=null||h.scaleX!=null||h.scaleY!=null?(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,$=new n.Scale(h.scaleX,h.scaleY,h.cx,h.cy)):h.skewX!=null||h.skewY!=null?(C(h,x),h.skewX=h.skewX!=null?h.skewX:0,h.skewY=h.skewY!=null?h.skewY:0,$=new n.Skew(h.skewX,h.skewY,h.cx,h.cy)):h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(B=x.bbox(),h.flip=B.cx,h.offset=B.cy):h.flip=h.offset,$=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&($=new n.Translate(h.x,h.y)),$?($.relative=m,this.last().transforms.push($),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var h=(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(m){var x=m.trim().split("(");return[x[0],x[1].split(n.regex.delimiter).map(function($){return parseFloat($)})]}).reduce(function(m,x){return x[0]=="matrix"?m.multiply(M(x[1])):m[x[0]].apply(m,x[1])},new n.Matrix);return h},toParent:function(h){if(this==h)return this;var m=this.screenCTM(),x=h.screenCTM().inverse();return this.addTo(h).untransform().transform(x.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(h,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(h))for(var x=0,$=this.arguments.length;x<$;++x)this[this.arguments[x]]=h[x];else if(typeof h=="object")for(var x=0,$=this.arguments.length;x<$;++x)this[this.arguments[x]]=h[this.arguments[x]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(h){for(var m=[],x=0,$=this.arguments.length;x<$;++x)m.push(this[this.arguments[x]]);var B=this._undo||new n.Matrix;return B=new n.Matrix().morph(n.Matrix.prototype[this.method].apply(B,m)).at(h),this.inversed?B.inverse():B},undo:function(h){for(var m=0,x=this.arguments.length;m<x;++m)h[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:h[this.arguments[m]];return h.cx=this.cx,h.cy=this.cy,this._undo=new n[E(this.method)](h,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(h){var m=new n.Matrix().rotate(new n.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(h),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(h){return this._undo=h,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(h,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof h=="object")for(m in h)this.style(m,h[m]);else if(n.regex.isCss.test(h))for(h=h.split(/\s*;\s*/).filter(function(x){return!!x}).map(function(x){return x.split(/\s*:\s*/)});m=h.pop();)this.style(m[0],m[1]);else return this.node.style[b(h)];else this.node.style[b(h)]=m===null||n.regex.isBlank.test(m)?"":m;return this}}),n.Parent=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(h){return n.adopt(h)})},add:function(h,m){return m==null?this.node.appendChild(h.node):h.node!=this.node.childNodes[m]&&this.node.insertBefore(h.node,this.node.childNodes[m]),this},put:function(h,m){return this.add(h,m),h},has:function(h){return this.index(h)>=0},index:function(h){return[].slice.call(this.node.childNodes).indexOf(h.node)},get:function(h){return n.adopt(this.node.childNodes[h])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(h,m){var x,$,B=this.children();for(x=0,$=B.length;x<$;x++)B[x]instanceof n.Element&&h.apply(B[x],[x,B]),m&&B[x]instanceof n.Container&&B[x].each(h,m);return this},removeElement:function(h){return this.node.removeChild(h.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(h,m){return m===0||this instanceof n.Defs||this.node==n.parser.draw?this:(h=h||(this instanceof n.Doc?this:this.parent(n.Parent)),m=m||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(h,m-1):this.toParent(h)}),this.node.firstChild||this.remove(),this)},flatten:function(h,m){return this.ungroup(h,m)}}),n.Container=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(h){var m=[0,0,0,0],x,$,B,Y,pe,le,Me,je=1,ze=1,at=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(h instanceof n.Element){for(le=h,Me=h,pe=(h.attr("viewBox")||"").match(at),h.bbox,B=new n.Number(h.width()),Y=new n.Number(h.height());B.unit=="%";)je*=B.value,B=new n.Number(le instanceof n.Doc?le.parent().offsetWidth:le.parent().width()),le=le.parent();for(;Y.unit=="%";)ze*=Y.value,Y=new n.Number(Me instanceof n.Doc?Me.parent().offsetHeight:Me.parent().height()),Me=Me.parent();this.x=0,this.y=0,this.width=B*je,this.height=Y*ze,this.zoom=1,pe&&(x=parseFloat(pe[0]),$=parseFloat(pe[1]),B=parseFloat(pe[2]),Y=parseFloat(pe[3]),this.zoom=this.width/this.height>B/Y?this.height/Y:this.width/B,this.x=x,this.y=$,this.width=B,this.height=Y)}else h=typeof h=="string"?h.match(at).map(function(Gt){return parseFloat(Gt)}):Array.isArray(h)?h:typeof h=="object"?[h.x,h.y,h.width,h.height]:arguments.length==4?[].slice.call(arguments):m,this.x=h[0],this.y=h[1],this.width=h[2],this.height=h[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(h,m,x,$){return this.destination=new n.ViewBox(h,m,x,$),this},at:function(h){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*h,this.y+(this.destination.y-this.y)*h,this.width+(this.destination.width-this.width)*h,this.height+(this.destination.height-this.height)*h]):this}},parent:n.Container,construct:{viewbox:function(h,m,x,$){return arguments.length==0?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(h,m,x,$))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(h){n.Element.prototype[h]=function(m){return m==null?n.off(this,h):n.on(this,h,m),this}}),n.listenerId=0,n.on=function(h,m,x,$,B){var Y=x.bind($||h),pe=h instanceof n.Element?h.node:h;pe.instance=pe.instance||{_events:{}};var le=pe.instance._events;x._svgjsListenerId||(x._svgjsListenerId=++n.listenerId),m.split(n.regex.delimiter).forEach(function(Me){var je=Me.split(".")[0],ze=Me.split(".")[1]||"*";le[je]=le[je]||{},le[je][ze]=le[je][ze]||{},le[je][ze][x._svgjsListenerId]=Y,pe.addEventListener(je,Y,B||!1)})},n.off=function(h,m,x,$){var B=h instanceof n.Element?h.node:h;if(B.instance&&!(typeof x=="function"&&(x=x._svgjsListenerId,!x))){var Y=B.instance._events;(m||"").split(n.regex.delimiter).forEach(function(pe){var le=pe&&pe.split(".")[0],Me=pe&&pe.split(".")[1],je,ze;if(x)Y[le]&&Y[le][Me||"*"]&&(B.removeEventListener(le,Y[le][Me||"*"][x],$||!1),delete Y[le][Me||"*"][x]);else if(le&&Me){if(Y[le]&&Y[le][Me]){for(ze in Y[le][Me])n.off(B,[le,Me].join("."),ze);delete Y[le][Me]}}else if(Me)for(pe in Y)for(je in Y[pe])Me===je&&n.off(B,[pe,Me].join("."));else if(le){if(Y[le]){for(je in Y[le])n.off(B,[le,je].join("."));delete Y[le]}}else{for(pe in Y)n.off(B,pe);B.instance._events={}}})}},n.extend(n.Element,{on:function(h,m,x,$){return n.on(this,h,m,x,$),this},off:function(h,m){return n.off(this.node,h,m),this},fire:function(h,m){return h instanceof i.Event?this.node.dispatchEvent(h):this.node.dispatchEvent(h=new n.CustomEvent(h,{detail:m,cancelable:!0})),this._event=h,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(h){return h==null?this.transform("x"):this.transform({x:h-this.x()},!0)},y:function(h){return h==null?this.transform("y"):this.transform({y:h-this.y()},!0)},cx:function(h){return h==null?this.gbox().cx:this.x(h-this.gbox().width/2)},cy:function(h){return h==null?this.gbox().cy:this.y(h-this.gbox().height/2)},gbox:function(){var h=this.bbox(),m=this.transform();return h.x+=m.x,h.x2+=m.x,h.cx+=m.x,h.y+=m.y,h.y2+=m.y,h.cy+=m.y,h}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(h){h&&(h=typeof h=="string"?r.getElementById(h):h,h.nodeName=="svg"?this.constructor.call(this,h):(this.constructor.call(this,n.create("svg")),h.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var h;(h=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(h):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var h=this.node.getScreenCTM();return h&&this.style("left",-h.e%1+"px").style("top",-h.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(h){this.writeDataToDom();var m=this.node,x=N(m.cloneNode(!0));return h?(h.node||h).appendChild(x.node):m.parentNode.insertBefore(x.node,m.nextSibling),x}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var h=this.position()+1,m=this.parent();return m.removeElement(this).add(this,h),m instanceof n.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var h=this.position();return h>0&&this.parent().removeElement(this).add(this,h-1),this},front:function(){var h=this.parent();return h.node.appendChild(this.node),h instanceof n.Doc&&h.node.appendChild(h.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(h){h.remove();var m=this.position();return this.parent().add(h,m),this},after:function(h){h.remove();var m=this.position();return this.parent().add(h,m+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(h){return this.masker=h instanceof n.Mask?h:this.parent().mask().add(h),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(h){return this.clipper=h instanceof n.ClipPath?h:this.parent().clip().add(h),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(h){this.constructor.call(this,n.create(h+"Gradient")),this.type=h},inherit:n.Container,extend:{at:function(h,m,x){return this.put(new n.Stop).update(h,m,x)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="gradientTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{gradient:function(h,m){return this.defs().gradient(h,m)}}}),n.extend(n.Gradient,n.FX,{from:function(h,m){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(h),fy:new n.Number(m)}):this.attr({x1:new n.Number(h),y1:new n.Number(m)})},to:function(h,m){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(h),cy:new n.Number(m)}):this.attr({x2:new n.Number(h),y2:new n.Number(m)})}}),n.extend(n.Defs,{gradient:function(h,m){return this.put(new n.Gradient(h)).update(m)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(h){return(typeof h=="number"||h instanceof n.Number)&&(h={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",new n.Number(h.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="patternTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{pattern:function(h,m,x){return this.defs().pattern(h,m,x)}}}),n.extend(n.Defs,{pattern:function(h,m,x){return this.put(new n.Pattern).update(x).attr({x:0,y:0,width:h,height:m,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element}),n.Bare=n.invent({create:function(h,m){if(this.constructor.call(this,n.create(h)),m)for(var x in m.prototype)typeof m.prototype[x]=="function"&&(this[x]=m.prototype[x])},inherit:n.Element,extend:{words:function(h){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(r.createTextNode(h)),this}}}),n.extend(n.Parent,{element:function(h,m){return this.put(new n.Bare(h,m))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(h,m){return this.attr("href",(m||"")+"#"+h,n.xlink)}},construct:{use:function(h,m){return this.put(new n.Use).element(h,m)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(h,m){return this.put(new n.Rect).size(h,m)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(h){return this.put(new n.Circle).rx(new n.Number(h).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(h){return this.attr("r",h)},ry:function(h){return this.rx(h)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(h,m){return this.put(new n.Ellipse).size(h,m).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(h){return this.attr("rx",h)},ry:function(h){return this.attr("ry",h)}}),n.extend(n.Circle,n.Ellipse,{x:function(h){return h==null?this.cx()-this.rx():this.cx(h+this.rx())},y:function(h){return h==null?this.cy()-this.ry():this.cy(h+this.ry())},cx:function(h){return h==null?this.attr("cx"):this.attr("cx",h)},cy:function(h){return h==null?this.attr("cy"):this.attr("cy",h)},width:function(h){return h==null?this.rx()*2:this.rx(new n.Number(h).divide(2))},height:function(h){return h==null?this.ry()*2:this.ry(new n.Number(h).divide(2))},size:function(h,m){var x=w(this,h,m);return this.rx(new n.Number(x.width).divide(2)).ry(new n.Number(x.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(h,m,x,$){return h==null?this.array():(typeof m<"u"?h={x1:h,y1:m,x2:x,y2:$}:h=new n.PointArray(h).toLine(),this.attr(h))},move:function(h,m){return this.attr(this.array().move(h,m).toLine())},size:function(h,m){var x=w(this,h,m);return this.attr(this.array().size(x.width,x.height).toLine())}},construct:{line:function(h,m,x,$){return n.Line.prototype.plot.apply(this.put(new n.Line),h!=null?[h,m,x,$]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(h){return this.put(new n.Polyline).plot(h||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(h){return this.put(new n.Polygon).plot(h||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(h){return h==null?this.array():this.clear().attr("points",typeof h=="string"?h:this._array=new n.PointArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("points",this.array().move(h,m))},size:function(h,m){var x=w(this,h,m);return this.attr("points",this.array().size(x.width,x.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},width:function(h){var m=this.bbox();return h==null?m.width:this.size(h,m.height)},height:function(h){var m=this.bbox();return h==null?m.height:this.size(m.width,h)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(h){return h==null?this.array():this.clear().attr("d",typeof h=="string"?h:this._array=new n.PathArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("d",this.array().move(h,m))},x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},size:function(h,m){var x=w(this,h,m);return this.attr("d",this.array().size(x.width,x.height))},width:function(h){return h==null?this.bbox().width:this.size(h,this.bbox().height)},height:function(h){return h==null?this.bbox().height:this.size(this.bbox().width,h)}},construct:{path:function(h){return this.put(new n.Path).plot(h||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(h){if(!h)return this;var m=this,x=new i.Image;return n.on(x,"load",function(){n.off(x);var $=m.parent(n.Pattern);$!==null&&(m.width()==0&&m.height()==0&&m.size(x.width,x.height),$&&$.width()==0&&$.height()==0&&$.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:x.width,height:x.height,ratio:x.width/x.height,url:h}))}),n.on(x,"error",function($){n.off(x),typeof m._error=="function"&&m._error.call(m,$)}),this.attr("href",x.src=this.src=h,n.xlink)},loaded:function(h){return this._loaded=h,this},error:function(h){return this._error=h,this}},construct:{image:function(h,m,x){return this.put(new n.Image).load(h).size(m||0,x||m||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(h){return h==null?this.attr("x"):this.attr("x",h)},y:function(h){var m=this.attr("y"),x=typeof m=="number"?m-this.bbox().y:0;return h==null?typeof m=="number"?m-x:m:this.attr("y",typeof h.valueOf()=="number"?h+x:h)},cx:function(h){return h==null?this.bbox().cx:this.x(h-this.bbox().width/2)},cy:function(h){return h==null?this.bbox().cy:this.y(h-this.bbox().height/2)},text:function(h){if(typeof h>"u"){for(var h="",m=this.node.childNodes,x=0,$=m.length;x<$;++x)x!=0&&m[x].nodeType!=3&&n.adopt(m[x]).dom.newLined==!0&&(h+=`
`),h+=m[x].textContent;return h}if(this.clear().build(!0),typeof h=="function")h.call(this,this);else{h=h.split(`
`);for(var x=0,B=h.length;x<B;x++)this.tspan(h[x]).newLine()}return this.build(!1).rebuild()},size:function(h){return this.attr("font-size",h).rebuild()},leading:function(h){return h==null?this.dom.leading:(this.dom.leading=new n.Number(h),this.rebuild())},lines:function(){var h=(this.textPath&&this.textPath()||this).node,m=n.utils.map(n.utils.filterSVGElements(h.childNodes),function(x){return n.adopt(x)});return new n.Set(m)},rebuild:function(h){if(typeof h=="boolean"&&(this._rebuild=h),this._rebuild){var m=this,x=0,$=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?x+=$:(this.attr("dy",$+x),x=0))}),this.fire("rebuild")}return this},build:function(h){return this._build=!!h,this},setData:function(h){return this.dom=h,this.dom.leading=new n.Number(h.leading||1.3),this}},construct:{text:function(h){return this.put(new n.Text).text(h)},plain:function(h){return this.put(new n.Text).plain(h)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(h){return h==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof h=="function"?h.call(this,this):this.plain(h),this)},dx:function(h){return this.attr("dx",h)},dy:function(h){return this.attr("dy",h)},newLine:function(){var h=this.parent(n.Text);return this.dom.newLined=!0,this.dy(h.dom.leading*h.attr("font-size")).attr("x",h.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(h){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(h)),this},tspan:function(h){var m=(this.textPath&&this.textPath()||this).node,x=new n.Tspan;return this._build===!1&&this.clear(),m.appendChild(x.node),x.text(h)},clear:function(){for(var h=(this.textPath&&this.textPath()||this).node;h.hasChildNodes();)h.removeChild(h.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(h){for(var m=new n.TextPath,x=this.doc().defs().path(h);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+x,n.xlink),this},array:function(){var h=this.track();return h?h.array():null},plot:function(h){var m=this.track(),x=null;return m&&(x=m.plot(h)),h==null?x:this},track:function(){var h=this.textPath();if(h)return h.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(h){return this.attr("href",h,n.xlink)},show:function(h){return this.attr("show",h,n.xlink)},target:function(h){return this.attr("target",h)}},construct:{link:function(h){return this.put(new n.A).to(h)}}}),n.extend(n.Element,{linkTo:function(h){var m=new n.A;return typeof h=="function"?h.call(m,m):m.to(h),this.parent().put(m).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(h){return this.attr("markerWidth",h)},height:function(h){return this.attr("markerHeight",h)},ref:function(h,m){return this.attr("refX",h).attr("refY",m)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(h,m,x){return this.defs().marker(h,m,x)}}}),n.extend(n.Defs,{marker:function(h,m,x){return this.put(new n.Marker).size(h,m).ref(h/2,m/2).viewbox(0,0,h,m).attr("orient","auto").update(x)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(h,m,x,$){var B=["marker"];return h!="all"&&B.push(h),B=B.join("-"),h=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(m,x,$),this.attr(B,h)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,m){return m=="color"?h:h+"-"+m}};["fill","stroke"].forEach(function(h){var m,x={};x[h]=function($){if(typeof $>"u")return this;if(typeof $=="string"||n.Color.isRgb($)||$&&typeof $.fill=="function")this.attr(h,$);else for(m=f[h].length-1;m>=0;m--)$[f[h][m]]!=null&&this.attr(f.prefix(h,f[h][m]),$[f[h][m]]);return this},n.extend(n.Element,n.FX,x)}),n.extend(n.Element,n.FX,{rotate:function(h,m,x){return this.transform({rotation:h,cx:m,cy:x})},skew:function(h,m,x,$){return arguments.length==1||arguments.length==3?this.transform({skew:h,cx:m,cy:x}):this.transform({skewX:h,skewY:m,cx:x,cy:$})},scale:function(h,m,x,$){return arguments.length==1||arguments.length==3?this.transform({scale:h,cx:m,cy:x}):this.transform({scaleX:h,scaleY:m,cx:x,cy:$})},translate:function(h,m){return this.transform({x:h,y:m})},flip:function(h,m){return m=typeof h=="number"?h:m,this.transform({flip:h||"both",offset:m})},matrix:function(h){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):h))},opacity:function(h){return this.attr("opacity",h)},dx:function(h){return this.x(new n.Number(h).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(h){return this.y(new n.Number(h).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(h,m){return this.dx(h).dy(m)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(h,m){var x=(this._target||this).type;return x=="radial"||x=="circle"?this.attr("r",new n.Number(h)):this.rx(h).ry(m??h)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(h){return this.node.getPointAtLength(h)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(h,m){if(typeof h=="object")for(m in h)this.font(m,h[m]);return h=="leading"?this.leading(m):h=="anchor"?this.attr("text-anchor",m):h=="size"||h=="family"||h=="weight"||h=="stretch"||h=="variant"||h=="style"?this.attr("font-"+h,m):this.attr(h,m)}}),n.Set=n.invent({create:function(h){h instanceof n.Set?this.members=h.members.slice():Array.isArray(h)?this.members=h:this.clear()},extend:{add:function(){var h,m,x=[].slice.call(arguments);for(h=0,m=x.length;h<m;h++)this.members.push(x[h]);return this},remove:function(h){var m=this.index(h);return m>-1&&this.members.splice(m,1),this},each:function(h){for(var m=0,x=this.members.length;m<x;m++)h.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(h){return this.index(h)>=0},index:function(h){return this.members.indexOf(h)},get:function(h){return this.members[h]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new n.RBox;var h=this.members[0].rbox(this.members[0].doc());return this.each(function(){h=h.merge(this.rbox(this.doc()))}),h}},construct:{set:function(h){return new n.Set(h)}}}),n.FX.Set=n.invent({create:function(h){this.set=h}}),n.Set.inherit=function(){var h,m=[];for(var h in n.Shape.prototype)typeof n.Shape.prototype[h]=="function"&&typeof n.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.Set.prototype[x]=function(){for(var $=0,B=this.members.length;$<B;$++)this.members[$]&&typeof this.members[$][x]=="function"&&this.members[$][x].apply(this.members[$],arguments);return x=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),m=[];for(var h in n.FX.prototype)typeof n.FX.prototype[h]=="function"&&typeof n.FX.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.FX.Set.prototype[x]=function(){for(var $=0,B=this.set.members.length;$<B;$++)this.set.members[$].fx[x].apply(this.set.members[$].fx,arguments);return this}})},n.extend(n.Element,{data:function(h,m,x){if(typeof h=="object")for(m in h)this.data(m,h[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+h))}catch{return this.attr("data-"+h)}else this.attr("data-"+h,m===null?null:x===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),n.extend(n.Element,{remember:function(h,m){if(typeof arguments[0]=="object")for(var m in h)this.remember(m,h[m]);else{if(arguments.length==1)return this.memory()[h];this.memory()[h]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(h){var m=r.getElementById(j(h)||h);return n.adopt(m)},n.select=function(h,m){return new n.Set(n.utils.map((m||r).querySelectorAll(h),function(x){return n.adopt(x)}))},n.extend(n.Parent,{select:function(h){return n.select(h,this.node)}});function d(h,m,x,$){return x+$.replace(n.regex.dots," .")}function p(h){for(var m=h.slice(0),x=m.length;x--;)Array.isArray(m[x])&&(m[x]=p(m[x]));return m}function y(h,m){return h instanceof m}function v(h,m){return(h.matches||h.matchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector).call(h,m)}function b(h){return h.toLowerCase().replace(/-(.)/g,function(m,x){return x.toUpperCase()})}function E(h){return h.charAt(0).toUpperCase()+h.slice(1)}function S(h){return h.length==4?["#",h.substring(1,2),h.substring(1,2),h.substring(2,3),h.substring(2,3),h.substring(3,4),h.substring(3,4)].join(""):h}function T(h){var m=h.toString(16);return m.length==1?"0"+m:m}function w(h,m,x){if(m==null||x==null){var $=h.bbox();m==null?m=$.width/$.height*x:x==null&&(x=$.height/$.width*m)}return{width:m,height:x}}function _(h,m,x){return{x:m*h.a+x*h.c+0,y:m*h.b+x*h.d+0}}function M(h){return{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}}function I(h){return h instanceof n.Matrix||(h=new n.Matrix(h)),h}function C(h,m){h.cx=h.cx==null?m.bbox().cx:h.cx,h.cy=h.cy==null?m.bbox().cy:h.cy}function P(h){for(var m=0,x=h.length,$="";m<x;m++)$+=h[m][0],h[m][1]!=null&&($+=h[m][1],h[m][2]!=null&&($+=" ",$+=h[m][2],h[m][3]!=null&&($+=" ",$+=h[m][3],$+=" ",$+=h[m][4],h[m][5]!=null&&($+=" ",$+=h[m][5],$+=" ",$+=h[m][6],h[m][7]!=null&&($+=" ",$+=h[m][7])))));return $+" "}function N(h){for(var m=h.childNodes.length-1;m>=0;m--)h.childNodes[m]instanceof i.SVGElement&&N(h.childNodes[m]);return n.adopt(h).id(n.eid(h.nodeName))}function U(h){return h.x==null&&(h.x=0,h.y=0,h.width=0,h.height=0),h.w=h.width,h.h=h.height,h.x2=h.x+h.width,h.y2=h.y+h.height,h.cx=h.x+h.width/2,h.cy=h.y+h.height/2,h}function j(h){var m=(h||"").toString().match(n.regex.reference);if(m)return m[1]}function F(h){return Math.abs(h)>1e-37?h:0}var q="abcdef".split("");if(typeof i.CustomEvent!="function"){var te=function(h,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var x=r.createEvent("CustomEvent");return x.initCustomEvent(h,m.bubbles,m.cancelable,m.detail),x};te.prototype=i.Event.prototype,n.CustomEvent=te}else n.CustomEvent=i.CustomEvent;return function(h){for(var m=0,x=["moz","webkit"],$=0;$<x.length&&!i.requestAnimationFrame;++$)h.requestAnimationFrame=h[x[$]+"RequestAnimationFrame"],h.cancelAnimationFrame=h[x[$]+"CancelAnimationFrame"]||h[x[$]+"CancelRequestAnimationFrame"];h.requestAnimationFrame=h.requestAnimationFrame||function(B){var Y=new Date().getTime(),pe=Math.max(0,16-(Y-m)),le=h.setTimeout(function(){B(Y+pe)},pe);return m=Y+pe,le},h.cancelAnimationFrame=h.cancelAnimationFrame||h.clearTimeout}(i),n})}(Wy)),Wy.exports}var Sde=xde();const Pu=av(Sde);class Ede extends Mi{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,i){return i.getGraphicIcon(t)}getGraphicSymbol(t,i){return i.getGraphicSymbol(t)}makeRenderer(t,i,r=!1){switch(t.type){case this.SIMPLE:return new vde(t,i);case this.CLASS_BREAKS:return new _de(t,i,r);case this.UNIQUE_VALUE:return new bde(t,i,r);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const i=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),r={svgcode:"",imgHeight:"",imgWidth:""};if(t){const s=await this.renderSymbologyImage(t);if(s){r.svgcode=s;const n=document.createElement("span");n.innerHTML=s;const o=n.firstElementChild?.lastElementChild;r.imgHeight=o?.getAttribute("height")||"",r.imgWidth=o?.getAttribute("width")||""}else r.svgcode=i.svg()}else r.svgcode=i.svg();return r}listToSymbology(t,i){return i.map(({text:s,image:n})=>{const o={name:s,image:n,svgcode:""};return t(n).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,i=null){i===null&&(i=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const r=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(r===t)return"";const{loader:s}=await this.svgDrawImage(i,r);return i.viewbox(0,0,s.width,s.height),i.svg()}async renderSymbologyIcon(t,i=null){if(i===null){const n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n),i=Pu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const r=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:s}=await this.svgDrawImage(i,r);return s.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(s,this.CONTENT_IMAGE_SIZE),i.svg()}generatePlaceholderSymbology(t,i="#000"){const r=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return r.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(i),r.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:r.svg()}}async generateBlankSymbology(){return Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const i=this,r=1.33333,s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s);const n=Pu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:b}){return n.path(b).size(v*r)},circle({size:v}){return n.circle(v*r)},cross({size:v}){return n.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*r)},x({size:v}){return n.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*r)},triangle({size:v}){return n.path("M 20,20 L 10,0 0,20 Z").size(v*r)},diamond({size:v}){return n.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*r)},square({size:v}){return n.path("M 0,0 20,0 20,20 0,20 Z").size(v*r)}},a={[Wr.SOLID]:"none",[Wr.NONE]:"none",[Wr.DASH]:"5.333,4",[Wr.DOT]:"1.333,4",[Wr.DASHDOT]:"5.333,4,1.333,4",[Wr.LONGDASH]:"10.666,4",[Wr.LONGDASHDOT]:"10.666,4,1.333,4",[Wr.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[Wr.SHORTDOT]:"1.333,1.333",[Wr.SHORTDASH]:"5.333,1.333",[Wr.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[Wr.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,b)=>n.pattern(5,5,S=>S.line(0,5/2,5,5/2)).stroke(b),vertical:(v,b)=>n.pattern(5,5,S=>S.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(v,b)=>n.pattern(5,5,S=>{S.line(0,0,5,5).stroke(b),S.line(0,0,5,5).move(0,5).stroke(b),S.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(v,b)=>n.pattern(5,5,S=>{S.line(5,0,0,5).stroke(b),S.line(5,0,0,5).move(5/2,5/2).stroke(b),S.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(v,b)=>n.pattern(5,5,S=>{S.line(5/2,0,5/2,5).stroke(b),S.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(v,b)=>n.pattern(7,7,S=>{S.line(0,0,7,7).stroke(b),S.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const v=y(t.color);t.outline=t.outline||c;const b=y(t.outline.color),E=p({color:b.colour,opacity:b.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),S=o[t.style](t).fill({color:v.colour,opacity:v.opacity}).stroke(E).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0);i.fitInto(S,i.CONTENT_SIZE)},"simple-line"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),E=i.CONTENT_PADDING,S=i.CONTAINER_SIZE-i.CONTENT_PADDING;n.line(E,E,S,S).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity}),E=f[t.style](v,b);t.outline=t.outline||c;const S=y(t.outline.color),T=p({color:S.colour,opacity:S.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(E).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,b=t.width*t.xscale,E=t.height*t.yscale;t.outline=t.outline||c;const S=y(t.outline.color),T=p({color:S.colour,opacity:S.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return i.$iApi.geo.shared.convertImagetoDataURL(v).then(_=>{const M=n.pattern(b,E,I=>I.image(_,b,E));n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(M).stroke(T)})},"picture-marker"(){const v=t.source,b=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:t.url;return i.$iApi.geo.shared.convertImagetoDataURL(b).then(S=>i.svgDrawImage(n,S)).then(({image:S})=>{S.center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0),i.fitInto(S,i.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(s),n.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,i,r=0,s=0,n=!0){return new Promise((o,a)=>{const l=t.image(i,r,s,n).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,i){const r=t.node.getBoundingClientRect(),s=i/Math.max(r.width,r.height);s<1&&t.scale(s)}rendererToLegend(t){let i;const r=t.symbolUnits.slice(0);if(t.defaultUnit&&r.push(t.defaultUnit),t.falseRenderer)i=r.map(s=>[s]);else{const s=new Map;r.forEach(n=>{const o=s.get(n.label);o?o.push(n):s.set(n.label,[n])}),i=[],s.forEach(n=>i.push(n))}return i.map(s=>{const n=s[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:n.label||"",definitionClause:s.length===1?n.definitionClause:`(${s.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(n.symbol).then(a=>{o.svgcode=a,s.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const i={query:{f:"json"}},r={layers:[]},[s,n]=await Cn(Pi(`${t}/legend`,i));return n?n.data?n.data:(console.error(`Error loading legend data for ${t}`),r):(console.error(`Error loading legend for ${t}`,s),r)}async mapServerLegendToRenderer(t,i){const r=t.layers.find(n=>n.layerId===i);let s;if(typeof r<"u"){s={type:"uniqueValue",field:"fakefield",uniqueValueInfos:r.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const n=await Mt.RendererFromJson(s);return this.makeRenderer(n,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const i=t.layers.map(n=>n.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),r={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...i)},s=await Mt.RendererFromJson(r);return this.makeRenderer(s,[],!0)}async mapServerToLocalLegend(t,i=void 0){const r=await this.getMapServerLegend(t);let s,n;return typeof i>"u"?(n=0,s=await this.mapServerLegendToRendererAll(r)):(n=parseInt(i),s=await this.mapServerLegendToRenderer(r,n)),this.rendererToLegend(s)}}class Ade extends Mi{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const i=await Mt.Query();i.returnGeometry=!1,t.filterSql&&(i.where=t.filterSql),t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),i.spatialRelationship="intersects");const r=await Mt.QueryByIds(t.url,i);return Array.isArray(r)?r:[]}async geoJsonQuery(t){const i=await Mt.Query();if(i.returnGeometry=!!t.includeGeometry,i.outFields=["*"],t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),i.spatialRelationship="intersects"),t.filterSql&&(i.where=t.filterSql),t.filterOIDs&&(i.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(i)).features.map((s,n)=>{let o;return i.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(s.geometry,`queryResult${n}`):o=new Al,new Sn(o,"",s.attributes)})}async queryGeometryHelper(t,i,r,s){return!i&&t.type===Ze.EXTENT&&s&&!s.isEqual(t.sr)&&!(r&&r>2e7&&t.sr.wkid===3978&&s.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(s,t)).toESRI():t.toESRI()}makeClickBuffer(t,i=5){const r=this.$iApi.geo.map,s=r.getExtent(),n=i*(s.xmax-s.xmin)/r.getPixelWidth();return new Qt("ze_buffer",[t.x-n,t.y-n],[t.x+n,t.y+n],t.sr)}}class Tde extends Mi{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=Mh.geom,this.proj=Mh.proj,this.shared=Mh.sharedUtils,this.map=new gfe(t),this.layer=new Jfe(t),this.attributes=new mde(t),this.query=new Ade(t),this.symbology=new Ede(t),Array.isArray(Ot.request.interceptors)||(Ot.request.interceptors=[]),Ot.request.interceptors.push({before:i=>{i.url.includes("?blankTile=false")&&(i.url=i.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){Ot.request.proxyUrl=t}get proxy(){return Ot.request.proxyUrl||""}}const Mde=Object.assign({"../fixtures/appbar/index.ts":()=>_e(()=>import("./index-CakAWzkM.js"),__vite__mapDeps([207,1,208]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>_e(()=>import("./index-RZDuK4v7.js"),__vite__mapDeps([209,210,211,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>_e(()=>import("./index-Bi05MaPk.js"),__vite__mapDeps([212,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>_e(()=>import("./index-CapdxxGZ.js"),__vite__mapDeps([213,1,214]),import.meta.url),"../fixtures/details/index.ts":()=>_e(()=>import("./index-154ghjpA.js"),__vite__mapDeps([215,1,216]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>_e(()=>import("./index-BqW5zpA_.js"),__vite__mapDeps([217,218,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>_e(()=>import("./index-Ds4XCTGI.js"),__vite__mapDeps([219,218,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>_e(()=>import("./index-DNjWLHkr.js"),__vite__mapDeps([220,218,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>_e(()=>import("./index-CwDZkLER.js"),__vite__mapDeps([221,218,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>_e(()=>import("./index-kLEev-X3.js"),__vite__mapDeps([222,218,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>_e(()=>import("./index-Cc_3irdL.js"),__vite__mapDeps([223,218,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>_e(()=>import("./index-CuMKft5_.js"),__vite__mapDeps([224,218,1]),import.meta.url),"../fixtures/export/index.ts":()=>_e(()=>import("./index-GjsFapYS.js"),__vite__mapDeps([225,1,226]),import.meta.url),"../fixtures/extentguard/index.ts":()=>_e(()=>import("./index-CGHvUzTq.js"),__vite__mapDeps([227,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>_e(()=>import("./index-fF3wYaex.js"),__vite__mapDeps([228,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>_e(()=>import("./index-nKOngkIK.js"),__vite__mapDeps([229,1]),import.meta.url),"../fixtures/grid/index.ts":()=>_e(()=>import("./index-By2en9JS.js"),__vite__mapDeps([230,1,231]),import.meta.url),"../fixtures/help/index.ts":()=>_e(()=>import("./index-noO6oNYn.js"),__vite__mapDeps([232,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>_e(()=>import("./index-UFTU2GMQ.js"),__vite__mapDeps([233,216,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>_e(()=>import("./index-Bnf-W5EX.js"),__vite__mapDeps([234,1]),import.meta.url),"../fixtures/legend/index.ts":()=>_e(()=>import("./index-CSifV5s6.js"),__vite__mapDeps([235,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>_e(()=>import("./index-D-RpA0o6.js"),__vite__mapDeps([236,1,237]),import.meta.url),"../fixtures/metadata/index.ts":()=>_e(()=>import("./index-CBVxsjHn.js"),__vite__mapDeps([238,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>_e(()=>import("./index-BpfT7kAk.js"),__vite__mapDeps([239,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>_e(()=>import("./index-Cx7av860.js"),__vite__mapDeps([240,1,241]),import.meta.url),"../fixtures/panguard/index.ts":()=>_e(()=>import("./index-DlQ470l5.js"),__vite__mapDeps([242,1,243]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>_e(()=>import("./index-D1j_L8ix.js"),__vite__mapDeps([244,1,245]),import.meta.url),"../fixtures/settings/index.ts":()=>_e(()=>import("./index-BgDinnZc.js"),__vite__mapDeps([246,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>_e(()=>import("./index-D7aQlB_e.js"),__vite__mapDeps([247,1]),import.meta.url),"../fixtures/wizard/index.ts":()=>_e(()=>import("./index-Clk4QW4V.js"),__vite__mapDeps([248,1]),import.meta.url)});class Ide extends Mi{constructor(t){super(t)}exists(t){return t in ks(this.$vApp.$pinia).items}async add(t,i){let r;if(t in ks(this.$vApp.$pinia).items)return this.get(t);if(i){if(typeof i!="function")throw new Error("malformed fixture constructor");r=dA.updateBaseToInstance(new i,t,this.$iApi)}else{const s=(await Mde[`../fixtures/${t}/index.ts`]()).default;r=new s(t,this.$iApi)}return ks(this.$vApp.$pinia).addFixture(r),this.$iApi.event.emit($e.FIXTURE_ADDED,r),this.$iApi.geo.map.created&&r.initialized?.(),r}remove(t){const i=this.get(t);if(!i)throw new Error(`Could not find fixture ${t} for removal`);return ks(this.$vApp.$pinia).removeFixture(i),this.$iApi.event.emit($e.FIXTURE_REMOVED,i),i}flush(){const t=ks(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=this.get(r);s?.persist&&typeof s?.removed=="function"?s.removed():s&&this.remove(r)})}restore(){const t=ks(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=t.items[r];typeof s.added=="function"&&s.added(),this.$iApi.geo.map.created&&typeof s.initialized=="function"&&s.initialized()})}get(t){const i=[];typeof t=="string"?i.push(t):Array.isArray(t)?i.push(...t):i.push(t.id);const r=i.map(s=>{const n=ks(this.$vApp.$pinia).items[s];if(n)return n});return r.length===1?r[0]:r}isLoaded(t){const i=ks(this.$vApp.$pinia),r=Array.isArray(t)?t:[t];r.forEach(n=>{i.loadPromises[n]===void 0&&i.addLoadPromise(n)});const s=i.getLoadPromises(r);return Array.isArray(t)?Promise.all(s):s[0]}addDefaultFixtures(t){Array.isArray(t)||(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const i=es(this.$vApp.$pinia);return i.startingFixtures=t,Promise.all(t.map(r=>this.add(r)))}}class dA extends Mi{static updateBaseToInstance(t,i,r){const s=new dA(i,r);return Object.defineProperties(t,{id:{value:i},$iApi:{value:r},persist:{value:t.persist??!0},$vApp:{get(){return s.$vApp}},remove:{value:s.remove},extend:{value:s.extend},config:{get(){return s.config}},mount:{value:s.mount}}),t}id;persist;constructor(t,i){super(i),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,i={}){const r=rt({extends:t,iApi:this.$iApi,data(){return{...i}}}),s=wl(r),{el:n}=this.mount(r,{props:{...i.propsData},app:s});return n}mount(t,{props:i,children:r,element:s,app:n}={}){let o=s,a=Vs(t,i,r);return n&&n._context&&(a.appContext=n._context),o||(o=document.createElement("div")),Ah(a,o),{vNode:a,destroy:()=>{o&&Ah(null,o),o=null,a=null},el:o}}get config(){return es(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},i=(r,s=void 0)=>{if(r.fixtures&&r.fixtures[this.id]!==void 0){let n=r.id;s!==void 0&&(n=this.$iApi.geo.layer.sublayerId(s.id,r.index)),t[n]=r.fixtures[this.id]}r.sublayers&&r.sublayers.forEach(n=>i(n,r))};return this.$iApi.geo.layer.allLayers().forEach(r=>i(r.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const i={};if(typeof this.config.panelWidth=="number")t.forEach(r=>{i[r]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(r=>{i[r]=this.config.panelWidth.default});for(const r in this.config.panelWidth)r!="default"&&(i[r]=this.config.panelWidth[r])}for(const r in i){const s=this.$iApi.panel.get(r);this.$iApi.panel.setStyle(s,{"flex-basis":`${i[r]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const i=Xc(this.$vApp.$pinia),r=!!this.config.panelTeleport.target;t.forEach(s=>{i.items[s].teleport=r?this.config.panelTeleport:this.config.panelTeleport[s],i.items[s].style.width="100%"})}}}class Ode extends Mi{panelStore=Xc(this.$vApp.$pinia);updateHTML(t,i,r){const s=this.get(t),n=r?s.screens[r]:Object.values(s.screens)[0];if(gP(n))for(const o in i)n[o].innerHTML=i[o]instanceof HTMLElement?i[o].outerHTML:i[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const r in t.content)if(typeof t.content[r]=="string"){const s=document.createElement("div");s.innerHTML=t.content[r],t.content[r]=s}const i={};return i[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},i[t.id].screens[t.id]=t.content,i}registerHTML(t){const i=this.get(t.id);if(i)return console.error("Panel already exist"),i;const r=this.registerHTMLConfig(t),s={i18n:{messages:t.i18nMap}};return this.register(r,s)}register(t,i){const r=$de(t)?{[t.id]:t.config}:t;if(i){const n=i.i18n||{},o=this.$iApi.$i18n;Object.entries(n.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(n.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(n.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const s=Object.entries(r).reduce((n,[o,a])=>(n.push(new Y0(this.$iApi,o,a)),n),[]);return s.forEach(n=>this.panelStore.registerPanel(n)),s.length===1?s[0]:s.reduce((n,o)=>(n[o.id]=o,n),{})}async isRegistered(t){const i=Array.isArray(t)?t:[t];i.forEach(s=>{this.panelStore.regPromises[s]===void 0&&this.panelStore.addRegPromise(s)});const r=this.panelStore.getRegPromises(i);return Array.isArray(t)?Promise.all(r):r[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(t){const i=this.get(t);i&&(i.isOpen&&this.close(i),this.panelStore.removePanel(i))}get(t){const i=typeof t=="string"?t:t.id;return this.panelStore.items[i]}open(t){let i,r,s;if(typeof t=="string"||t instanceof Y0?i=this.get(t):(i=this.get(t.id),{screen:r,props:s}=t),!i)return i;if(i.isOpen&&!i.isVisible)i.minimize();else if(i.isOpen)return i;return r||(i.route&&!s?{screen:r,props:s}=i.route:r=Object.keys(i.screens).pop()),this.show(i,{screen:r,props:s})?(this.panelStore.openPanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_OPENED,i)):console.error(`Failed to open ${i.id} panel.`),i}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_CLOSED,i),i)}minimize(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_MINIMIZED,i),i)}move(t,i){const r=this.get(t);return r&&(this.panelStore.movePanel(r,i),r)}toggle(t,i){let r;return typeof t=="string"||t instanceof Y0?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(t):this.close(r):r)}toggleMinimize(t,i){let r;return typeof t=="string"||t instanceof Y0?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(r):this.minimize(r):r)}pin(t,i){const r=this.get(t);return!r||(i=typeof i<"u"?i:!r.isPinned,!r.isPinned&&!i)||(this.panelStore.pinned=i?r:void 0),r}get pinned(){return this.panelStore.pinned||void 0}show(t,i){const r=this.get(t);if(!r)return r;if(r.screens[i.screen]){if(r.screens[i.screen]?.props){const s=Object.keys(r.screens[i.screen]?.props).filter(o=>o!=="panel"),n=i.props?Object.keys(i.props):[];for(let o=0;o<s.length;o++)if(!n.includes(s[o])&&r.screens[i.screen].props[s[o]].required)return}return i.screen in this.$element._context.components||r.registerScreen(i.screen),r.teleport&&(i.props={header:!!r.teleport?.showHeader,...i.props}),this.panelStore.items[r.id].route=i,r}}setStyle(t,i,r=!1){const s=this.get(t);return s&&(this.panelStore.items[s.id].style=r?i:{...s.style,...i},s)}expand(t,i){const r=this.get(t);return r&&(this.panelStore.items[r.id].expanded=i!==void 0?i:!r.expanded,r)}}function $de(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const Cde={};function Nde(e,t){const i=_i("panel-screen");return fe(),Vt(i,{header:!1,class:"screen-spinner"},{content:Ti(()=>t[0]||(t[0]=[ue("div",{class:"loader"},null,-1)])),_:1})}const Pde=da(Cde,[["render",Nde],["__scopeId","data-v-d6b3771a"]]),Lde=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>_e(()=>import("./screen-qYdcRks0.js"),__vite__mapDeps([249,210,211,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>_e(()=>import("./screen-BckIrElU.js"),__vite__mapDeps([250,1,251]),import.meta.url),"../fixtures/export/screen.vue":()=>_e(()=>import("./screen-CNHMj0-Y.js"),__vite__mapDeps([252,226,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>_e(()=>import("./screen-BD8e8MKL.js"),__vite__mapDeps([253,1,254]),import.meta.url),"../fixtures/grid/screen.vue":()=>_e(()=>import("./screen-ClDYabXi.js"),__vite__mapDeps([255,231,1,256]),import.meta.url),"../fixtures/help/screen.vue":()=>_e(()=>import("./screen-DeLgloCK.js"),__vite__mapDeps([257,258,1,259]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>_e(()=>import("./screen-BXgSZd9Z.js"),__vite__mapDeps([260,261,1,262]),import.meta.url),"../fixtures/legend/screen.vue":()=>_e(()=>import("./screen-HBc3QLV1.js"),__vite__mapDeps([263,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>_e(()=>import("./screen-i9nSludp.js"),__vite__mapDeps([264,258,1,265]),import.meta.url),"../fixtures/settings/screen.vue":()=>_e(()=>import("./screen-BM_KTUDi.js"),__vite__mapDeps([266,261,267,268,1,269]),import.meta.url),"../fixtures/wizard/screen.vue":()=>_e(()=>import("./screen-tUPZe1RM.js"),__vite__mapDeps([270,261,1,271]),import.meta.url)});class Y0 extends Mi{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const i=this.screens[t];let r;if(uX(i)||cX(i))r=i,this.loadedScreens.push(t);else if(gP(i))r={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let s;typeof i=="string"?s=Lde[`../fixtures/${i}`]():s=i();const n=new Promise((o,a)=>{s.then(l=>{this.loadedScreens.push(t),o(hX(l)?l.default:l)}),s.catch(l=>a(l))});r=bE({loader:()=>n,loadingComponent:Pde,delay:200})}this.$iApi.$element.component(t,r)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,i,r){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:i,style:{},expanded:!1,controls:{expand:!1,...r.controls},...r},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const i=typeof t=="string"?{screen:t}:t;return this.route=i,this.$iApi.panel.show(this,i),this}setStyles(t,i=!1){return this.$iApi.panel.setStyle(this,t,i),this}expand(t){return this.$iApi.panel.expand(this,t),this}}class kde extends Mi{constructor(t){super(t)}async easyLayer(t,i){const r=this.$iApi.geo.layer.createLayer(t);await this.$iApi.geo.map.addLayer(r);const s=this.$iApi.fixture.get("legend");return s&&(i?s.addItem(i):await s.addLayerItem(r)),r}}function Rde(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=Dde(o);t[o.language]=a});const r=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let s=!1;const n=r.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return s=s||!c,c}));return s&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),n.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:n,configs:t}}function Dde(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return jde(e.services,t),Fde(e.map,t),Vde(e.ui,t),e.plugins&&Bde(e.plugins,t),t}function Fde(e,t){if(e.layers&&e.layers.forEach(i=>{t.layers.unshift(Ude(i))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const i={};e.components.northArrow.arrowIcon&&(i.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(i.poleIcon=e.components.northArrow.poleIcon),i&&(t.fixtures.northarrow=i,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(i=>{const r={id:i.id,default:{xmin:i.default.xmin,xmax:i.default.xmax,ymin:i.default.ymin,ymax:i.default.ymax,spatialReference:i.spatialReference}};i.full&&(r.full={xmin:i.full.xmin,xmax:i.full.xmax,ymin:i.full.ymin,ymax:i.full.ymax,spatialReference:i.spatialReference}),i.maximum&&(r.maximum={xmin:i.maximum.xmin,xmax:i.maximum.xmax,ymin:i.maximum.ymin,ymax:i.maximum.ymax,spatialReference:i.spatialReference}),t.map.extentSets.push(r)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(i=>{const r={id:i.id,name:i.name,extentSetId:i.extentSetId,lodSetId:i.lodSetId,thumbnailTileUrls:[],hasNorthPole:i.hasNorthPole||!1};i.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[i.id]={id:i.overviewUrl.id||`overviewmap-basemap-${i.id}`,tileSchemaId:i.id,layers:[{id:i.overviewUrl.id||`overviewmap-basemap-${i.id}-0`,layerType:i.overviewUrl.layerType==="esriDynamic"?Ne.MAPIMAGE:Ne.TILE,url:i.overviewUrl.url,opacity:i.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(r)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(i=>{const r={id:i.id,tileSchemaId:i.tileSchemaId,name:i.name,description:i.description,altText:i.altText,thumbnailUrl:i.thumbnailUrl,layers:[]};i.attribution&&(r.attribution={text:{},logo:{}},i.attribution.text&&(r.attribution.text.disabled=!i.attribution.text.enabled,r.attribution.text.value=i.attribution.text.value),i.attribution.logo&&(r.attribution.logo.disabled=!i.attribution.logo.enabled,r.attribution.logo.altText=i.attribution.logo.altText,r.attribution.logo.value=i.attribution.logo.value,r.attribution.logo.link=i.attribution.logo.link)),i.layers.forEach((s,n)=>{const o={id:s.id||`${i.id}-${n}`,layerType:s.layerType==="esriDynamic"?Ne.MAPIMAGE:Ne.TILE,url:s.url,opacity:s.opacity??1};r.layers.push(o)}),t.map.basemaps.push(r)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(i=>{if(i.type==="esri-map-image"||i.type==="ogc-wms"){const r={name:i.name??`${i.id} Group`,children:[]};i.sublayers.forEach(s=>{const n={layerId:i.id};s.name&&(n.name=s.name),s.controls&&(n.controls=s.controls),s.disabledControls&&(n.disabledControls=s.disabledControls),i.type==="esri-map-image"?n.sublayerIndex=s.index:(n.sublayerId=s.id,console.warn(`sublayerId property defined in legend entry ${n.layerId} is currently not supported.`)),r.children.push(n)}),t.fixtures.legend.root.children.push(r)}else{const r={layerId:i.id};i.controls&&(r.controls=i.controls),i.disabledControls&&(r.disabledControls=i.disabledControls),t.fixtures.legend.root.children.push(r)}})):t.fixtures.legend={root:Dx(e.legend.root)})}function Dx(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const i=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=ff(e.controls,i),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=ff(e.disabledControls,i),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(r=>{if(r.layerId)t.children.push(PO(r));else if(r.infoType)r.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:r.infoType,content:r.content}),typeof r.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(r.exclusiveVisibility){const s={name:"Visibility Set",children:[],exclusive:!0};typeof r.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),r.exclusiveVisibility.forEach(n=>{n.layerId?s.children.push(PO(n)):s.children.push(Dx(n))}),t.children.push(s)}else t.children.push(Dx(r))}),t}function PO(e){const t=e,i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=ff(e.controls,i),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=ff(e.disabledControls,i)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function Ude(e){const t=w_(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=w_(i);r.index=i.index,t.sublayers.push(r)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=w_(i);r.id=i.id,i.currentStyle&&(r.currentStyle=i.currentStyle,console.warn(`currentStyle property provided in layer entry ${i.id} of layer ${e.id} is currently not supported.`)),i.allStyles&&console.warn(`allStyles property provided in layer entry ${i.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(r)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function w_(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=ff(e.controls,i),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=ff(e.disabledControls,i)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),Gde(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(r=>{const s={field:r.data};r.title&&(s.title=r.title),r.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof r.visible<"u"&&(s.visible=r.visible),r.width&&(s.width=r.width),r.sort&&(s.sort=r.sort),typeof r.searchable<"u"&&(s.searchable=r.searchable),r.filter&&(s.filter=r.filter),t.fixtures.grid.columns.push(s)})))),t}function ff(e,t){const i=[];return e.forEach(r=>{t.includes("identify")&&r==="query"?i.push("identify"):t.includes("datatable")&&r==="data"?i.push("datatable"):t.includes(r)?i.push(r):console.warn(`Ignored invalid control: ${r}`)}),i}function jde(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(r=>r!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(r=>{typeof e[r]<"u"&&console.warn(`${r} property provided in services config cannot be mapped and will be skipped.`)})}function Vde(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const s=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(n=>{const o=n.toLowerCase();s.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${n}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const s=["groupToggle","visibilityToggle"];e.legend.reorderable&&s.push("layerReorder"),e.legend.allowImport&&s.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=s:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:s,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const i=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(s=>{s.forEach(n=>{n==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):n!=="layers"&&i.includes(n)&&!t.fixtures.appbar.items.includes(n.toLowerCase())&&(t.fixtures.appbar.items.push(n.toLowerCase()),(n.toLowerCase()==="help"||n.toLowerCase()==="export"&&!t.fixturesEnabled.includes(n.toLowerCase()))&&t.fixturesEnabled.push(n.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(s=>{typeof e[s]<"u"&&console.warn(`${s} property provided in services config cannot be mapped and will be skipped.`)})}function Bde(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(i=>({title:`${i["title-en-CA"]} / ${i["title-fr-CA"]}`,thumbnail:i.thumbnailUrl,altText:i.altText??"",description:i.description??"",extent:{xmin:i.xmin,xmax:i.xmax,ymin:i.ymin,ymax:i.ymax,spatialReference:{wkid:i.wkid}}}))}))}function Gde(e,t){const i=e.outfields&&e.outfields!=="*";if(!i&&!e.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(r.fieldInfo=e.fieldMetadata.map(s=>{const n={name:s.data};return s.alias&&(n.alias=s.alias),n}),i&&(e.outfields.split(",").map(n=>n.trim()).forEach(n=>{r.fieldInfo.findIndex(o=>o.name===n)===-1&&r.fieldInfo.push({name:n})}),r.exclusiveFields=!0)):i&&(r.fieldInfo=e.outfields.split(",").map(s=>({name:s.trim()})),r.exclusiveFields=!0),t.fieldMetadata=r}var Yu={major:"4",minor:"12",patch:"0-beta",timestamp:"Thu May 29 09:24:35 2025 -0400",hash:"f5d8374c4d37df77c0d3cf49cf094768d6ec759b"};console.info(`RAMP v${Yu.major}.${Yu.minor}.${Yu.patch} [${Yu.hash.slice(0,9)}] (Built on ${new Date(Yu.timestamp.toString()).toLocaleString()})`);const Kf=Yu;function $ve(e){return Rde(e)}const Cve=(e,t,i)=>new ffe(e,t,i),Mh=new lX;export{Ot as $,N$ as A,g as B,sv as C,A as D,NS as E,dA as F,Jt as G,Xi as H,To as I,et as J,Vj as K,mp as L,gp as M,ie as N,qi as O,Dr as P,xC as Q,c0e as R,$$ as S,b0e as T,K0 as U,Ct as V,VC as W,pp as X,fm as Y,O$ as Z,Ume as _,kc as a,OS as a$,Yt as a0,gve as a1,n0e as a2,al as a3,Pi as a4,nN as a5,OU as a6,yme as a7,l0 as a8,Ai as a9,In as aA,Sge as aB,tge as aC,Ce as aD,m0 as aE,yh as aF,Mpe as aG,go as aH,Nme as aI,QF as aJ,DS as aK,hm as aL,dt as aM,Qi as aN,ps as aO,sT as aP,Q$ as aQ,O1 as aR,gm as aS,wp as aT,yU as aU,Rye as aV,Dye as aW,df as aX,rge as aY,Mo as aZ,re as a_,U7 as aa,A$ as ab,V7 as ac,Tn as ad,G0e as ae,An as af,nH as ag,Ove as ah,w5 as ai,S5 as aj,x5 as ak,_5 as al,f4 as am,D1e as an,mye as ao,dD as ap,_ge as aq,Fz as ar,Ege as as,Age as at,gge as au,CS as av,eq as aw,eo as ax,xr as ay,t$ as az,WF as b,D1 as b$,zF as b0,$6 as b1,Oge as b2,Yz as b3,uT as b4,V$ as b5,UW as b6,Eq as b7,_S as b8,Sq as b9,A0e as bA,Ws as bB,Uye as bC,ume as bD,Ci as bE,_p as bF,g0e as bG,dm as bH,ym as bI,dp as bJ,En as bK,j1 as bL,$ve as bM,f0e as bN,dve as bO,KU as bP,u0e as bQ,Gc as bR,W1 as bS,Tj as bT,Rd as bU,Rge as bV,Uge as bW,Fge as bX,Dge as bY,wge as bZ,xge as b_,H6 as ba,pge as bb,$ge as bc,aq as bd,Op as be,Ip as bf,oge as bg,mge as bh,z0e as bi,Dc as bj,ot as bk,gf as bl,N0e as bm,uh as bn,ipe as bo,rpe as bp,jye as bq,spe as br,iD as bs,vo as bt,r1e as bu,Ni as bv,_pe as bw,BO as bx,m$ as by,ct as bz,Cve as c,qye as c$,xm as c0,j_ as c1,j7 as c2,R1e as c3,vf as c4,GW as c5,zW as c6,qW as c7,$ye as c8,S_ as c9,wV as cA,gj as cB,e$ as cC,mb as cD,qC as cE,Sf as cF,Y_ as cG,Ht as cH,H_ as cI,Z_ as cJ,fg as cK,FS as cL,Ux as cM,jx as cN,Bye as cO,Bpe as cP,PU as cQ,$h as cR,pS as cS,Gpe as cT,Yge as cU,epe as cV,mg as cW,C1 as cX,N1 as cY,zye as cZ,vm as c_,hpe as ca,jO as cb,Yde as cc,HO as cd,Ij as ce,RC as cf,DC as cg,O0e as ch,G1 as ci,z1 as cj,Hde as ck,LC as cl,vge as cm,dg as cn,jz as co,Ige as cp,Uz as cq,Mge as cr,PC as cs,ope as ct,_j as cu,E0e as cv,vj as cw,Fc as cx,b5 as cy,Nye as cz,Ye as d,bye as d$,tu as d0,Wye as d1,Hye as d2,bb as d3,Kde as d4,Upe as d5,jpe as d6,mm as d7,gme as d8,vve as d9,Xde as dA,T1e as dB,V1e as dC,s0e as dD,m0e as dE,H0e as dF,fme as dG,Zx as dH,gq as dI,Ar as dJ,Pn as dK,Tf as dL,_o as dM,lu as dN,U$ as dO,k1 as dP,mS as dQ,V1 as dR,xp as dS,vn as dT,HU as dU,fS as dV,YU as dW,a0e as dX,y0e as dY,$_ as dZ,Mf as d_,D0e as da,U0e as db,F0e as dc,j0e as dd,V0e as de,B0e as df,r2 as dg,fge as dh,Yme as di,X2 as dj,Lye as dk,b1e as dl,U1e as dm,Tq as dn,Mq as dp,Jme as dq,$1 as dr,mpe as ds,yve as dt,Jq as du,bve as dv,Tge as dw,Qq as dx,eW as dy,tW as dz,JS as e,Dme as e$,Cye as e0,gye as e1,ST as e2,P0e as e3,L0e as e4,Ap as e5,Fpe as e6,mme as e7,yD as e8,Zpe as e9,Ie as eA,$t as eB,Li as eC,X as eD,Fg as eE,r1 as eF,Av as eG,Wi as eH,lr as eI,kn as eJ,fo as eK,Wt as eL,Vhe as eM,$e as eN,Qt as eO,Ke as eP,bE as eQ,qF as eR,WA as eS,X7 as eT,cve as eU,zc as eV,Q1 as eW,cpe as eX,ml as eY,eve as eZ,ms as e_,su as ea,sye as eb,Dh as ec,hme as ed,ro as ee,qx as ef,Xme as eg,Kme as eh,oq as ei,B6 as ej,rt as ek,ii as el,Xc as em,jhe as en,tt as eo,_i as ep,At as eq,Et as er,fe as es,Vt as et,Ti as eu,ue as ev,xe as ew,Nl as ex,pi as ey,jt as ez,BN as f,YO as f$,Xq as f0,dh as f1,FU as f2,Sl as f3,Ju as f4,q1 as f5,sy as f6,kye as f7,eu as f8,ape as f9,Bq as fA,d0e as fB,HD as fC,m1e as fD,p1e as fE,lW as fF,e5 as fG,Ch as fH,ige as fI,qme as fJ,Ipe as fK,Jge as fL,wve as fM,u1e as fN,n1e as fO,hve as fP,uve as fQ,Hme as fR,Wpe as fS,Uhe as fT,di as fU,i1 as fV,ofe as fW,hC as fX,gC as fY,yf as fZ,Tpe as f_,tye as fa,M0e as fb,Ej as fc,Aj as fd,npe as fe,q0e as ff,Sj as fg,ty as fh,L1e as fi,x1e as fj,_ye as fk,oye as fl,Jde as fm,xpe as fn,GO as fo,qO as fp,WO as fq,ype as fr,qpe as fs,Lj as ft,Bj as fu,zC as fv,Qye as fw,Hx as fx,Wx as fy,M$ as fz,Mh as g,es as g$,Qpe as g0,iU as g1,aU as g2,uU as g3,Oh as g4,eF as g5,oa as g6,Hpe as g7,F1 as g8,bp as g9,SC as gA,_0e as gB,w0e as gC,Cpe as gD,oC as gE,qN as gF,P1 as gG,Epe as gH,Ape as gI,Spe as gJ,CU as gK,Wme as gL,cye as gM,QC as gN,Bk as gO,lm as gP,Qz as gQ,jm as gR,JE as gS,ife as gT,rfe as gU,EO as gV,Va as gW,M9 as gX,cA as gY,Ne as gZ,lfe as g_,Nj as ga,I0e as gb,Ph as gc,tpe as gd,ax as ge,afe as gf,zl as gg,GN as gh,zN as gi,Rpe as gj,zx as gk,x0e as gl,v0 as gm,av as gn,Kq as go,Cj as gp,Yq as gq,nfe as gr,Cv as gs,da as gt,a$ as gu,zU as gv,cS as gw,yye as gx,Dpe as gy,v0e as gz,B7 as h,ppe as h$,tr as h0,Ro as h1,Sn as h2,nl as h3,Il as h4,Mi as h5,Ym as h6,Ag as h7,hfe as h8,dE as h9,ht as hA,E$ as hB,HA as hC,ZV as hD,bge as hE,nve as hF,jme as hG,jW as hH,ti as hI,ove as hJ,lve as hK,Mve as hL,m4 as hM,_ve as hN,qc as hO,W7 as hP,cV as hQ,yV as hR,YC as hS,iye as hT,Tye as hU,Xx as hV,Ime as hW,Mme as hX,oF as hY,nF as hZ,xye as h_,pn as ha,Ov as hb,WP as hc,O as hd,$q as he,HS as hf,Gq as hg,DO as hh,Wde as hi,N7 as hj,qde as hk,P7 as hl,PV as hm,Iye as hn,S$ as ho,JC as hp,fV as hq,jS as hr,w1e as hs,v1e as ht,vme as hu,bme as hv,C0e as hw,eye as hx,$v as hy,Wp as hz,Bd as i,Kye as i$,Mp as i0,cme as i1,$0e as i2,o0e as i3,mU as i4,U1 as i5,p0e as i6,Zfe as i7,cde as i8,Kfe as i9,el as iA,ME as iB,upe as iC,TV as iD,s5 as iE,n5 as iF,r5 as iG,Sve as iH,Eve as iI,xve as iJ,pq as iK,sge as iL,ia as iM,qS as iN,ON as iO,OW as iP,Af as iQ,L7 as iR,Ppe as iS,Xye as iT,zO as iU,dC as iV,r0e as iW,kC as iX,oT as iY,yC as iZ,ru as i_,ufe as ia,Z0 as ib,oi as ic,g5 as id,AV as ie,fye as ig,bN as ih,Vpe as ii,Gye as ij,S0e as ik,pfe as il,cfe as im,Mt as io,Pp as ip,aA as iq,tfe as ir,Cn as is,sA as it,gr as iu,Ve as iv,sve as iw,Vs as ix,Ih as iy,zq as iz,dw as j,Y0e as j$,fz as j0,lpe as j1,lye as j2,aye as j3,Sm as j4,Em as j5,Am as j6,Lr as j7,gi as j8,Ge as j9,Cf as jA,ki as jB,Oae as jC,Due as jD,Ze as jE,CE as jF,pL as jG,AE as jH,dr as jI,dme as jJ,bpe as jK,Jye as jL,Tve as jM,ave as jN,au as jO,tve as jP,ive as jQ,rve as jR,Mm as jS,nu as jT,pve as jU,Ype as jV,Sye as jW,j1e as jX,Yye as jY,rye as jZ,WC as j_,no as ja,Rx as jb,T9 as jc,h8 as jd,sfe as je,Xt as jf,g1e as jg,y1e as jh,fW as ji,Zde as jj,l0e as jk,I$ as jl,hi as jm,ege as jn,Lge as jo,T0e as jp,qU as jq,lT as jr,sF as js,Ba as jt,o1e as ju,lN as jv,sf as jw,Ln as jx,Hoe as jy,mo as jz,Fme as k,fve as k$,hye as k0,uye as k1,SV as k2,W0e as k3,Ame as k4,Qx as k5,yl as k6,Jx as k7,kge as k8,Ah as k9,Vye as kA,OA as kB,nge as kC,Eme as kD,h0e as kE,X0e as kF,eD as kG,bV as kH,Pye as kI,kV as kJ,dye as kK,_V as kL,n2 as kM,pye as kN,q1e as kO,vye as kP,Eye as kQ,nv as kR,Oye as kS,uN as kT,TA as kU,Jz as kV,lq as kW,Kz as kX,$p as kY,Np as kZ,Ope as k_,HE as ka,ch as kb,Y0 as kc,Yo as kd,_s as ke,Si as kf,Q_ as kg,J0e as kh,jj as ki,k0e as kj,R0e as kk,tF as kl,s1e as km,Q6 as kn,hq as ko,Tme as kp,YA as kq,Z0e as kr,K0e as ks,yge as kt,age as ku,uge as kv,lge as kw,hge as kx,cge as ky,dge as kz,pf as l,kS as l0,vq as l1,bq as l2,Mye as l3,QV as l4,cN as l5,ej as l6,N1e as l7,P1e as l8,UD as l9,dpe as lA,D7 as lB,fpe as lC,E1e as lD,I1e as lE,_1e as lF,Ku as lG,B1e as lH,uW as lI,Qde as lJ,cW as lK,_me as lL,c1e as lM,$1e as lN,l1e as lO,a1e as lP,Aye as lQ,c$ as lR,Jpe as lS,C1e as lT,Lme as la,kme as lb,pme as lc,Ome as ld,GD as le,nye as lf,nV as lg,eV as lh,kA as li,Mu as lj,iH as lk,z1e as ll,F1e as lm,A1e as ln,O1e as lo,M1e as lp,$pe as lq,Z1e as lr,J1e as ls,wpe as lt,S1e as lu,wye as lv,k1e as lw,Npe as lx,ov as ly,Ave as lz,JN as m,kt as n,Lq as o,pm as p,mve as q,Gx as r,ft as s,Bx as t,Ur as u,ge as v,WD as w,Nn as x,CF as y,vpe as z};
