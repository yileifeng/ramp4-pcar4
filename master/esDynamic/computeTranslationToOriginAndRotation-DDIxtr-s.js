import{bh as N,d1 as O,aI as R}from"./main-BC8gbEPx.js";import{s as S,q as M,o as P}from"./mat4-BDUaQr32.js";import{F as T,N as o,L as E}from"./projectBuffer-CI8y-xLT.js";function l(a,u,r){const L=Math.sin(a),C=Math.cos(a),e=Math.sin(u),s=Math.cos(u),n=r;return n[0]=-L,n[4]=-e*C,n[8]=s*C,n[12]=0,n[1]=C,n[5]=-e*L,n[9]=s*L,n[13]=0,n[2]=0,n[6]=s,n[10]=e,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function m(a,u,r){return l(a,u,r),S(r,r),r}function p(a,u,r,L){const C=T(a,L);if(C==null)return!1;const e=C.source.spatialReferenceId,s=C.dest.spatialReferenceId;if(e===s&&!A(s)&&(e!==o.UNKNOWN||N(a,L)))return M(r,u),!0;if(A(s)){const _=E[e][o.LON_LAT],f=E[o.LON_LAT][s];return _!=null&&f!=null&&(_(u,0,t,0),f(t,0,i,0),l(c*t[0],c*t[1],r),r[12]=i[0],r[13]=i[1],r[14]=i[2],!0)}const n=A(e);if((s===o.WEB_MERCATOR||s===o.PLATE_CARREE||s===o.WGS84||s===o.CGCS2000)&&(e===o.WGS84||n||e===o.WEB_MERCATOR||e===o.CGCS2000)){const _=E[e][o.LON_LAT],f=E[o.LON_LAT][s];return _!=null&&f!=null&&(_(u,0,t,0),f(t,0,i,0),n?m(c*t[0],c*t[1],r):P(r),r[12]=i[0],r[13]=i[1],r[14]=i[2],!0)}return!1}function A(a){return a===o.SPHERICAL_ECEF||a===o.SPHERICAL_MARS_PCPF||a===o.SPHERICAL_MOON_PCPF||a===o.WGS84_ECEF}const c=O(1),t=R(),i=R();export{p as m,l as n};
