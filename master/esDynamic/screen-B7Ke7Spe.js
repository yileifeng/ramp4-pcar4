import{ek as b,el as w,eC as x,eD as q,eI as A,eJ as C,eo as j,ep as z,eq as p,et as i,eu as c,es as s,eK as B,ez as D,eA as n,eM as F,er as K,ew as d,eB as M,ex as N,eN as m}from"./main-BC8gbEPx.js";const T=["content"],H=b({__name:"screen",props:{panel:{type:Object,required:!0}},setup(v){const g=m(()=>import("./header-BcxBk5RY.js")),f=m(()=>import("./item-CtwiMvii.js")),{t:r}=w(),y=x("iApi"),e=q(),l=()=>{e.value._tippy.hide()},u=t=>{t.key==="Tab"&&e.value?.matches(":focus")&&e.value._tippy.show()},h=t=>{const a=new CustomEvent("refocusLegendItem",{detail:{focusItem:t}});e.value?.dispatchEvent(a)};A(()=>{e.value?.addEventListener("blur",l),e.value?.addEventListener("keyup",u)}),C(()=>{e.value?.removeEventListener("blur",l),e.value?.removeEventListener("keyup",u)});const k=j(()=>{const t=y.fixture.get("legend");return t?[...t.getLegend()]:[]});return(t,a)=>{const E=z("panel-screen"),I=p("focus-list"),L=p("tippy");return s(),i(E,{panel:v.panel},{header:c(()=>[B(D(n(r)("legend.title")),1)]),content:c(()=>[F(n(g)),K((s(),d("div",{content:n(r)("panels.controls.items"),ref_key:"el",ref:e},[(s(!0),d(M,null,N(k.value,o=>(s(),i(n(f),{legendItem:o,key:o.uid,onFocusItem:a[0]||(a[0]=(_,J)=>h(_))},null,8,["legendItem"]))),128))],8,T)),[[I],[L,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{H as default};
