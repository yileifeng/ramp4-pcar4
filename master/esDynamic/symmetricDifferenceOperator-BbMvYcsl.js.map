{"version":3,"file":"symmetricDifferenceOperator-BbMvYcsl.js","sources":["../../node_modules/@arcgis/core/geometry/operators/gx/operatorSymmetricDifference.js","../../node_modules/@arcgis/core/chunks/symmetricDifferenceOperator.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{S as e,G as t}from\"../../../chunks/SimpleGeometryCursor.js\";import{c as n,d as r,G as s}from\"../../../chunks/Geometry.js\";import{P as o,d as i}from\"../../../chunks/Point2D.js\";import{M as u}from\"../../../chunks/QuadraticBezier.js\";import{Envelope2D as m}from\"../../../chunks/Envelope2D.js\";import{a as c,d as a}from\"../../../chunks/Envelope.js\";import{ai as p}from\"../../../chunks/ProjectionTransformation.js\";class l{getOperatorType(){return 10003}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,n,r){return new y(e,t,n,r)}execute(t,r,s,o){const i=new e([t]),u=new e([r]),m=this.executeMany(i,u,s,o).next();return m||n(\"null output\"),m}}function h(e,t,n,r){const o=e.getDimension(),i=t.getDimension();if(o!==i)return o>i?e:t;if(e.isEmpty())return t;if(t.isEmpty())return e;const u=new m,a=new m,l=new m;e.queryEnvelope(u),t.queryEnvelope(a),l.setCoords({env2D:u}),l.mergeEnvelope2D(a);const h=c(n,l,!0),y=e.getGeometryType(),g=t.getGeometryType();return y===s.enumPoint&&g===s.enumPoint?d(e,t,h):y===s.enumPoint&&g===s.enumMultiPoint?f(t,e,h):y===s.enumMultiPoint&&g===s.enumPoint?f(e,t,h):p(e,t,n,r)}function d(e,t,n,r){const s=a(n),i=s*s,m=e.getXY(),c=t.getXY(),p=new u({vd:e.getDescription()});return o.sqrDistance(m,c)>i&&(p.add(e),p.add(t)),p}function f(e,t,n,r){const s=e.getImpl().getAttributeStreamRef(0),o=e.getPointCount(),u=t.getXY(),c=e.createInstance(),p=a(n),l=new m;if(e.queryEnvelope(l),l.inflateCoords(p,p),l.contains(u)){const n=p*p;let r=!1;const m=i(o,!1);for(let e=0;e<o;e++){const t=s.read(2*e),o=s.read(2*e+1),i=t-u.x,c=o-u.y;i*i+c*c<=n&&(r=!0,m[e]=!0)}if(r)for(let t=0;t<o;t++)m[t]||c.addPoints(e,t,t+1);else c.addPoints(e,0,o),c.add(t)}else c.addPoints(e,0,o),c.add(t);return c}class y extends t{constructor(e,t,n,s){super(),this.m_progressTracker=s,this.m_index=-1,this.m_inputGeoms=e,this.m_spatialReference=n,this.m_rightGeom=t.next(),this.m_bEmpty=!this.m_rightGeom,r(this.m_rightGeom)}tock(){return!0}getRank(){return 1}next(){if(this.m_bEmpty)return null;const e=this.m_inputGeoms.next();return e?(r(e),this.m_index=this.m_inputGeoms.getGeometryID(),h(e,this.m_rightGeom,this.m_spatialReference,this.m_progressTracker)):null}getGeometryID(){return this.m_index}}const g=new l;function G(e,t,n){return g.execute(e,t,n,null)}function _(t,n,r){const s=g.executeMany(new e(t),new e([n]),r,null);return Array.from(s)}function x(){return g.supportsCurves()}export{G as execute,_ as executeMany,x as supportsCurves};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/arrayUtils.js\";import{supportsCurves as r,execute as t,executeMany as o}from\"../geometry/operators/gx/operatorSymmetricDifference.js\";import{getSpatialReference as s,toGeometry as a,fromSpatialReference as p,fromGeometry as n}from\"../geometry/operators/support/apiConverter.js\";function u(e,r){const o=s(e);return a(t(n(e),n(r),p(o)),o)}function c(r,t){const u=r.map(n),c=s(r);return o(u,n(t),p(c)).map((e=>a(e,c))).filter(e)}const m=r(),i=Object.freeze(Object.defineProperty({__proto__:null,execute:u,executeMany:c,supportsCurves:m},Symbol.toStringTag,{value:\"Module\"}));export{c as a,m as b,u as e,i as s};\n"],"names":["l","t","n","y","r","s","o","e","u","m","h","a","c","g","d","f","p","i","G","_","x"],"mappings":";;;;;;AAIia,MAAMA,EAAC;AAAA,EAAC,kBAAiB;AAAC,WAAO;AAAA,EAAK;AAAA,EAAC,iBAAgB;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,mBAAmB,GAAEC,GAAEC,GAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,sBAAsB,GAAE;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,YAAY,GAAED,GAAEC,GAAE,GAAE;AAAC,WAAO,IAAIC,EAAE,GAAEF,GAAEC,GAAE,CAAC;AAAA,EAAC;AAAA,EAAC,QAAQD,GAAEG,GAAEC,GAAEC,GAAE;AAAC,UAAM,IAAE,IAAIC,EAAE,CAACN,CAAC,CAAC,GAAEO,IAAE,IAAID,EAAE,CAACH,CAAC,CAAC,GAAEK,IAAE,KAAK,YAAY,GAAED,GAAEH,GAAEC,CAAC,EAAE,KAAI;AAAG,WAAOG,KAAGP,EAAE,aAAa,GAAEO;AAAA,EAAC;AAAC;AAAC,SAASC,EAAEH,GAAEN,GAAEC,GAAEE,GAAE;AAAC,QAAME,IAAEC,EAAE,gBAAe,IAAEN,EAAE;AAAe,MAAGK,MAAI,EAAE,QAAOA,IAAE,IAAEC,IAAEN;AAAE,MAAGM,EAAE,QAAS,EAAC,QAAON;AAAE,MAAGA,EAAE,UAAU,QAAOM;AAAE,QAAMC,IAAE,IAAIC,KAAEE,IAAE,IAAIF,KAAET,IAAE,IAAIS;AAAE,EAAAF,EAAE,cAAcC,CAAC,GAAEP,EAAE,cAAcU,CAAC,GAAEX,EAAE,UAAU,EAAC,OAAMQ,EAAC,CAAC,GAAER,EAAE,gBAAgBW,CAAC;AAAE,QAAMD,IAAEE,EAAEV,GAAEF,GAAE,EAAE,GAAEG,IAAEI,EAAE,mBAAkBM,IAAEZ,EAAE;AAAkB,SAAOE,MAAIE,EAAE,aAAWQ,MAAIR,EAAE,YAAUS,EAAEP,GAAEN,GAAES,CAAC,IAAEP,MAAIE,EAAE,aAAWQ,MAAIR,EAAE,iBAAeU,EAAEd,GAAEM,GAAEG,CAAC,IAAEP,MAAIE,EAAE,kBAAgBQ,MAAIR,EAAE,YAAUU,EAAER,GAAEN,GAAES,CAAC,IAAEM,EAAET,GAAEN,GAAEC,GAAEE,CAAC;AAAC;AAAC,SAASU,EAAEP,GAAEN,GAAE,GAAEG,GAAE;AAAC,QAAMC,IAAEM,EAAE,CAAC,GAAE,IAAEN,IAAEA,GAAEI,IAAEF,EAAE,MAAO,GAACK,IAAEX,EAAE,MAAO,GAACe,IAAE,IAAIR,EAAE,EAAC,IAAGD,EAAE,iBAAgB,CAAC;AAAE,SAAOD,EAAE,YAAYG,GAAEG,CAAC,IAAE,MAAII,EAAE,IAAIT,CAAC,GAAES,EAAE,IAAIf,CAAC,IAAGe;AAAC;AAAC,SAASD,EAAER,GAAEN,GAAEC,GAAEE,GAAE;AAAC,QAAMC,IAAEE,EAAE,QAAS,EAAC,sBAAsB,CAAC,GAAED,IAAEC,EAAE,cAAa,GAAGC,IAAEP,EAAE,MAAO,GAACW,IAAEL,EAAE,eAAgB,GAACS,IAAEL,EAAET,CAAC,GAAEF,IAAE,IAAIS;AAAE,MAAGF,EAAE,cAAcP,CAAC,GAAEA,EAAE,cAAcgB,GAAEA,CAAC,GAAEhB,EAAE,SAASQ,CAAC,GAAE;AAAC,UAAMN,IAAEc,IAAEA;AAAE,QAAIZ,IAAE;AAAG,UAAMK,IAAEQ,EAAEX,GAAE,EAAE;AAAE,aAAQC,IAAE,GAAEA,IAAED,GAAEC,KAAI;AAAC,YAAMN,IAAEI,EAAE,KAAK,IAAEE,CAAC,GAAED,IAAED,EAAE,KAAK,IAAEE,IAAE,CAAC,GAAEU,IAAEhB,IAAEO,EAAE,GAAEI,IAAEN,IAAEE,EAAE;AAAE,MAAAS,IAAEA,IAAEL,IAAEA,KAAGV,MAAIE,IAAE,IAAGK,EAAEF,CAAC,IAAE;AAAA,IAAG;AAAC,QAAGH,EAAE,UAAQH,IAAE,GAAEA,IAAEK,GAAEL,IAAI,CAAAQ,EAAER,CAAC,KAAGW,EAAE,UAAUL,GAAEN,GAAEA,IAAE,CAAC;AAAA,QAAO,CAAAW,EAAE,UAAUL,GAAE,GAAED,CAAC,GAAEM,EAAE,IAAIX,CAAC;AAAA,EAAC,MAAM,CAAAW,EAAE,UAAUL,GAAE,GAAED,CAAC,GAAEM,EAAE,IAAIX,CAAC;AAAE,SAAOW;AAAC;AAAC,MAAMT,UAAUF,EAAC;AAAA,EAAC,YAAY,GAAEA,GAAEC,GAAEG,GAAE;AAAC,UAAK,GAAG,KAAK,oBAAkBA,GAAE,KAAK,UAAQ,IAAG,KAAK,eAAa,GAAE,KAAK,qBAAmBH,GAAE,KAAK,cAAYD,EAAE,KAAM,GAAC,KAAK,WAAS,CAAC,KAAK,aAAYG,EAAE,KAAK,WAAW;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,WAAM;AAAA,EAAE;AAAA,EAAC,UAAS;AAAC,WAAO;AAAA,EAAC;AAAA,EAAC,OAAM;AAAC,QAAG,KAAK,SAAS,QAAO;AAAK,UAAM,IAAE,KAAK,aAAa,KAAM;AAAC,WAAO,KAAGA,EAAE,CAAC,GAAE,KAAK,UAAQ,KAAK,aAAa,iBAAgBM,EAAE,GAAE,KAAK,aAAY,KAAK,oBAAmB,KAAK,iBAAiB,KAAG;AAAA,EAAI;AAAA,EAAC,gBAAe;AAAC,WAAO,KAAK;AAAA,EAAO;AAAC;AAAC,MAAMG,IAAE,IAAIb;AAAE,SAASkB,EAAEX,GAAEN,GAAE,GAAE;AAAC,SAAOY,EAAE,QAAQN,GAAEN,GAAE,GAAE,IAAI;AAAC;AAAC,SAASkB,EAAE,GAAEjB,GAAEE,GAAE;AAAC,QAAMC,IAAEQ,EAAE,YAAY,IAAIN,EAAE,CAAC,GAAE,IAAIA,EAAE,CAACL,CAAC,CAAC,GAAEE,GAAE,IAAI;AAAE,SAAO,MAAM,KAAKC,CAAC;AAAC;AAAC,SAASe,IAAG;AAAC,SAAOP,EAAE,eAAgB;AAAA;ACA9lE,SAASL,EAAED,GAAEH,GAAE;AAAC,QAAME,IAAED,EAAEE,CAAC;AAAE,SAAOI,EAAEV,EAAEC,EAAEK,CAAC,GAAEL,EAAEE,CAAC,GAAEY,EAAEV,CAAC,CAAC,GAAEA,CAAC;AAAC;AAAC,SAASM,EAAER,GAAEH,GAAE;AAAC,QAAMO,IAAEJ,EAAE,IAAIF,CAAC,GAAEU,IAAEP,EAAED,CAAC;AAAE,SAAOE,EAAEE,GAAEN,EAAED,CAAC,GAAEe,EAAEJ,CAAC,CAAC,EAAE,IAAK,CAAAL,MAAGI,EAAEJ,GAAEK,CAAC,CAAG,EAAC,OAAOL,CAAC;AAAC;AAAM,MAACE,IAAEL,EAAG,GAACa,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,SAAQT,GAAE,aAAYI,GAAE,gBAAeH,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;;;;;;","x_google_ignoreList":[0,1]}