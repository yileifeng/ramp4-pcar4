{"version":3,"file":"visualVariableUtils-uZxUYyrz.js","sources":["../../node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js","../../node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar n,i;function e(n){return n&&\"esri.renderers.visualVariables.SizeVariable\"===n.declaredClass}function l(n){return null!=n&&!isNaN(n)&&isFinite(n)}function t(i){return i.valueExpression?n.Expression:i.field&&\"string\"==typeof i.field?n.Field:n.Unknown}function a(e,l){const a=l||t(e),o=e.valueUnit||\"unknown\";return a===n.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:\"unknown\"===o?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}!function(n){n.Unknown=\"unknown\",n.Expression=\"expression\",n.Field=\"field\"}(n||(n={})),function(n){n.Unknown=\"unknown\",n.Stops=\"stops\",n.ClampedLinear=\"clamped-linear\",n.Proportional=\"proportional\",n.Additive=\"additive\",n.Constant=\"constant\",n.Identity=\"identity\",n.RealWorldSize=\"real-world-size\"}(i||(i={}));export{n as InputValueType,i as TransformationType,t as getInputValueType,a as getTransformationType,e as isSizeVariable,l as isValidNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import a from\"../../../Graphic.js\";import{neverReached as i}from\"../../../core/compilerUtils.js\";import n from\"../../../core/Logger.js\";import{meterIn as t}from\"../../support/lengthUtils.js\";import{isSizeVariable as r,isValidNumber as s,TransformationType as l,InputValueType as o}from\"./sizeVariableUtils.js\";const c=()=>n.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),u=e=>c().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),f=()=>c().error(\"Use of arcade expressions requires an arcade context\"),p=new a,d=Math.PI,v=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function m(a,i,n){const t=\"visualVariables\"in a&&a.visualVariables?a.visualVariables.find((e=>\"color\"===e.type)):a;if(!t)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==t.declaredClass)return void u(\"ColorVariable\");const r=\"number\"==typeof i,s=r?null:i,l=s?.attributes;let o=r?i:null;const c=t.field,{ipData:p,hasExpression:d}=t.cache;let v=t.cache.compiledFunc;if(!c&&!d){const e=t.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof o)if(d){if(null==n?.arcade)return void f();const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},a=n.arcade.arcadeUtils,i=a.getViewInfo(e),r=a.createExecContext(s,i,n.timeZone);if(!v){const e=a.createSyntaxTree(t.valueExpression);v=a.createFunction(e),t.cache.compiledFunc=v}o=a.executeFunction(v,r)}else l&&(o=l[c]);const m=t.normalizationField,b=null!=l&&null!=m?parseFloat(l[m]):void 0;if(null!=o&&(!m||r||!isNaN(b)&&0!==b)){isNaN(b)||r||(o/=b);const a=U(o,p);if(a){const i=a[0],r=a[1],s=i===r?t.stops[i].color:e.blendColors(t.stops[i].color,t.stops[r].color,a[2],null!=n?n.color:void 0);return new e(s)}}}function b(e,a,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"opacity\"===e.type)):e;if(!n)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==n.declaredClass)return void u(\"OpacityVariable\");const t=\"number\"==typeof a,r=t?null:a,s=r?.attributes;let l=t?a:null;const o=n.field,{ipData:c,hasExpression:p}=n.cache;let d=n.cache.compiledFunc;if(!o&&!p){const e=n.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(null==i?.arcade)return void f();const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,t=a.getViewInfo(e),s=a.createExecContext(r,t,i.timeZone);if(!d){const e=a.createSyntaxTree(n.valueExpression);d=a.createFunction(e),n.cache.compiledFunc=d}l=a.executeFunction(d,s)}else s&&(l=s[o]);const v=n.normalizationField,m=null!=s&&null!=v?parseFloat(s[v]):void 0;if(null!=l&&(!v||t||!isNaN(m)&&0!==m)){isNaN(m)||t||(l/=m);const e=U(l,c);if(e){const a=e[0],i=e[1];if(a===i)return n.stops[a].opacity;{const t=n.stops[a].opacity;return t+(n.stops[i].opacity-t)*e[2]}}}}function h(e,a,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"rotation\"===e.type)):e;if(!n)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==n.declaredClass)return void u(\"RotationVariable\");const t=n.axis||\"heading\",r=\"heading\"===t&&\"arithmetic\"===n.rotationType?90:0,s=\"heading\"===t&&\"arithmetic\"===n.rotationType?-1:1,l=\"number\"==typeof a?null:a,o=l?.attributes,c=n.field,{hasExpression:p}=n.cache;let d=n.cache.compiledFunc,v=0;if(!c&&!p)return v;if(p){if(null==i?.arcade)return void f();const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,t=a.getViewInfo(e),r=a.createExecContext(l,t,i.timeZone);if(!d){const e=a.createSyntaxTree(n.valueExpression);d=a.createFunction(e),n.cache.compiledFunc=d}v=a.executeFunction(d,r)}else o&&(v=o[c]||0);return v=\"number\"!=typeof v||isNaN(v)?null:r+s*v,v}function V(e,a,i){const n=\"number\"==typeof a,t=n?null:a,r=t?.attributes;let l=n?a:null;const{isScaleDriven:c}=e.cache;let u=e.cache.compiledFunc;if(c){const a=null!=i?i.scale:void 0,n=null!=i?i.view:void 0;l=null==a||\"3d\"===n?x(e):a}else if(!n)switch(e.inputValueType){case o.Expression:{if(null==i?.arcade)return void f();const a={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,r=n.getViewInfo(a),s=n.createExecContext(t,r,i.timeZone);if(!u){const a=n.createSyntaxTree(e.valueExpression);u=n.createFunction(a),e.cache.compiledFunc=u}l=n.executeFunction(u,s);break}case o.Field:r&&(l=r[e.field]);break;case o.Unknown:l=null}if(!s(l))return null;if(n||!e.normalizationField)return l;const p=r?parseFloat(r[e.normalizationField]):null;return s(p)&&0!==p?l/p:null}function x(e){let a=null,i=null;const n=e.stops;return n?(a=n[0].value,i=n[n.length-1].value):(a=e.minDataValue||0,i=e.maxDataValue||0),(a+i)/2}function y(e,a,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"size\"===e.type)):e;if(!n)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==n.declaredClass)return void u(\"SizeVariable\");const t=k(V(n,a,i),n,a,i,n.cache.ipData);return null==t||isNaN(t)?0:t}function g(e,a,i){return null==e?null:r(e)?y(e,a,i):s(e)?e:null}function w(e,a,i){return s(i)&&e>i?i:s(a)&&e<a?a:e}function z(e,a,i,n){return e+((g(a.minSize,i,n)||a.minDataValue)??0)}function F(e,a,i){const n=e.stops;let t=n?.length&&n[0].size;return null==t&&(t=e.minSize),g(t,a,i)}function S(e,a,i,n){const t=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),r=g(a.minSize,i,n),s=g(a.maxSize,i,n),l=null!=n?n.shape:void 0;if(e<=a.minDataValue)return r;if(e>=a.maxDataValue)return s;if(null==r||null==s)return null;if(\"area\"===a.scaleBy&&l){const e=\"circle\"===l,a=e?d*(r/2)**2:r*r,i=a+t*((e?d*(s/2)**2:s*s)-a);return e?2*Math.sqrt(i/d):Math.sqrt(i)}return r+t*(s-r)}function E(e,a,i,n){const t=null!=n?n.shape:void 0,r=e/a.minDataValue,s=g(a.minSize,i,n),l=g(a.maxSize,i,n);let o=null;return o=\"circle\"===t?2*Math.sqrt(r*(s/2)**2):\"square\"===t||\"diamond\"===t||\"image\"===t?Math.sqrt(r*s**2):r*s,w(o,s,l)}function C(e,a,i,n,t){const[r,s,l]=U(e,t);if(r===s)return g(a.stops?.[r].size,i,n);{const e=g(a.stops?.[r].size,i,n);return e+(g(a.stops?.[s].size,i,n)-e)*l}}function D(e,a,i,n){const r=(n?.resolution??1)*t[a.valueUnit],s=g(a.minSize,i,n),l=g(a.maxSize,i,n),{valueRepresentation:o}=a;let c=null;return c=\"area\"===o?2*Math.sqrt(e/d)/r:\"radius\"===o||\"distance\"===o?2*e/r:e/r,w(c,s,l)}function M(e){return e}function k(e,a,i,n,t){switch(a.transformationType){case l.Additive:return z(e,a,i,n);case l.Constant:return F(a,i,n);case l.ClampedLinear:return S(e,a,i,n);case l.Proportional:return E(e,a,i,n);case l.Stops:return C(e,a,i,n,t);case l.RealWorldSize:return D(e,a,i,n);case l.Identity:return M(e);case l.Unknown:return null}}function N(e,a,i){const{isScaleDriven:n}=e.cache;if(!(n&&\"3d\"===i||a))return null;const t={scale:a,view:i};let r=g(e.minSize,p,t),s=g(e.maxSize,p,t);if(null!=r||null!=s){if(r>s){const e=s;s=r,r=e}return{minSize:r,maxSize:s}}}function R(e,a,i){if(!e.visualVariables)return;const n=[],t=[],r=[],s=[],l=[];for(const o of e.visualVariables)switch(o.type){case\"color\":t.push(o);break;case\"opacity\":r.push(o);break;case\"rotation\":l.push(o);break;case\"size\":s.push(o)}return t.forEach((e=>{const t=m(e,a,i);n.push({variable:e,value:t})})),r.forEach((e=>{const t=b(e,a,i);n.push({variable:e,value:t})})),l.forEach((e=>{const t=h(e,a,i);n.push({variable:e,value:t})})),s.forEach((e=>{const t=y(e,a,i);n.push({variable:e,value:t})})),n.filter((e=>null!=e.value))}function U(e,a){if(!a)return;let i=0,n=a.length-1;return a.some(((a,t)=>e<a?(n=t,!0):(i=t,!1))),[i,n,(e-a[i])/(a[n]-a[i])]}function T(e,a,n){const t=[\"proportional\",\"proportional\",\"proportional\"];for(const r of e){const e=r.useSymbolValue?\"symbol-value\":y(r,a,n);switch(r.axis){case\"width\":t[0]=e;break;case\"depth\":t[1]=e;break;case\"height\":t[2]=e;break;case\"width-and-depth\":t[0]=e,t[1]=e;break;case\"all\":case void 0:case null:t[0]=e,t[1]=e,t[2]=e;break;default:i(r.axis)}}return t}export{T as getAllSizes,m as getColor,b as getOpacity,h as getRotationAngle,y as getSize,k as getSizeForValue,g as getSizeFromNumberOrVariable,N as getSizeRangeAtScale,R as getVisualVariableValues,v as viewScaleRE};\n"],"names":["n","i","e","l","t","a","o","c","u","f","d","v","m","s","p","r","b","U","h","V","x","y","k","g","w","z","F","S","E","C","D","R","T"],"mappings":"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","x_google_ignoreList":[0,1]}