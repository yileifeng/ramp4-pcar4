{"version":3,"file":"RouteLayerInteraction-CtpZacMT.js","sources":["../../node_modules/@arcgis/core/views/3d/interactive/editingTools/isSupportedObjectUtils.js","../../node_modules/@arcgis/core/views/3d/interactive/editingTools/move/isSupportedObject.js","../../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshape/isSupportedObject.js","../../node_modules/@arcgis/core/views/3d/interactive/editingTools/transform/isSupportedGraphic.js","../../node_modules/@arcgis/core/views/draw/support/layerUtils.js","../../node_modules/@arcgis/core/views/interactive/snapping/FeatureSnappingLayerSource.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingOptions.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/SnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/FeatureSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/DrapedEdgeSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/EdgeSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/IntersectionSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/LineSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/ParallelLineSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleSnappingCandidate.js","../../node_modules/@arcgis/core/views/interactive/snapping/candidates/RightAngleTriangleSnappingCandidate.js","../../node_modules/@arcgis/core/views/3d/interactive/support/viewUtils.js","../../node_modules/@arcgis/core/views/interactive/support/viewUtils.js","../../node_modules/@arcgis/core/views/interactive/snapping/SnappingManager.js","../../node_modules/@arcgis/core/widgets/Sketch/support/OperationHandle.js","../../node_modules/@arcgis/core/widgets/Sketch/support/sketchUtils.js","../../node_modules/@arcgis/core/widgets/Sketch/SketchViewModel.js","../../node_modules/@arcgis/core/views/2d/layers/support/RouteLayerInteraction.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";function E(E){switch(E){case P.SUPPORTED:break;case P.GRAPHICS_LAYER_MISSING:return\"not owned by a graphics layer\";case P.GEOMETRY_MISSING:return\"no geometry\";case P.GEOMETRY_TYPE_UNSUPPORTED:return\"the geometry type is not supported\";case P.ELEVATION_MODE_UNSUPPORTED:return\"the elevation mode is not supported\";case P.SYMBOL_TYPE_UNSUPPORTED:return\"the symbol type is not supported\"}return\"\"}var P;!function(E){E[E.SUPPORTED=0]=\"SUPPORTED\",E[E.GRAPHICS_LAYER_MISSING=1]=\"GRAPHICS_LAYER_MISSING\",E[E.GEOMETRY_MISSING=2]=\"GEOMETRY_MISSING\",E[E.GEOMETRY_TYPE_UNSUPPORTED=3]=\"GEOMETRY_TYPE_UNSUPPORTED\",E[E.ELEVATION_MODE_UNSUPPORTED=4]=\"ELEVATION_MODE_UNSUPPORTED\",E[E.SYMBOL_TYPE_UNSUPPORTED=5]=\"SYMBOL_TYPE_UNSUPPORTED\"}(P||(P={}));export{P as SupportedObjectResult,E as isSupportedObjectResultMessage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{hasEffectiveFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";import{SupportedObjectResult as e}from\"../isSupportedObjectUtils.js\";function r(r){if(r.graphic&&\"graphics\"!==r.graphic.layer?.type)return e.GRAPHICS_LAYER_MISSING;const o=r.operations?.data.type;if(!o)return e.GEOMETRY_TYPE_UNSUPPORTED;switch(o){case\"polygon\":case\"point\":case\"polyline\":case\"mesh\":break;default:return e.GEOMETRY_TYPE_UNSUPPORTED}const i=r.elevationInfo;return t(i)?e.ELEVATION_MODE_UNSUPPORTED:e.SUPPORTED}export{r as isSupportedObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{hasEffectiveFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";import{SupportedObjectResult as r}from\"../isSupportedObjectUtils.js\";function e(t){return o(t).result}function o(e){if(e.graphic&&\"graphics\"!==e.graphic.layer?.type)return{result:r.GRAPHICS_LAYER_MISSING};if(!e.operations)return{result:r.GEOMETRY_MISSING};if(t(e.elevationInfo))return{result:r.ELEVATION_MODE_UNSUPPORTED};const o=e.operations.data.type,i=e.operations.data.geometry;return\"point\"===o||\"mesh\"===o||\"polyline\"===o||\"polygon\"===o?{result:r.SUPPORTED,geometry:i}:{result:r.GEOMETRY_TYPE_UNSUPPORTED}}export{e as isSupportedObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{getGraphicEffectiveElevationMode as e,hasGraphicFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";import{SupportedObjectResult as o}from\"../isSupportedObjectUtils.js\";function r(r){if(\"graphics\"!==r.layer?.type)return o.GRAPHICS_LAYER_MISSING;if(null==r.geometry)return o.GEOMETRY_MISSING;switch(r.geometry.type){case\"point\":break;case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":case\"mesh\":return o.SUPPORTED;default:return o.GEOMETRY_TYPE_UNSUPPORTED}const s=null!=r.symbol&&\"point-3d\"===r.symbol.type&&r.symbol.symbolLayers;if(!s||!s.some((e=>\"object\"===e.type)))return o.SYMBOL_TYPE_UNSUPPORTED;return\"on-the-ground\"!==e(r)&&t(r)?o.ELEVATION_MODE_UNSUPPORTED:o.SUPPORTED}export{r as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction e(e,r,n){if(!r||!e?.map)return;const{map:s}=e,l=s.layers.find((e=>e===r));l||s.add(r,n),l&&null!=n&&s.layers.reorder(l,n)}function r(e,r){const n=\"subtype-sublayer\"===r?.type?r.parent:r;return e.allLayerViews.find((e=>{const r=e.layer;return r===n||\"sublayers\"in r&&null!=r.sublayers&&r.sublayers.includes(n)}))}export{e as addUniqueLayer,r as findLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends r{constructor(o){super(o),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new e}};o([t({constructOnly:!0})],i.prototype,\"layer\",void 0),o([t()],i.prototype,\"enabled\",void 0),o([t()],i.prototype,\"updating\",void 0),o([t()],i.prototype,\"availability\",void 0),o([t()],i.prototype,\"sublayerSources\",void 0),i=o([s(\"esri.views.interactive.snapping.FeatureSnappingLayerSource\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import o from\"../../../core/Collection.js\";import i from\"../../../core/Logger.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"./FeatureSnappingLayerSource.js\";import{defaults as l}from\"./Settings.js\";let u=class extends t{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.gridEnabled=!1,this.attributeRulesEnabled=!1,this.featureSources=new o,this.distance=l.distance,this.touchSensitivityMultiplier=l.touchSensitivityMultiplier}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveGridEnabled(){return this.effectiveEnabled&&this.gridEnabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){const e=this.featureSources;e.some(p)&&i.getLogger(this).warnOnce(\"Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.\");const t=e.filter(f),s=this._get(\"_effectiveFeatureSources\")?.filter(p)??new o;for(const r of t){const e=s.find((e=>e.layer===r.layer.parent));if(e)e.sublayerSources.includes(r)||e.sublayerSources.add(r);else if(r.layer.parent){const e=new n({layer:r.layer.parent});e.sublayerSources.add(r),s.add(e)}}for(const r of s){const e=r.sublayerSources.filter((e=>!t.includes(e)));r.sublayerSources.removeMany(e)}s.removeMany(s.filter((e=>0===e.sublayerSources.length)));const a=e.filter(d),l=this._get(\"_effectiveFeatureSources\")??new o,{added:u,removed:c}=r(l.toArray(),[...a,...s]);return l.removeMany(c),l.addMany(u),l}};e([s()],u.prototype,\"enabled\",void 0),e([s()],u.prototype,\"enabledToggled\",void 0),e([s()],u.prototype,\"forceDisabled\",void 0),e([s()],u.prototype,\"selfEnabled\",void 0),e([s()],u.prototype,\"featureEnabled\",void 0),e([s()],u.prototype,\"gridEnabled\",void 0),e([s()],u.prototype,\"attributeRulesEnabled\",void 0),e([s({type:o.ofType(n)})],u.prototype,\"featureSources\",void 0),e([s()],u.prototype,\"distance\",void 0),e([s()],u.prototype,\"touchSensitivityMultiplier\",void 0),e([s({readOnly:!0})],u.prototype,\"effectiveEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveGridEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveSelfEnabled\",null),e([s({readOnly:!0})],u.prototype,\"effectiveFeatureEnabled\",null),e([s({readOnly:!0})],u.prototype,\"_effectiveFeatureSources\",null),u=e([a(\"esri.views.interactive.snapping.SnappingOptions\")],u);const c=u;function p(e){return\"subtype-group\"===e.layer.type}function d(e){return\"subtype-group\"!==e.layer.type}function f(e){return\"subtype-sublayer\"===e.layer.type}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,i,o){this.targetPoint=t,this.constraint=s,this.isDraped=i,this.domain=o}}export{t as SnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";class n extends o{constructor({targetPoint:o,objectId:n,constraint:r,isDraped:i}){super(o,r,i,t.FEATURE),this.objectId=n}}export{n as FeatureSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{DrapedLineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,isDraped:!0,constraint:new t(n.edgeStart,n.edgeEnd,n.getGroundElevation)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as DrapedEdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{LineConstraint as t}from\"../../sketch/constraints.js\";import{LineSegmentHintType as n}from\"../snappingUtils.js\";import{FeatureSnappingCandidate as s}from\"./FeatureSnappingCandidate.js\";import{LineSnappingHint as i}from\"../hints/LineSnappingHint.js\";class r extends s{constructor(n){super({...n,constraint:new t(n.edgeStart,n.edgeEnd)})}get hints(){return[new i(n.REFERENCE,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}export{r as EdgeSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as i}from\"../SnappingDomain.js\";import{SnappingCandidate as s}from\"./SnappingCandidate.js\";import{IntersectionSnappingHint as n}from\"../hints/IntersectionSnappingHint.js\";class r extends s{constructor(s,n,r,o){super(s,new t(s),o,i.ALL),this.first=n,this.second=r}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new n(this.targetPoint,this.isDraped,this.domain)]}}export{r as IntersectionSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VerticalPlaneConstraint as t}from\"../../sketch/constraints.js\";import{SnappingDomain as n}from\"../SnappingDomain.js\";import{LineSegmentHintType as i}from\"../snappingUtils.js\";import{SnappingCandidate as e}from\"./SnappingCandidate.js\";import{LineSnappingHint as s}from\"../hints/LineSnappingHint.js\";class r extends e{constructor({lineStart:e,lineEnd:r,targetPoint:o,isDraped:a}){super(o,new t(e,r),a,n.SELF),this._referenceLineHint=new s(i.REFERENCE_EXTENSION,e,r,a,this.domain)}get hints(){return[this._referenceLineHint,new s(i.TARGET,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}export{r as LineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{d as e,g as t,p as i}from\"../../../../chunks/vec32.js\";import{clone as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalPlaneConstraint as s}from\"../../sketch/constraints.js\";import{fromVec3 as n}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as a}from\"../SnappingDomain.js\";import{LineSegmentHintType as f}from\"../snappingUtils.js\";import{SnappingCandidate as o}from\"./SnappingCandidate.js\";import{LineSnappingHint as d}from\"../hints/LineSnappingHint.js\";import{ParallelSnappingHint as h}from\"../hints/ParallelSnappingHint.js\";class g extends o{constructor({referenceLine:i,lineStart:f,targetPoint:o,isDraped:d}){const h=r(f),{left:g,right:p}=i;e(h,t(h,h,p),g),super(o,new s(f,n(h)),d,a.SELF),this._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new d(f.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new h(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new d(f.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((r=>{i(e.right,r.edge.left)&&(r.fadeLeft=!1,t.fadeRight=!1),i(e.right,r.edge.right)&&(r.fadeRight=!1,t.fadeRight=!1),i(e.left,r.edge.right)&&(r.fadeRight=!1,t.fadeLeft=!1),i(e.left,r.edge.left)&&(r.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)}}export{g as ParallelLineSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{SnappingDomain as t}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as i}from\"./SnappingCandidate.js\";import{LineSnappingHint as r}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as s}from\"../hints/RightAngleSnappingHint.js\";class n extends i{constructor({targetPoint:e,constraint:i,previousVertex:r,otherVertex:s,otherVertexType:n,isDraped:o,selfSnappingType:h,objectId:a,domain:x}){super(e,i,o,x??t.SELF),this.previousVertex=r,this.otherVertex=s,this.otherVertexType=n,this.selfSnappingType=h??p.None,this.objectId=a??null}get hints(){const t=this.previousVertex,i=this.otherVertexType===o.CENTER?this.otherVertex:this.targetPoint,n=this.otherVertexType===o.CENTER?this.targetPoint:this.otherVertex;return[new r(e.TARGET,i,n,this.isDraped,this.domain),new r(e.REFERENCE,t,i,this.isDraped,this.domain),new s(this.previousVertex,i,n,this.isDraped,this.domain)]}}var o,p;!function(t){t[t.NEXT=0]=\"NEXT\",t[t.CENTER=1]=\"CENTER\"}(o||(o={})),function(t){t[t.None=0]=\"None\",t[t.LastVertex=1]=\"LastVertex\",t[t.FirstVertex=2]=\"FirstVertex\",t[t.ExistingEdge=3]=\"ExistingEdge\"}(p||(p={}));export{o as OtherVertexType,n as RightAngleSnappingCandidate,p as SelfSnappingRightAngleType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{distance as t}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{m as i}from\"../../../../chunks/vec32.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{VerticalCylinderConstraint as r}from\"../../sketch/constraints.js\";import{fromVec3 as n,asVec2 as o}from\"../../sketch/normalizedPoint.js\";import{SnappingDomain as p}from\"../SnappingDomain.js\";import{LineSegmentHintType as e}from\"../snappingUtils.js\";import{SnappingCandidate as m}from\"./SnappingCandidate.js\";import{LineSnappingHint as a}from\"../hints/LineSnappingHint.js\";import{RightAngleSnappingHint as h}from\"../hints/RightAngleSnappingHint.js\";class g extends m{constructor({targetPoint:e,point1:m,point2:a,isDraped:h}){super(e,new r(n(i(s(),m,a,.5)),.5*t(o(m),o(a))),h,p.SELF),this._p1=m,this._p2=a}get hints(){return[new a(e.REFERENCE,this.targetPoint,this._p1,this.isDraped,this.domain),new a(e.REFERENCE,this.targetPoint,this._p2,this.isDraped,this.domain),new h(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}export{g as RightAngleTriangleSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createRenderScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{subtract as o,normalize as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{c as t}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getConvertedElevationFromVector as s}from\"../../../../support/elevationInfoUtils.js\";function n(r,t,c,s){c.projectToRenderScreen(r,p),c.projectToRenderScreen(t,f),o(s,f,p),e(s,s)}function i(r,o,e,n,i=c()){const p=t(m,r);return p[2]=s(n,p,o,e)||0,n.renderCoordsHelper.toRenderCoords(p,o,i),i}const m=c(),p=r(),f=r();export{n as renderScreenSpaceTangent,i as vectorToRender};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createScreenPoint as e,createScreenPointArray as r}from\"../../../core/screenUtils.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeDehydratedPoint as o}from\"../../../layers/graphics/dehydratedPoint.js\";import{vectorToRender as i}from\"../../3d/interactive/support/viewUtils.js\";function s(r,t,o,s){return\"2d\"===s.type?(c.x=r[0],c.y=r[1],c.spatialReference=t,s.toScreen(c)):(i(r,t,o,s,a),s.state.camera.projectToScreen(a,n),e(n[0],n[1]))}const c=o(0,0,0,null),a=t(),n=r();export{s as vectorToScreenPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{createTask as n}from\"../../../core/asyncUtils.js\";import i from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{throwIfAborted as s,isAborted as a}from\"../../../core/promiseUtils.js\";import{watch as r,syncAndInitial as o,sync as p}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{project as h,initializeProjection as l}from\"../../../geometry/projection.js\";import{absoluteHeightElevationInfo as u}from\"../../../support/elevationInfoUtils.js\";import{fromPoint as f,markAsTarget as g,toElevationAlignedDehydratedPoint as _}from\"../sketch/normalizedPoint.js\";import{defaults as S}from\"./Settings.js\";import{SnappingDomain as m}from\"./SnappingDomain.js\";import v from\"./SnappingOptions.js\";import{sortCandidatesInPlace as y,squaredScreenDistance as C}from\"./snappingUtils.js\";import{DrapedEdgeSnappingCandidate as w}from\"./candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as E}from\"./candidates/EdgeSnappingCandidate.js\";import{IntersectionSnappingCandidate as P}from\"./candidates/IntersectionSnappingCandidate.js\";import{LineSnappingCandidate as T}from\"./candidates/LineSnappingCandidate.js\";import{ParallelLineSnappingCandidate as j}from\"./candidates/ParallelLineSnappingCandidate.js\";import{RightAngleSnappingCandidate as M,SelfSnappingRightAngleType as R}from\"./candidates/RightAngleSnappingCandidate.js\";import{RightAngleTriangleSnappingCandidate as q}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as A}from\"../support/viewUtils.js\";let I=class extends(i.EventedMixin(t)){constructor(e){super(e),this.options=new v,this._engineCache=new Map,this._loadTask=null,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=x.MAIN}initialize(){this.addHandles([r((()=>{const{distance:e,touchSensitivityMultiplier:t,effectiveSelfEnabled:n,effectiveFeatureEnabled:i,effectiveGridEnabled:s}=this.options;return{selfEnabled:n,featureEnabled:i,gridEnabled:\"2d\"===this.view.type&&s,viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,distance:e,touchSensitivityMultiplier:t}}),((e,t)=>{t&&(this.doneSnapping(),this.emit(\"changed\")),this._loadTask?.abort(),this._loadTask=n((n=>this._updateEngines(e,t,n)))}),o),r((()=>this.options),(e=>{for(const t of this._engines)t.options=e}),p)])}destroy(){this._loadTask?.abort(),this._destroyEngines()}get updating(){return this._engines.some((e=>e.updating))||!this._loadTask?.finished}_destroyEngines(){this._engineCache.forEach((e=>e.destroy())),this._engineCache.clear(),this._engines=[]}async _updateEngines(e,t,n){if(!e.viewReady)return void this._destroyEngines();t?.viewSpatialReference!==e.viewSpatialReference&&this._destroyEngines();const i=this._engineCache,s=await Promise.allSettled([e.featureEnabled&&!i.has(\"feature\")?this._createFeatureSnappingEngine(n):void 0,e.selfEnabled&&!i.has(\"self\")?this._createSelfSnappingEngine(n):void 0,e.gridEnabled&&!i.has(\"grid\")?this._createGridSnappingEngine(n):void 0]);if(n.aborted)for(const a of s)\"fulfilled\"===a.status&&a.value?.engine.destroy();else{for(const e of s)\"fulfilled\"===e.status&&e.value&&i.set(e.value.type,e.value.engine);this._engines=Array.from(i.values())}}async _createSelfSnappingEngine(e){const{SelfSnappingEngine:t}=await import(\"./SelfSnappingEngine.js\");return s(e),{type:\"self\",engine:new t({view:this.view,options:this.options})}}async _createGridSnappingEngine(e){const{view:t}=this;if(\"2d\"!==t.type)return;const{GridSnappingEngine:n}=await import(\"./GridSnappingEngine.js\");return s(e),{type:\"grid\",engine:new n({view:t,options:this.options})}}async _createFeatureSnappingEngine(e){const{FeatureSnappingEngine:t}=await import(\"./FeatureSnappingEngine.js\");s(e);const{view:n,options:i}=this,{spatialReference:a}=n;return{type:\"feature\",engine:new t({view:n,options:i,spatialReference:a})}}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,n=e*t;return n*n}snap(e){return H(e)?this._snapMultiPoint(e):this._snapSinglePoint(e)}update(e){const{point:t,context:n}=e;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return t;const s=this._selectUpdateInput(e);if(null==s)return t;const{spatialReference:a}=n,r=h(s,a);if(null==r)return t;const{view:o}=this,{elevationInfo:p,visualizer:d}=n,c=[],l=f(r,o,p),u=i.constraint.closestTo(l);if(!this._arePointsWithinScreenThreshold(l,u,n)||!N(i,n.drawConstraints))return this._resetSnappingState(),t;i.targetPoint=g(u),c.push(...i.hints);for(const h of this._currentOtherActiveCandidates)N(h,n.drawConstraints)&&(h.targetPoint=g(u),c.push(...h.hints));return null!=d&&this.addHandles(d.draw(c,{spatialReference:a,elevationInfo:L(n),view:o,selfSnappingZ:n.selfSnappingZ}),b),_(u,o,t,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput({point:e,scenePoint:t}){switch(this._currentSnappedType){case x.MAIN:return e;case x.SCENE:return t}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=x.MAIN}_removeVisualization(){this.removeHandles(b)}async _snapSinglePoint({point:e,context:t,signal:n}){const{view:i}=this,{elevationInfo:s}=t,a=f(e,i,s),r=await this._fetchCandidates(a,m.ALL,t,n);return this._createSnapResult(a,x.MAIN,r,i,e,t,n)}async _snapMultiPoint({point:e,scenePoint:t,context:n,signal:i}){const{view:s}=this,{coordinateHelper:a,elevationInfo:r,spatialReference:o}=n;await l(t.spatialReference,o);const p=h(t,o),d=f(p,s,r),c=await this._fetchCandidates(d,m.FEATURE,n,i);if(c.length>0){const e=await this._fetchCandidates(d,m.SELF,n,i);return this._createSnapResult(d,x.SCENE,[...c,...e],s,p,n,i)}const u=f(e,s,r),g=await this._fetchCandidates(u,m.SELF,n,i);return this._createSnapResult(u,x.MAIN,g,s,{z:a.hasZ()&&e.hasZ?e.z??0:void 0,m:a.hasM()&&e.hasM?e.m??0:void 0},n,i)}async _fetchCandidates(e,t,n,i){return(await Promise.all(this._engines.map((s=>s.fetchCandidates(e,t,n,i))))).flat()}_createSnapResult(e,t,n,i,s,r,o){return{get valid(){return!a(o)},apply:()=>{const{spatialReference:a}=r,{snappedPoint:o,hints:p}=this._processCandidates(e,t,n,r);return this._removeVisualization(),null!=r.visualizer&&this.addHandles(r.visualizer.draw(p,{spatialReference:a,elevationInfo:u,view:i,selfSnappingZ:r.selfSnappingZ}),b),_(o,i,s,r)}}}_processCandidates(e,t,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:e,hints:[]};this._currentSnappedType!==t&&this._resetSnappingState(),y(e,n);const s=this._currentMainCandidate;if(null!=s){const a=O(s,n);if(a>=0){if(!(n[a]instanceof P))return this._intersectWithOtherCandidates(a,n,e,t,i);if(this._arePointsWithinScreenThreshold(e,s.targetPoint,i))return this._updateSnappingCandidate(s,t,n,i)}}return this._intersectWithOtherCandidates(0,n,e,t,i)}_intersectWithOtherCandidates(e,t,n,i,s){const{coordinateHelper:a}=s,r=t[e],o=[];for(let p=0;p<t.length;++p){if(p===e)continue;const i=t[p],s=r.constraint.intersect(i.constraint);if(s)for(const e of s.closestPoints(r.targetPoint))o.push([new P(g(e),r,i,i.isDraped),this._squaredScreenDistance(n,e,a)])}return o.length>0&&(o.sort(((e,t)=>e[1]-t[1])),o[0][1]<this._squaredPointProximityThreshold(s.pointer))?this._updateSnappingCandidate(o[0][0],i,t,s):N(r,s.drawConstraints)?this._updateSnappingCandidate(r,i,t,s):{snappedPoint:n,hints:[]}}_updateSnappingCandidate(e,t,n,i){this.doneSnapping(),this._currentMainCandidate=e,this._currentSnappedType=t;const s=this._currentMainCandidate.targetPoint,a=[];a.push(...e.hints);for(const r of n){if(e instanceof P){if(r.constraint.equals(e.first.constraint)||r.constraint.equals(e.second.constraint))continue}else if(r.constraint.equals(e.constraint))continue;const t=r.constraint.closestTo(s);this._squaredScreenDistance(t,s,i.coordinateHelper)<z()&&(r.targetPoint=s,this._currentOtherActiveCandidates.push(r),a.push(...r.hints))}return{snappedPoint:s,hints:a}}_squaredPointProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(e,t,n){return this._squaredScreenDistance(e,t,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(e,t,n){return C(this._toScreen(e,n),this._toScreen(t,n))}_toScreen(e,t){return A(e,t.spatialReference,u,this.view)}get test(){}};var x;e([d({constructOnly:!0})],I.prototype,\"view\",void 0),e([d()],I.prototype,\"options\",void 0),e([d({readOnly:!0})],I.prototype,\"updating\",null),e([d()],I.prototype,\"_loadTask\",void 0),e([d()],I.prototype,\"_engines\",void 0),e([d()],I.prototype,\"_squaredMouseProximityThreshold\",null),e([d()],I.prototype,\"_squaredTouchProximityThreshold\",null),I=e([c(\"esri.views.interactive.snapping.SnappingManager\")],I),function(e){e[e.MAIN=0]=\"MAIN\",e[e.SCENE=1]=\"SCENE\"}(x||(x={}));const b=\"visualization-handle\";function z(){return S.satisfiesConstraintScreenThreshold*S.satisfiesConstraintScreenThreshold}function N(e,t){return!t||null==t.direction&&null==t.distance||!(e instanceof w||e instanceof E||e instanceof T||e instanceof j||e instanceof q)&&(!(e instanceof M)||null==t.direction&&e.selfSnappingType===R.LastVertex)}function O(e,t){return e instanceof P?k(t,e.first)>=0&&k(t,e.second)>=0?0:-1:k(t,e)}function k(e,t){let n=-1;for(let i=0;i<e.length;++i)if(t.constraint.equals(e[i].constraint)){n=i;break}return n}function H(e){return null!=e.scenePoint}function L({coordinateHelper:e,elevationInfo:t}){return e.hasZ()?u:t}export{I as SnappingManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{neverReached as t}from\"../../../core/compilerUtils.js\";import o from\"../../../core/Evented.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let n=class extends o.EventedAccessor{constructor(e){super(e),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case\"graphic-mover\":case\"move-3d\":return\"move\";case\"box\":case\"transform-3d\":return\"transform\";case\"reshape\":case\"reshape-3d\":return\"reshape\";case\"draw-2d\":case\"draw-3d\":return this.activeComponent.geometryType;default:t(this.activeComponent)}return null}addToHistory(e){this.history.redo=[],this.history.undo.push(e)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this._reset(),this.onEnd(),this.emit(\"complete\")}cancel(){this.cancelled=!0,this.complete()}_reset(){this.activeComponent?.reset()}refreshComponent(){const e=this.activeComponent;e&&(\"box\"!==e.type&&\"reshape\"!==e.type&&\"graphic-mover\"!==e.type||e.refresh())}set undo(e){this._set(\"undo\",(()=>{this.canUndo()&&e()}))}set redo(e){this._set(\"redo\",(()=>{this.canRedo()&&e()}))}};e([r()],n.prototype,\"activeComponent\",void 0),e([r()],n.prototype,\"cancelled\",void 0),e([r()],n.prototype,\"history\",void 0),e([r()],n.prototype,\"tool\",null),e([r()],n.prototype,\"type\",void 0),e([r()],n.prototype,\"canUndo\",null),e([r()],n.prototype,\"canRedo\",null),e([r()],n.prototype,\"onEnd\",void 0),e([r()],n.prototype,\"undo\",null),e([r()],n.prototype,\"redo\",null),e([r()],n.prototype,\"toggleTool\",void 0),e([r()],n.prototype,\"addToSelection\",void 0),e([r()],n.prototype,\"removeFromSelection\",void 0),n=e([s(\"esri.widgets.Sketch.support.OperationHandle\")],n);let p=class extends n{};e([r()],p.prototype,\"activeComponent\",void 0),p=e([s(\"esri.widgets.Sketch.support.OperationHandle.CreateOperationHandle\")],p);let i=class extends n{};e([r()],i.prototype,\"activeComponent\",void 0),i=e([s(\"esri.widgets.Sketch.support.OperationHandle.UpdateOperationHandle\")],i);export{p as CreateOperationHandle,n as OperationHandle,i as UpdateOperationHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction e(e,n){if(\"freehandPolygon\"===n||\"freehandPolyline\"===n)return\"freehand\";return e??(\"rectangle\"===n||\"circle\"===n?\"hybrid\":\"click\")}function n(e){switch(e){case\"freehandPolygon\":return\"polygon\";case\"freehandPolyline\":return\"polyline\";default:return e}}function r(e){return!!e&&(\"draw-2d\"===e.type||\"draw-3d\"===e.type)}var o;!function(e){e[e.ForceCollapse=-1]=\"ForceCollapse\",e[e.Low=0]=\"Low\",e[e.Medium=10]=\"Medium\",e[e.High=100]=\"High\",e[e.Max=1e3]=\"Max\"}(o||(o={}));export{o as LayoutPriority,n as getDrawToolGeometryTypeFromCreateTool,e as getModeFromCreateOptions,r as isDrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Collection.js\";import o from\"../../core/Error.js\";import i from\"../../core/Evented.js\";import{drainHandles as a}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as r,abortMaybe as n}from\"../../core/maybe.js\";import{createAbortError as p,whenOrAbort as l,ignoreAbortErrors as h}from\"../../core/promiseUtils.js\";import{on as c,watch as d,when as u,whenOnce as y,syncAndInitial as m}from\"../../core/reactiveUtils.js\";import{property as g}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as v}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as f}from\"../../core/support/UpdatingHandles.js\";import{getReferenceEllipsoid as _}from\"../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as b,load as w,project as G,isLoaded as O}from\"../../geometry/projection.js\";import{geometryToCoordinates as T}from\"../../geometry/support/coordsUtils.js\";import{equals as E}from\"../../geometry/support/spatialReferenceUtils.js\";import S from\"../../layers/GraphicsLayer.js\";import{isIntegratedMeshLayer as k}from\"../../layers/support/layerUtils.js\";import M from\"../../symbols/FillSymbol3DLayer.js\";import A from\"../../symbols/MeshSymbol3D.js\";import C from\"../../symbols/SimpleFillSymbol.js\";import H from\"../../symbols/SimpleLineSymbol.js\";import D from\"../../symbols/SimpleMarkerSymbol.js\";import{symbolTypes as R}from\"../../symbols/support/typeUtils.js\";import{SupportedObjectResult as j,isSupportedObjectResultMessage as I}from\"../../views/3d/interactive/editingTools/isSupportedObjectUtils.js\";import{isSupportedObject as U}from\"../../views/3d/interactive/editingTools/move/isSupportedObject.js\";import{isSupportedObject as P}from\"../../views/3d/interactive/editingTools/reshape/isSupportedObject.js\";import{isSupportedGraphic as x}from\"../../views/3d/interactive/editingTools/transform/isSupportedGraphic.js\";import{addUniqueLayer as L}from\"../../views/draw/support/layerUtils.js\";import{ViewEventPriorities as F}from\"../../views/input/InputManager.js\";import{sketchKeys as V}from\"../../views/interactive/keybindings.js\";import K from\"../../views/interactive/sketch/SketchLabelOptions.js\";import W from\"../../views/interactive/sketch/SketchOptions.js\";import Z from\"../../views/interactive/sketch/SketchTooltipOptions.js\";import q from\"../../views/interactive/sketch/SketchValueOptions.js\";import{SnappingManager as z}from\"../../views/interactive/snapping/SnappingManager.js\";import N from\"../../views/interactive/snapping/SnappingOptions.js\";import{setupSnappingToggleHandles as B}from\"../../views/interactive/snapping/snappingUtils.js\";import{findFirstGraphicHit as $}from\"../../views/support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as Y}from\"../../views/support/screenUtils.js\";import{CreateOperationHandle as J,UpdateOperationHandle as Q}from\"./support/OperationHandle.js\";import{getModeFromCreateOptions as X,getDrawToolGeometryTypeFromCreateTool as ee}from\"./support/sketchUtils.js\";const te={defaultZ:0},oe={reshapeOptions:{edgeOperation:\"split\",shapeOperation:\"move\",vertexOperation:\"move\"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,highlightOptions:{enabled:!0},tool:\"transform\"};let ie=class extends i.EventedAccessor{constructor(e){super(e),this._defaultSnappingManager=null,this._updatingHandles=new f,this._internalGraphicsLayer=new S({listMode:\"hide\",internal:!0,title:\"SVM Internal\"}),this._operationHandle=null,this._viewHandlesKey=\"viewHandles\",this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.layer=null,this.pointSymbol=new D({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new C({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new H({color:[130,130,130,1],width:2}),this.meshSymbol=new A({symbolLayers:new t([new M])}),this.updateGraphics=new t,this.updateOnGraphicClick=!0,this.creationMode=\"single\",this.vertexSymbol=new D({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.sketchOptions=new W,this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._sketchContinuationFlag=!1,this._originalPopupEnabled=null,this.defaultCreateOptions=te,this.defaultUpdateOptions=oe,this.snappingOptions=e?.snappingManager?.options??e?.snappingOptions??new N}initialize(){this.addHandles([c((()=>this.view?.map?.layers),\"change\",(e=>{e.removed.includes(this.layer)&&this.cancel()})),c((()=>this.layer?.graphics),\"change\",(e=>{if(null!=this._operationHandle)for(const t of e.removed)this.updateGraphics.includes(t)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(t):this._operationHandle.cancel())})),d((()=>this.layer?.elevationInfo??null),(e=>{e!==this._internalGraphicsLayer.elevationInfo&&(this.cancel(),this._internalGraphicsLayer.elevationInfo=e)}),m),d((()=>this.view),(e=>{this._defaultSnappingManager=r(this._defaultSnappingManager),e&&(this.snappingManager||(this._defaultSnappingManager=new z({view:e,options:this.snappingOptions})),\"2d\"===e.type?import(\"../../views/2d/interactive/editingTools.js\"):\"3d\"===e.type&&(import(\"../../views/3d/interactive/editingTools.js\"),import(\"../../views/3d/layers/GraphicsLayerView3D.js\")))}),m),d((()=>this.view?.spatialReference),((e,t)=>{e&&t&&!e.equals(t)&&this.cancel()}))]),B(this)}destroy(){this.cancel(),this._removeDefaultLayer(),this._defaultSnappingManager=r(this._defaultSnappingManager),this._set(\"snappingManager\",null),this._set(\"view\",null),this._updatingHandles.destroy(),this.emit(\"destroy\")}get updating(){return this._updatingHandles.updating||null!=this.snappingManager&&this.snappingManager.updating}get activeTool(){return this._operationHandle?.tool??null}get activeCreateToolDrawMode(){return\"create\"===this._operationHandle?.type&&this._operationHandle.activeComponent&&\"mode\"in this._operationHandle.activeComponent?this._operationHandle.activeComponent.mode:null}get activeTooltip(){const{activeComponent:e,destroyed:t}=this,o=!t&&e&&\"tooltip\"in e?e.tooltip:null;return o?.visible?o:null}get activeComponent(){return this._operationHandle?.activeComponent??null}get createGraphic(){return null==this.activeComponent||\"draw-3d\"!==this.activeComponent.type&&\"draw-2d\"!==this.activeComponent.type?this._get(\"createGraphic\"):this.activeComponent.graphic}get defaultCreateOptions(){return this._get(\"defaultCreateOptions\")}set defaultCreateOptions(e){this._set(\"defaultCreateOptions\",{...te,...e})}get defaultUpdateOptions(){return this._get(\"defaultUpdateOptions\")}set defaultUpdateOptions(e){this._set(\"defaultUpdateOptions\",{...oe,...e,reshapeOptions:{...oe.reshapeOptions,...e?.reshapeOptions},highlightOptions:{...oe.highlightOptions,...e?.highlightOptions}})}get labelOptions(){return this.sketchOptions.labels}set labelOptions(e){this.sketchOptions.labels=e}get snappingOptions(){return this.snappingManager?.options??this._get(\"snappingOptions\")}set snappingOptions(e){null!=this._defaultSnappingManager&&(this._defaultSnappingManager.options=e),this._set(\"snappingOptions\",e)}get snappingManager(){return this._isOverridden(\"snappingManager\")&&this._get(\"snappingManager\"),this._defaultSnappingManager}set snappingManager(e){if(e)this._isOverridden(\"snappingManager\")||(this._defaultSnappingManager=r(this._defaultSnappingManager)),this._override(\"snappingManager\",e);else{const{view:e}=this;!this._defaultSnappingManager&&e&&(this._defaultSnappingManager=new z({options:this.snappingOptions,view:e})),this._clearOverride(\"snappingManager\")}}get state(){const e=!(!this.view?.ready||!this.layer),t=this._operationHandle;return e&&t?\"active\":e?\"ready\":\"disabled\"}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(e){this.sketchOptions.tooltips=e}get valueOptions(){return this.sketchOptions.values}set valueOptions(e){this.sketchOptions.values=e}get view(){return this._get(\"view\")}set view(e){const t=this._get(\"view\");if(t){const{container:e,map:o}=t;e&&(t.cursor=null),o?.remove(this._internalGraphicsLayer),this.removeHandles(this._viewHandlesKey),this.cancel()}const o=\"view-ready\";this.removeHandles(o),e&&this.addHandles(u((()=>e.ready),(t=>{this.removeHandles(this._viewHandlesKey),t&&this.addHandles(this._generateViewHandles(e),this._viewHandlesKey)}),m),o),this._set(\"view\",e)}cancel(){this._moduleLoaderAbortController=n(this._moduleLoaderAbortController),this._viewReadyAbortController=n(this._viewReadyAbortController),this._sketchContinuationFlag=!0,this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:e,updateGraphics:t}=this;if(\"active\"===e&&t.length){const{activeTool:e,layer:o}=this,i=t.toArray();o.removeMany(i),this.cancel(),this._emitDeleteEvent({graphics:i,tool:e})}}duplicate(){if(\"active\"===this.state&&this.updateGraphics.length){const e=this.updateGraphics.map((e=>e.clone())).toArray();return this.layer.addMany(e),this.emit(\"duplicate\",{graphics:e,type:\"duplicate\"}),e}return[]}async create(e,t){this.cancel(),await this._waitViewReady();const{view:o,layer:i}=this;if(!o||\"disabled\"===this.state)throw i||this._logMissingLayer(),p();if(null!=o.activeTool&&(o.activeTool=null),!e)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'tool'.\");L(o,this._internalGraphicsLayer);const a=await this._updatingHandles.addPromise(this._setupCreateOperation(e,t));if(null==a||this.destroyed)return void o.map.remove(this._internalGraphicsLayer);const s=()=>{if(a===this._operationHandle){const o=this.createGraphic,s=this._operationHandle.cancelled;if(this._operationHandle.destroy(),this._operationHandle=null,this._set(\"createGraphic\",null),this.view?.map&&this.view.map.remove(this._internalGraphicsLayer),a.cancelled||null==o||i.add(o),this._sketchContinuationFlag=!1,this.emit(\"create\",{graphic:o,state:s?\"cancel\":\"complete\",tool:e,toolEventInfo:null,type:\"create\"}),s||this._sketchContinuationFlag)return;const{creationMode:r}=this;if(\"continuous\"===r){if(t?.geometryToPlace)return;this._updatingHandles.addPromise(h(this.create(e,t)))}else\"update\"===r&&o&&this._updatingHandles.addPromise(h(this.update([o])))}};a.on(\"complete\",s),this._operationHandle=a,o.ready&&o.focus()}async place(e,t){return this.create(\"mesh\",{mode:\"click\",hasZ:e.hasZ,geometryToPlace:e,...t})}async update(e,t){this.cancel(),await this._waitViewReady();const{layer:o,view:i,state:a}=this;if(!i||\"disabled\"===a)throw o||this._logMissingLayer(),p();null!=i.activeTool&&(i.activeTool=null);const s=Array.isArray(e)?e:[e];if(null==e||!s?.length)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'graphics'.\");if(s.some((e=>e.layer!==o?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"),!0):null==e.geometry&&(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"),!0))))return;const r=await this._updatingHandles.addPromise(this._setupUpdateOperation(s,t));this.destroyed||null==r||ue(r)||(L(i,this._internalGraphicsLayer),this._setUpdateOperationHandle(r,t),this.emit(\"update\",{graphics:s,state:\"start\",aborted:!1,tool:r.tool,toolEventInfo:null,type:\"update\"}))}async _updateSpatialReference(e){const t=this.view;if(t){e=Array.isArray(e)?e:[e];for(const o of e)null==o.geometry||\"mesh\"===o.geometry.type||E(o.geometry.spatialReference,t.spatialReference)||(b(o.geometry.spatialReference,t.spatialReference)||O()||await w(),o.geometry=G(o.geometry,t.spatialReference))}else this._logMissingView()}undo(){this.canUndo()&&this._operationHandle?.undo()}redo(){this.canRedo()&&this._operationHandle?.redo()}canUndo(){return!!this._operationHandle?.canUndo()}canRedo(){return!!this._operationHandle?.canRedo()}toggleUpdateTool(){this._operationHandle?.toggleTool()}async _getFirstHit(e){const t=this.view;if(!t)return this._logMissingView(),null;if(\"2d\"===t.type){const o=[];t.map.allLayers.forEach((e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)}));const i=await t.hitTest(e,{exclude:o});return $(i.results)}const o=[t.map.ground];t.map.allLayers.forEach((e=>{k(e.type)&&o.push(e)}));const i=await t.hitTest(e,{exclude:o});if(i.results.length>0){const e=i.results[0];if(null!=e&&\"graphic\"===e.type&&e.graphic&&(!i.ground.mapPoint||t.map.ground.opacity<1||i.ground.distance-(e.distance??0)>-Math.min(3*i.ground.distance,\"global\"===t.viewingMode?_(t.renderCoordsHelper.spatialReference).radius/t.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY)))return e}return null}_generateViewHandles(e){return[e.on(\"immediate-click\",(async e=>{const t=\"active\"===this.state&&\"create\"===this._operationHandle?.type;\"disabled\"!==this.state&&!t&&this.updateOnGraphicClick&&await this._updatingHandles.addPromise(this._handleImmediateClick(e))}),F.WIDGET)]}async _handleImmediateClick(e){const t=await e.async((()=>this._getFirstHit(Y(e))));let o=null;if(null!=t){const i=t.graphic;this.updateGraphics.includes(i)||i.layer===this.layer?(e.stopPropagation(),o=i):\"2d\"!==this.view?.type||this._isComponentGraphic(i)||\"active\"!==this.state||this.cancel()}else\"active\"===this.state&&this.cancel();null==o||this.updateGraphics.includes(o)||await this.update([o],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}})}async _setupCreateOperation(e,t){const o=this.view;if(!o)return this._logMissingView(),null;const i={hasZ:\"3d\"===o.type,...this.defaultCreateOptions,...t},a=await this._setupDrawGraphicTool(e,o,i);return null==a?null:(o.tools.add(a),o.activeTool=a,this._setupCreateOperationHandle(a))}async _setupDrawGraphicTool(e,t,o){if(\"multipoint\"===e&&\"3d\"===t.type)return this._logError(\"sketch:create\",\"Multipoint geometries are not supported in SceneView.\"),null;if(!t)return this._logMissingView(),null;const{cursor:i,defaultZ:a,hasZ:s,geometryToPlace:r,graphicProperties:n,mode:p,preserveAspectRatio:l}=o,h=X(p,e),c=ee(e),d=o?.optionsPerTool?.has(e)?o.optionsPerTool.get(e):{},u=d?.preserveAspectRatio??l??\"rectangle\"!==e,y={centered:\"rectangle\"!==e&&!(\"circle\"===e&&!u),cursor:i,defaultZ:a,forceUniformSize:u,graphicProperties:{...n,attributes:{...n?.attributes}},geometryToPlace:r,geometryType:c,mode:h,graphicSymbol:this._getGraphicSymbolFromTool(e),hasZ:s,snappingManager:this.snappingManager,snapToScene:!1,view:t,...d};return\"2d\"===t.type?this._makeDrawGraphicTool2D(y):this._makeDrawGraphicTool3D(y)}async _makeDrawGraphicTool2D(e){const t=await this._requireModule(import(\"../../views/2d/interactive/editingTools.js\"));return ue(t)||this.destroyed?null:new t.module.DrawGraphicTool2D({...e,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:re(e.geometryType)?this.activeFillSymbol:null,sketchOptions:this.sketchOptions})}async _makeDrawGraphicTool3D(e){const t=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(t)||this.destroyed)return null;const{elevationInfo:o}=this.layer;return new t.module.DrawGraphicTool3D({...e,elevationInfo:o,snapToScene:!0,sketchOptions:this.sketchOptions})}_setupCreateOperationHandle(e){const t=this.view;if(!t)return this._logMissingView(),null;let o=null;const i=e.forceUniformSize,s=e.centered,r=[t.on(\"key-down\",(t=>{if(t.key===V.pan)t.stopPropagation(),t.repeat||(e.enabled=!1);else if(t.key===V.complete)t.stopPropagation(),e.completeCreateOperation();else if(t.key!==V.vertexAdd||t.repeat)t.key===V.undo?(t.stopPropagation(),n.undo()):t.key===V.redo?(t.stopPropagation(),n.redo()):t.key!==V.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType||t.repeat?t.key===V.center&&(t.repeat||(e.centered=!s,t.stopPropagation())):(e.forceUniformSize=!i,t.stopPropagation());else{const o=e.drawOperation.geometryType;\"polyline\"!==o&&\"polygon\"!==o&&\"multipoint\"!==o||(t.stopPropagation(),e.drawOperation.commitStagedVertex())}}),F.WIDGET),t.on(\"key-up\",(t=>{t.key===V.pan?e.enabled=!0:t.key!==V.constraint||\"rectangle\"!==e.geometryType&&\"circle\"!==e.geometryType?t.key===V.center&&(e.centered=s,t.stopPropagation()):(e.forceUniformSize=i,t.stopPropagation())}),F.WIDGET),e.on(\"vertex-add\",(t=>{switch(o=null==o?\"start\":\"active\",t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:o,tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}})),e.on(\"cursor-update\",(t=>{e.drawOperation.numCommittedVertices>0&&this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:{coordinates:t.vertices[0].coordinates,type:\"cursor-update\"},type:\"create\"})})),e.on(\"vertex-remove\",(t=>{switch(t.operation){case\"apply\":this.emit(\"create\",{graphic:e.graphic,state:\"active\",tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[e.graphic],tool:e.geometryType});break;case\"redo\":this._emitRedoEvent({graphics:[e.graphic],tool:e.geometryType})}})),e.on(\"complete\",(e=>{this._set(\"createGraphic\",e.graphic),o=\"complete\",e.aborted?n&&n.cancel():n&&n.complete()})),d((()=>this._getGraphicSymbolFromTool(e.geometryType)),(t=>{e.graphicSymbol=t}))],n=new J({activeComponent:e,tool:e.geometryType,type:\"create\",onEnd:()=>{a(r),t.tools?.remove(e)},undo:()=>{e.canUndo&&e.undo()},redo:()=>{e.canRedo&&e.redo()},canUndo:()=>e.canUndo,canRedo:()=>e.canRedo});return n}_getGraphicSymbolFromTool(e){switch(e){case\"point\":case\"multipoint\":return this.pointSymbol;case\"polyline\":case\"freehandPolyline\":return this.polylineSymbol;case\"circle\":case\"rectangle\":case\"polygon\":case\"freehandPolygon\":return this.polygonSymbol;case\"mesh\":return this.meshSymbol}}async _setupUpdateOperation(e,t){const{layer:o,view:i}=this;if(!i)return this._logMissingView(),null;const a={...this.defaultUpdateOptions,...t,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...t?.reshapeOptions},highlightOptions:{...this.defaultUpdateOptions.highlightOptions,...t?.highlightOptions}};let s=a.tool??oe.tool;for(const r of e)o.remove(r),o.add(r);if(\"3d\"===i.type){if(0===e.length)return null;switch(s){case\"move\":return this._setupMove3DOperation(e,a,i,s);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupReshape3DOperation(e[0],a,i);case\"transform\":return this._setupGraphicTransform3DOperation(e,a,i)}}switch(s){case\"move\":return this._setupMove2DOperation(e,a,i);case\"reshape\":return e.length>1?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupTransformOrReshape2DOperation(e,s,a,i);case\"transform\":if(1===e.length){const t=e[0].geometry?.type;\"point\"!==t&&\"multipoint\"!==t||(s=\"reshape\")}return this._setupTransformOrReshape2DOperation(e,s,a,i)}}async _setupMove3DOperation(e,t,o,i,s=!1){const r=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(r))return r;const{ManipulatedObject3DGraphic:n,MoveTool3D:p}=r.module,l=new Map,h=()=>{l.forEach((e=>e.destroy())),l.clear()};for(const a of e){const e=new n({view:o,graphic:a}),t=U(e);if(t!==j.SUPPORTED)return h(),this._logError(\"sketch:move\",`Move operation not supported for provided graphic(s) (${I(t)}).`),null;l.set(a,e)}const c=new p({view:o,enableZ:t.enableZ,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(c),c.objects.addMany(Array.from(l.values())),s||this.updateGraphics.addMany(e);const d=[],u=new Q({activeComponent:c,tool:i,type:\"update\",onEnd:()=>{a(d),de(o,c),h()},undo:()=>{he(this.view,c),ne(u,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{pe(u,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:e=>{this.updateGraphics.push(e);const t=new n({view:o,graphic:e});l.set(e,t),c.objects.push(t),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);if(u.history.undo.forEach((e=>e.updates.splice(t,1))),u.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0===this.updateGraphics.length)return void u.complete();const o=l.get(e);o&&(c.objects.remove(o),o.destroy(),l.delete(e))},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;if(\"transform\"!==i)return;const e=this.updateGraphics.at(0),a=await this._setupReshape3DOperation(e,t,o,!0);a&&!ue(a)&&(u.onEnd(),u.destroy(),this._setUpdateOperationHandle(a,t))}});return d.push(...this._getHandlesForComponent(u,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(u,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(u,e)}),F.WIDGET)),u}_setupGraphicTransform3DOperation(e,t,o,i=!1){if(1===e.length&&x(e[0])===j.SUPPORTED){const a=e[0],s=a.geometry;if(null!=s&&(\"point\"===s.type||\"mesh\"===s.type))return this._setupPointTransform3DOperation(a,t,o);if(null!=s&&(\"polygon\"===s.type||\"polyline\"===s.type))return this._setupPolyTransform3DOperation(a,t,o,i)}return this._setupMove3DOperation(e,t,o,\"transform\",i)}async _setupPointTransform3DOperation(e,t,o){const i=\"transform\",{enableRotation:s,enableScaling:r,enableZ:n}=t,p=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(p))return p;const{TransformTool3D:l,ManipulatedObject3DGraphic:h}=p.module,c=new h({graphic:e,view:o}),d=new l({object:c,view:o,enableRotation:s,enableScaling:r,enableZ:n,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(d),this.updateGraphics.add(e);const u=[],y=new Q({activeComponent:d,tool:i,type:\"update\",onEnd:()=>{a(u),de(o,d),c.destroy()},undo:()=>{he(this.view,d),ne(y,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:i})},redo:()=>{pe(y,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:i})},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),y.onEnd(),y.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ue(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),y.complete()},toggleTool:()=>{}});return u.push(...this._getHandlesForComponent(y,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(y,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(y,e)}),F.WIDGET)),y}async _setupPolyTransform3DOperation(e,t,o,i=!1){const s=\"transform\",{enableRotation:r,enableScaling:n,enableZ:p,preserveAspectRatio:l}=t,h=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(h))return h;const{ManipulatedObject3DGraphic:c,ExtentTransformTool:d}=h.module,u=this.view?.inputManager?.isModifierKeyDown(V.constraint),y=new c({view:o,graphic:e}),m=new d({object:y,view:o,enableRotation:r,enableScaling:n,enableZ:p,preserveAspectRatio:!!l!=!!u,sketchOptions:this.sketchOptions});o.tools.add(m),i||this.updateGraphics.add(e);const g=[],v=new Q({activeComponent:m,tool:s,type:\"update\",onEnd:()=>{a(g),de(o,m),y.destroy()},canUndo:()=>!m.destroyed&&m.canUndo,undo:()=>{m.destroyed||(m.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},canRedo:()=>!m.destroyed&&m.canRedo,redo:()=>{m.destroyed||(m.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),v.onEnd(),v.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ue(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),v.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;const i=await this._setupReshape3DOperation(e,t,o,!0);i&&!ue(i)&&(v.onEnd(),v.destroy(),this._setUpdateOperationHandle(i,t))}});return g.push(...this._getHandlesForComponent(v,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(v,e,t)),F.WIDGET),o.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(v,e)),F.WIDGET),o.on(\"key-down\",(e=>{e.key!==V.constraint||e.repeat||(m.preserveAspectRatio=!m.preserveAspectRatio,e.stopPropagation())}),F.WIDGET),o.on(\"key-up\",(e=>{e.key===V.constraint&&(m.preserveAspectRatio=!m.preserveAspectRatio,e.stopPropagation())}),F.WIDGET)),v}async _setupMove2DOperation(e,t,o){const i=\"move\";this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const s=await this._getGraphicMover(e,t,o);if(ue(s))return s;const r=new Q({activeComponent:s,tool:i,type:\"update\",onEnd:()=>{this._displayDefaultCursor(),a(l),a(p),s.destroy(),this._internalGraphicsLayer?.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const e=this.updateGraphics.toArray();ne(r,e),r.refreshComponent(),this._emitUndoEvent({graphics:e,tool:i})},redo:()=>{const e=this.updateGraphics.toArray();pe(r,e),r.refreshComponent(),this._emitRedoEvent({graphics:e,tool:i})},addToSelection:async e=>{await this._updatingHandles.addPromise(this._updateSpatialReference(e)),this.updateGraphics.push(e),s.graphics=this.updateGraphics.toArray(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?s.graphics=o:r.complete()}});let n=!1;const p=[o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key!==V.constraint||e.repeat||(n=!0,s.enableMoveAllGraphics=!s.enableMoveAllGraphics)}),F.WIDGET),o.on(\"key-up\",(e=>{e.key===V.constraint&&n&&(n=!1,s.enableMoveAllGraphics=!s.enableMoveAllGraphics)}),F.WIDGET)],l=this._getHandlesForComponent(r,t);return r}async _setupReshape3DOperation(e,t,o,i=!1){const s=\"reshape\",r=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(ue(r))return r;const{ManipulatedObject3DGraphic:n,ReshapeTool3D:p}=r.module,l=new n({view:o,graphic:e}),h=P(l);if(h!==j.SUPPORTED)return l.destroy(),this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${I(h)}).`),null;const c=t.reshapeOptions,d=new p({view:o,object:l,enableZVertex:t.enableZ&&\"move\"===c?.vertexOperation,enableZShape:t.enableZ&&\"move\"===c?.shapeOperation,enableMoveObject:\"move\"===c?.shapeOperation||\"move-xy\"===c?.shapeOperation,enableMidpoints:\"split\"===c?.edgeOperation,enableEdgeOffset:\"offset\"===c?.edgeOperation,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions});o.tools.add(d),i||this.updateGraphics.add(l.graphic);const u=[],y=new Q({activeComponent:d,tool:s,type:\"update\",onEnd:()=>{a(u),de(o,d),l.destroy()},canUndo:()=>!d.destroyed&&d.canUndo,undo:()=>{d.destroyed||(d.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},canRedo:()=>!d.destroyed&&d.canRedo,redo:()=>{d.destroyed||(d.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s}))},addToSelection:async e=>{this.updateGraphics.add(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"}),y.onEnd(),y.destroy();const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,o,\"transform\",!0);ue(i)||this._setUpdateOperationHandle(i,t)},removeFromSelection:e=>{this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),y.complete()},toggleTool:async()=>{if(!1===t.toggleToolOnClick)return;y.onEnd(),y.destroy();const e=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),t,o,!0);ue(e)||this._setUpdateOperationHandle(e,t)}});return u.push(...this._getHandlesForComponent(y,t),o.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(y,e,t)),F.WIDGET),o.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(y,e)}),F.WIDGET)),y}async _setupTransformOrReshape2DOperation(e,t,o,i){this.updateGraphics.addMany(e),await this._updatingHandles.addPromise(this._updateSpatialReference(e));const s=\"transform\"===t?await this._getBox(e,o,i):await this._getReshape(e,o,i);if(ue(s))return s;const r=new Q({activeComponent:s,type:\"update\",onEnd:()=>{a(p),a(n),r.activeComponent&&!r.activeComponent.destroyed&&r.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{ne(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},redo:()=>{pe(r,this.updateGraphics.toArray()),r.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r.tool})},addToSelection:async e=>{let t=r.activeComponent;if(\"reshape\"===t?.type){const t=[...this.updateGraphics,e];this.updateGraphics.removeAll(),r.onEnd(),r.destroy();const a=await this._setupTransformOrReshape2DOperation(t,\"transform\",o,i);if(ue(a))return;this._setUpdateOperationHandle(a,o)}else this.updateGraphics.add(e),t.graphics=this.updateGraphics.toArray(),t.refresh(),r.resetHistory();this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:async e=>{const t=this.updateGraphics.indexOf(e);r.history.undo.forEach((e=>e.updates.splice(t,1))),r.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();if(0===o.length)r.complete();else{const e=o[0].geometry;1!==o.length||null==e||\"point\"!==e.type&&\"multipoint\"!==e.type?r.activeComponent.graphics=o:r.toggleTool()}this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"})},toggleTool:async()=>{if(this.updateGraphics.length>1)return;const e=this.updateGraphics.at(0),t=e.geometry;if(null!=t&&(\"reshape\"===r.tool&&(\"point\"===t.type||\"multipoint\"===t.type)||\"transform\"===r.tool&&\"extent\"===t.type))return;let s=null;\"transform\"===r.tool?s=await this._getReshape([e],o,i):\"reshape\"===r.tool&&(s=await this._getBox([e],o,i)),ue(s)||(r.activeComponent?.destroy(),r.activeComponent=s,r.activeComponent&&(a(p),p=this._getHandlesForComponent(r,o)))}}),n=[i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(r,e,o)),F.WIDGET),i.on(\"key-down\",(e=>{if(this._getCommonUpdateOperationKeyDownHandlers(r,e),e.key===V.constraint&&!e.repeat&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),F.WIDGET),i.on(\"key-up\",(e=>{if(e.key===V.constraint&&r){const e=r.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),F.WIDGET)];let p=this._getHandlesForComponent(r,o);return r}async _getGraphicMover(e,t,o){const{enableMoveAllGraphics:i,highlightOptions:a}=t,s=await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));return ue(s)?s:new s.module.default({enableMoveAllGraphics:i,highlightsEnabled:!!a?.enabled,indicatorsEnabled:!1,graphics:e,view:o,callbacks:{onGraphicMoveStart:({dx:e,dy:t,graphic:o})=>{this._displayGrabbingCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-start\"},type:\"update\"})},onGraphicMove:({dx:e,dy:t,graphic:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move\"},type:\"update\"}),onGraphicMoveStop:({dx:e,dy:t,graphic:o})=>{this._displayPointerCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:\"move-stop\"},type:\"update\"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(e,t,o){const{enableRotation:i,enableScaling:a,highlightOptions:s,preserveAspectRatio:r}=t,n=await this._requireModule(import(\"../../views/draw/support/Box.js\"));if(ue(n))return n;const p=this.view?.inputManager?.isModifierKeyDown(V.constraint);return new n.module.default({graphics:e,enableRotation:i,enableScaling:a,highlightsEnabled:!!s?.enabled,preserveAspectRatio:!!r!=!!p,layer:this._internalGraphicsLayer,view:o,sketchOptions:this.sketchOptions,callbacks:{onMoveStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMove:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMoveStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScale:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotate:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"})}})}async _getReshape(e,t,o){const i=\"split\"===t.reshapeOptions?.edgeOperation,a=\"move\"===t.reshapeOptions?.shapeOperation,s=!!t.highlightOptions?.enabled,r=await this._requireModule(import(\"../../views/draw/support/Reshape.js\"));return ue(r)?r:new r.module.default({enableMidpoints:i,enableMovement:a,graphic:e[0],highlightsEnabled:s,layer:this._internalGraphicsLayer,snappingManager:this.snappingManager,sketchOptions:this.sketchOptions,view:o,callbacks:{onReshapeStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshape:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshapeStop:({mover:e,type:t})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e,type:t},type:\"update\"}),onMoveStart:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMove:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onMoveStop:({dx:e,dy:t,mover:o,type:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:o,type:i},type:\"update\"}),onVertexAdd:({added:e,type:t,vertices:o})=>{const i=e.map((e=>T(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:i,vertices:o,type:t},type:\"update\"})},onVertexRemove:({removed:e,type:t,vertices:o})=>{const i=e.map((e=>T(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:i,vertices:o,type:t},type:\"update\"})}}})}_getHandlesForComponent(e,t){const o=e.activeComponent;if(!o)return[];switch(o.type){case\"graphic-mover\":return[o.on(\"graphic-click\",(({graphic:t,viewEvent:o})=>{o.native?.shiftKey&&(o.stopPropagation(),e.removeFromSelection(t))})),o.on(\"graphic-move-start\",(t=>e.addToHistory(ce(t.allGraphics))))];case\"box\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(ce(t.graphics)))),o.on(\"rotate-start\",(t=>e.addToHistory(ce(t.graphics)))),o.on(\"scale-start\",(t=>e.addToHistory(ce(t.graphics))))];case\"reshape\":return[o.on(\"graphic-click\",(o=>this._onTransformOrReshape2DGraphicClick(e,t,o))),o.on(\"move-start\",(t=>e.addToHistory(ce([t.mover])))),o.on(\"reshape-start\",(t=>e.addToHistory(ce([t.graphic])))),o.on(\"vertex-add\",(t=>e.addToHistory(ce([t.oldGraphic])))),o.on(\"vertex-remove\",(t=>e.addToHistory(ce([t.oldGraphic]))))];case\"move-3d\":return[o.events.on(\"record-undo\",(({updates:t})=>{e.addToHistory({updates:t})})),o.events.on(\"move-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-start\"},type:\"update\"})})),o.events.on(\"move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move\"},type:\"update\"})})),o.events.on(\"move-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.objects.length>0?e.objects[0].graphic:null,type:\"move-stop\"},type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))];case\"transform-3d\":return[o.events.on(\"record-undo\",(({updates:t})=>{e.addToHistory({updates:t})})),o.events.on(\"translate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-start\"},type:\"update\"})})),o.events.on(\"translate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-stop\"},type:\"update\"})})),o.events.on(\"rotate-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-start\"},type:\"update\"})})),o.events.on(\"rotate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate-stop\"},type:\"update\"})})),o.events.on(\"scale-start\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-start\"},type:\"update\"})})),o.events.on(\"scale-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale-stop\"},type:\"update\"})})),o.events.on(\"translate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move\"},type:\"update\"})})),o.events.on(\"rotate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,angle:e.angle,type:\"rotate\"},type:\"update\"})})),o.events.on(\"scale\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.object.graphic,xScale:e.xScale,yScale:e.yScale,type:\"scale\"},type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))];case\"reshape-3d\":return[o.events.on(\"reshape\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})})),o.events.on(\"move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e,mover:e.object.graphic},type:\"update\"})})),o.events.on(\"vertex-add\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.events.on(\"vertex-remove\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),o.events.on(\"immediate-click\",(o=>{o.shiftKey?this._toggleSelection([o.object.graphic],e,t):e.toggleTool()}))]}}_onTransformOrReshape2DGraphicClick(e,t,o){const{graphic:i,viewEvent:a}=o;return a.native?.shiftKey&&i.layer===this.layer?(a.stopPropagation(),e.removeFromSelection(i)):t.toggleToolOnClick?(a.stopPropagation(),e.toggleTool()):void 0}_setUpdateOperationHandle(e,t){this._operationHandle=e;const o=this.view?.map;this._disablePopup(t);const i=()=>{if(e===this._operationHandle){const i=this.updateGraphics.toArray(),a=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),o&&o.remove(this._internalGraphicsLayer),this._restorePopup(t),this.emit(\"update\",{graphics:i,state:\"complete\",aborted:e.cancelled,tool:a,toolEventInfo:null,type:\"update\"})}};e.on(\"complete\",i)}async _getCommonUpdateOperationClickHandlers(e,t,o){const i=Y(t),a=await t.async((()=>this._getFirstHit(i)));if(null==a)return void e.complete();if(t.native.shiftKey&&this._toggleSelection([a.graphic],e,o))return void t.stopPropagation();this.updateGraphics.includes(a.graphic)?t.stopPropagation():e.complete()}_toggleSelection(e,t,o){const i=!!o.multipleSelectionEnabled;return e.some((e=>null!=e&&(!(!i||e.layer!==this.layer)&&(this.updateGraphics.includes(e)?t.removeFromSelection(e):t.addToSelection(e),!0))))}_getCommonUpdateOperationKeyDownHandlers(e,t){if(!e)return;const o=t.key;o===V.undo&&e.canUndo()?(t.stopPropagation(),e.undo()):o===V.redo&&e.canRedo()?(t.stopPropagation(),e.redo()):o===V.cancel?(t.stopPropagation(),e.cancel()):this.allowDeleteKey&&V.delete.includes(o)&&this._onDeleteKey(t)}_onDeleteKey(e){if(!this._operationHandle||\"update\"!==this._operationHandle.type)return;const t=this.activeComponent,o=this.updateGraphics.toArray();null!=t&&(\"reshape\"!==t.type||1===o.length&&\"point\"===o[0].geometry?.type)&&(e.stopPropagation(),this.delete())}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view?.map?.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=r(this._internalGraphicsLayer))}_isComponentGraphic(e){const{activeComponent:t}=this;return!(!e||null==t)&&(e.attributes?.esriSketchTool||\"draw-2d\"===t.type&&t.graphic===e||(\"box\"===t.type||\"reshape\"===t.type)&&t.isUIGraphic(e))}_displayPointerCursor(){this.view?.container&&\"pointer\"!==this.view.cursor&&(this.view.cursor=\"pointer\")}_displayGrabbingCursor(){this.view?.container&&\"grabbing\"!==this.view.cursor&&(this.view.cursor=\"grabbing\")}_displayDefaultCursor(){this.view?.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(e,t,i){s.getLogger(this).error(new o(e,t,i))}async _requireModule(e){const t=new AbortController;this._moduleLoaderAbortController=t;const o=await e;return this._moduleLoaderAbortController!==t||t.signal.aborted?{requireError:\"aborted\"}:{module:o}}_emitUndoEvent(e){this.emit(\"undo\",{...e,type:\"undo\"})}_emitRedoEvent(e){this.emit(\"redo\",{...e,type:\"redo\"})}_emitDeleteEvent(e){this.emit(\"delete\",{...e,type:\"delete\"})}get test(){}wait(){return y((()=>!this.updating))}_disablePopupEnabled(e){return\"3d\"!==this.view?.type||this.updateOnGraphicClick||(e?.toggleToolOnClick??!1)}_disablePopup(e){this._disablePopupEnabled(e)&&this.view&&null==this._originalPopupEnabled&&(this._originalPopupEnabled=this.view.popupEnabled,this.view.popupEnabled=!1)}_restorePopup(e){this._disablePopupEnabled(e)&&this.view&&null!=this._originalPopupEnabled&&(this.view.popupEnabled=this._originalPopupEnabled,this._originalPopupEnabled=null)}async _waitViewReady(){const e=this.view;e?(n(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await l(y((()=>e?.ready)),this._viewReadyAbortController.signal)):this._logMissingView()}_logMissingView(){this._logError(\"sketch:missing-property\",se(\"view\"))}_logMissingLayer(){this._logError(ae,se(\"layer\"))}};e([g()],ie.prototype,\"_defaultSnappingManager\",void 0),e([g()],ie.prototype,\"updating\",null),e([g({readOnly:!0})],ie.prototype,\"_updatingHandles\",void 0),e([g()],ie.prototype,\"_operationHandle\",void 0),e([g({readOnly:!0})],ie.prototype,\"activeTool\",null),e([g({readOnly:!0})],ie.prototype,\"activeCreateToolDrawMode\",null),e([g()],ie.prototype,\"activeTooltip\",null),e([g({types:R})],ie.prototype,\"activeFillSymbol\",void 0),e([g()],ie.prototype,\"activeLineSymbol\",void 0),e([g()],ie.prototype,\"activeVertexSymbol\",void 0),e([g()],ie.prototype,\"allowDeleteKey\",void 0),e([g({readOnly:!0})],ie.prototype,\"createGraphic\",null),e([g()],ie.prototype,\"defaultCreateOptions\",null),e([g()],ie.prototype,\"defaultUpdateOptions\",null),e([g({type:K,nonNullable:!0})],ie.prototype,\"labelOptions\",null),e([g()],ie.prototype,\"layer\",void 0),e([g({types:R})],ie.prototype,\"pointSymbol\",void 0),e([g({types:R})],ie.prototype,\"polygonSymbol\",void 0),e([g({types:R})],ie.prototype,\"polylineSymbol\",void 0),e([g()],ie.prototype,\"meshSymbol\",void 0),e([g({type:N,nonNullable:!0})],ie.prototype,\"snappingOptions\",null),e([g()],ie.prototype,\"snappingManager\",null),e([g({readOnly:!0})],ie.prototype,\"state\",null),e([g({type:Z,nonNullable:!0})],ie.prototype,\"tooltipOptions\",null),e([g({readOnly:!0})],ie.prototype,\"updateGraphics\",void 0),e([g()],ie.prototype,\"updateOnGraphicClick\",void 0),e([g()],ie.prototype,\"creationMode\",void 0),e([g({type:q,nonNullable:!0})],ie.prototype,\"valueOptions\",null),e([g({types:R})],ie.prototype,\"vertexSymbol\",void 0),e([g({value:null})],ie.prototype,\"view\",null),e([g({constructOnly:!0,type:W})],ie.prototype,\"sketchOptions\",void 0),ie=e([v(\"esri.widgets.Sketch.SketchViewModel\")],ie);const ae=\"sketch:missing-property\",se=e=>`Property '${e}' is missing on SketchViewModel.`;function re(e){return\"polygon\"===e||\"rectangle\"===e||\"circle\"===e}function ne(e,t){le(\"undo\",e.history.undo,e.history.redo,t)}function pe(e,t){le(\"redo\",e.history.redo,e.history.undo,t)}function le(e,t,o,i){const a=t.pop();if(!a)return;const s=a.updates,r=[];i.forEach(((t,o)=>{const i=s[o];null!=i&&(\"geometry\"in i&&null!=i.geometry&&(r.push({geometry:t.geometry}),t.geometry=i.geometry),\"symbol\"in i&&null!=i.symbol&&(r.push({symbol:t.symbol}),t.symbol=i.symbol),\"undo\"in i&&(r.push(i),i[e](t)))})),o.push({updates:r})}function he(e,t){null!=e&&t.hasGrabbedManipulators&&(e.activeTool=null)}function ce(e){return{updates:e.map((({geometry:e})=>\"mesh\"===e?.type?{geometry:e.cloneShallow()}:{geometry:e}))}}function de(e,t){e.tools?.remove(t),t.destroyed||t.destroy()}function ue(e){return\"requireError\"in e&&\"aborted\"===e.requireError}const ye=ie;export{ye as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as s,initial as i}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../../../core/support/UpdatingHandles.js\";import n from\"../../../../layers/GraphicsLayer.js\";import c from\"../../../../rest/support/PointBarrier.js\";import h from\"../../../../rest/support/PolygonBarrier.js\";import y from\"../../../../rest/support/PolylineBarrier.js\";import d from\"../../../../rest/support/Stop.js\";import m from\"../../../../widgets/Sketch/SketchViewModel.js\";function g(e,r){e.networkFeature=r}function u(e){const r=w(e.graphic);return{...e,networkFeature:r}}function b(e){const r=e.graphics.map((e=>w(e)));return{...e,networkFeatures:r}}function w(e){return e.networkFeature}function k(e){return\"point\"===e?.type||\"polyline\"===e?.type||\"polygon\"===e?.type}let _=class extends r{constructor(e){super(e),this._createMode=null,this._graphicsLayer=new n({internal:!0,listMode:\"hide\",title:\"Banana\"}),this._updatingHandles=new p,this.enabled=!0,this._handleSketchViewModelEvents=async e=>{switch(e.type){case\"update\":switch(e.state){case\"active\":case\"complete\":for(const r of e.graphics){w(r).geometry=k(r.geometry)?r.geometry.clone():null}}break;case\"undo\":case\"redo\":break;case\"delete\":for(const r of e.graphics){const e=w(r);this._removeNetworkFeature(e)}break;case\"create\":if(e.graphic&&\"complete\"===e.state&&this._createMode){const r=e.graphic.geometry?.clone(),t=e.graphic.symbol?.clone();if(!r)break;switch(this._createMode){case\"stop\":{if(\"point\"!==r.type)break;const{stops:t}=this.layer;if(t.length>0&&t.every((({geometry:e})=>!e))){t.at(0).geometry=r;break}if(t.length>1&&t.filter(((e,r)=>0!==r)).every((({geometry:e})=>!e))){t.at(1).geometry=r;break}const o=new d({geometry:r});t.add(o),g(e.graphic,o);break}case\"point-barrier\":{if(\"point\"!==r.type)break;const o=new c({geometry:r,symbol:t});this.layer.pointBarriers.add(o),g(e.graphic,o);break}case\"polyline-barrier\":{if(\"polyline\"!==r.type)break;const o=new y({geometry:r,symbol:t});this.layer.polylineBarriers.add(o),g(e.graphic,o);break}case\"polygon-barrier\":{if(\"polygon\"!==r.type)break;const o=new h({geometry:r,symbol:t});this.layer.polygonBarriers.add(o),g(e.graphic,o);break}}}}(await this.view.whenLayerView(this.layer)).emit(e.type,\"create\"===e.type?u(e):b(e))}}initialize(){this._sketchViewModel=new m({layer:this._graphicsLayer,view:this.view}),this.addHandles([s((()=>this.enabled),(e=>{e?this._activate():this._deactivate()}),i),s((()=>{const{stops:e,pointBarriers:r,polylineBarriers:t,polygonBarriers:o}=this.layer;return{stops:e,pointBarriers:r,polylineBarriers:t,polygonBarriers:o}}),(()=>{this.enabled&&this._loadClonedGraphics()})),this._sketchViewModel.on([\"create\",\"delete\",\"redo\",\"undo\",\"update\"],this._handleSketchViewModelEvents),t(this._updatingHandles)])}destroy(){this.view.map.remove(this._graphicsLayer),this._graphicsLayer.removeAll(),this._graphicsLayer=o(this._graphicsLayer),this._sketchViewModel=o(this._sketchViewModel)}get selectedNetworkFeatures(){return this._sketchViewModel.updateGraphics.map((e=>w(e)))}get updating(){return this._updatingHandles.updating}create(e){switch(this._createMode=e,e){case\"stop\":this.layer.defaultSymbols.stops?.unlocated&&(this._sketchViewModel.pointSymbol=this.layer.defaultSymbols.stops.unlocated.clone());break;case\"point-barrier\":this.layer.defaultSymbols.pointBarriers&&(this._sketchViewModel.pointSymbol=this.layer.defaultSymbols.pointBarriers.clone());break;case\"polyline-barrier\":this.layer.defaultSymbols.polylineBarriers&&(this._sketchViewModel.polylineSymbol=this.layer.defaultSymbols.polylineBarriers.clone());break;case\"polygon-barrier\":this.layer.defaultSymbols.polygonBarriers&&(this._sketchViewModel.polygonSymbol=this.layer.defaultSymbols.polygonBarriers.clone())}switch(e){case\"stop\":case\"point-barrier\":return this._sketchViewModel.create(\"point\");case\"polyline-barrier\":return this._sketchViewModel.create(\"polyline\");case\"polygon-barrier\":return this._sketchViewModel.create(\"polygon\")}}remove(e){const r=this._graphicsLayer.graphics.find((r=>w(r)===e));r&&this._graphicsLayer.remove(r),this._removeNetworkFeature(e)}_activate(){this._loadClonedGraphics(),this.view.map.add(this._graphicsLayer)}_deactivate(){this._sketchViewModel.cancel(),this.view.map?.remove(this._graphicsLayer),this._graphicsLayer.removeAll()}_loadClonedGraphics(){const e=[this.layer.stops,this.layer.pointBarriers,this.layer.polylineBarriers,this.layer.polygonBarriers].flatMap((e=>e.toArray().map((e=>{const r=e.toGraphic();return r.networkFeature=e,r}))));this._graphicsLayer.removeAll().addMany(e)}_removeNetworkFeature(e){switch(e.type){case\"stop\":this.layer.stops.remove(e);break;case\"point-barrier\":this.layer.pointBarriers.remove(e);break;case\"polyline-barrier\":this.layer.polylineBarriers.remove(e);break;case\"polygon-barrier\":this.layer.polygonBarriers.remove(e)}}};e([a()],_.prototype,\"enabled\",void 0),e([a({constructOnly:!0})],_.prototype,\"layer\",void 0),e([a({readOnly:!0})],_.prototype,\"selectedNetworkFeatures\",null),e([a()],_.prototype,\"updating\",null),e([a({constructOnly:!0})],_.prototype,\"view\",void 0),_=e([l(\"esri.views.2d.layers.support.RouteLayerInteraction\")],_);export{_ as RouteLayerInteraction};\n"],"names":["E","P","r","e","o","t","s","n","l","i","p","u","f","a","d","c","n$4","r$3","r$2","g$2","h","g","n$3","x","g$1","m","I","v","H","N","L","b","_","y","O","z","C","A","S","w","T","j","q","M","R","k","te","oe","ie","D","W","B","ue","G","$","F","Y","X","ee","re","V","J","U","Q","de","he","ne","pe","ce","se","ae","K","Z","le","ye"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]}