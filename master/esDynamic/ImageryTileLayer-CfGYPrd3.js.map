{"version":3,"file":"ImageryTileLayer-CfGYPrd3.js","sources":["../../node_modules/@arcgis/core/layers/support/rasterDatasets/covJSONParser.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/CovJSONRaster.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js","../../node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js","../../node_modules/@arcgis/core/layers/ImageryTileLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import t from\"../../../geometry/Extent.js\";import n from\"../../../geometry/SpatialReference.js\";import{getLanguage as l}from\"../../../intl/locale.js\";import s from\"../PixelBlock.js\";import{getIntegerPixelType as a}from\"../rasterFormats/pixelRangeUtils.js\";function i(e){return[\"x\",\"e\",\"east\",\"long\",\"longitude\"].includes(e.toLowerCase())}function r(e){return[\"y\",\"n\",\"west\",\"lat\",\"latitude\"].includes(e.toLowerCase())}function o(e){const{axes:l}=e.domain,s=Object.keys(l),a=[],o=[];let u=-1,m=-1,c=[];for(let t=0;t<s.length;t++){const e=s[t];i(e)?u=t:r(e)&&(m=t);const n=l[e],d=[];if(\"values\"in n){n.values.forEach((e=>d.push(\"string\"==typeof e?new Date(e).getTime():e)));const e=d[1]-d[0];a.push([d[0]-.5*e,d[d.length-1]+.5*e]),o.push(e)}else{const{start:e,stop:t,num:l}=n,s=(t-e)/(l-1);a.push([e-.5*s,t+.5*s]),o.push(s);for(let n=0;n<l;n++)d.push(e+s*n)}c.push({name:e,values:d,extent:[d[0],d[d.length-1]]})}u>-1&&-1===m?m=0===u?1:0:m>-1&&-1===u?u=0===m?1:0:-1===m&&-1===u&&(u=0,m=1),c=c.filter(((e,t)=>!(t===u||t===m)));const{referencing:d}=e.domain,f=d.find((e=>e.coordinates.includes(s[u]))).system.id,p=f?.slice(f.lastIndexOf(\"/\")+1),h=null==p||\"CRS84\"===p?4326:Number(p),g=new n({wkid:h}),[b,y]=a[u],[x,j]=a[m],v=new t({xmin:b,xmax:y,ymin:x,ymax:j,spatialReference:g});return{width:Math.round(v.width/o[u]),height:Math.round(v.height/o[m]),extent:v,dimensions:c}}function u(e){const t=l();return t?e[t]??Object.values(e)[0]:Object.values(e)[0]}function m(){return Math.round(255*Math.random())}function c(t){const n={},{parameters:l}=t;if(!l)return n;for(const[s,a]of Object.entries(l)){const{type:t,description:l,unit:i,categoryEncoding:r,observedProperty:o}=a;if(\"Parameter\"===t&&(n[s]={},l&&(n[s].description=u(l)),i&&(n[s].unit=i.label?u(i.label):null,n[s].symbol=i.symbol?.value),r)){const t=Object.entries(r).map(((e,t)=>({OID:t,Value:Number(e[1]),ClassName:e[0].slice(e[0].lastIndexOf(\"/\")+1),Count:1})));let l=!1;o?.categories?.length&&(o.categories.forEach((n=>{if(!n.id)return;const s=n.id.slice(n.id.lastIndexOf(\"/\")+1),a=t.find((e=>e.ClassName===s));if(!a)return;const i=n.label?u(n.label):null;if(a.Label=i,n.preferredColor){const t=e.fromHex(n.preferredColor);t&&(l=!0,a.Red=t.r,a.Green=t.g,a.Blue=t.b)}})),l&&t.forEach((e=>{null==e.Red&&(e.Red=m(),e.Green=m(),e.Blue=m())})));const a={objectIdFieldName:\"\",fields:[{name:\"OID\",type:\"esriFieldTypeOID\",alias:\"OID\",domain:null},{name:\"Value\",type:\"esriFieldTypeInteger\",alias:\"Value\",domain:null},{name:\"Count\",type:\"esriFieldTypeDouble\",alias:\"Count\",domain:null},{name:\"ClassName\",type:\"esriFieldTypeString\",alias:\"ClassName\",domain:null,length:50},{name:\"Label\",type:\"esriFieldTypeString\",alias:\"Label\",domain:null,length:50}],features:t.map((e=>({attributes:e})))};l&&a.fields.push({name:\"Red\",type:\"esriFieldTypeInteger\",alias:\"Red\",domain:null},{name:\"Green\",type:\"esriFieldTypeInteger\",alias:\"Green\",domain:null},{name:\"Blue\",type:\"esriFieldTypeInteger\",alias:\"Blue\",domain:null}),n[s].attributeTable=a}}return n}function d(e){let t=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let l=0;l<e.length;l++){const s=e[l];null!=s&&(s<t&&(t=s),s>n&&(n=s))}return a(t,n)}function f(e,t,n){const l=e.map(((e,n)=>({name:e,count:t[n]}))).sort(((e,t)=>e.name>t.name?-1:1)),s=(a=1,e=>a*=e.count);var a;const i=[...l.slice(1),{name:\"\",count:1}].reverse().map(s).reverse();let r=0;for(let o=e.length-1;o>=0;o--){r+=i[l.findIndex((({name:t})=>t===e[o]))]*(n%t[o]),n=Math.floor(n/t[o])}return r}function p(e){const{width:t,height:n,extent:l,dimensions:a}=o(e),{ranges:i}=e,r=Object.keys(i).sort(((e,t)=>e<t?-1:1)),u=[];for(let s=0;s<r.length;s++){const e=r[s];a?.length&&u.push({name:e,dimensions:a})}const m=c(e);u.forEach((e=>m[e.name]&&Object.assign(e,m[e.name])));const p=u.length?{variables:u}:void 0,h=[];for(let o=0;o<r.length;o++){const e=r[o],{values:l,dataType:u,axisNames:m,shape:c}=i[e],p=c.length>2?o*c.slice(0,-2).reduce(((e,t)=>e*t)):0,g=m.slice(0,-2),b=c.slice(0,-2),y=\"float\"===u?\"f32\":d(l),x=t*n,j=l.length/x;for(let i=0;i<j;i++){const e=s.createEmptyBand(y,x),r=new Uint8Array(x).fill(255);let u=!1;const m=i*x;for(let t=0;t<x;t++){const n=l[m+t];null==n?(r[t]=0,u=!0):e[t]=n}if(0===o||a?.length){const l=new s({width:t,height:n,mask:u?r:null,pixels:[e],pixelType:y});if(l.updateStatistics(),a?.length){h[f(g,b,i)+p]=l}else h.push(l)}else{const t=h[i];t.pixels.push(e),u?t.mask&&(t.mask=s.combineBandMasks([t.mask,r])):t.mask=u?r:null}}}const g=Object.values(m).find((e=>e.attributeTable))?.attributeTable;return{extent:l,pixelBlocks:h,multidimensionalInfo:p,attributeTable:g,bandNames:p?void 0:r}}export{i as isXAxis,r as isYAxis,p as parseGridCoverage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Error.js\";import{eachAlways as s}from\"../../../core/promiseUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../geometry/Extent.js\";import a from\"../../../geometry/SpatialReference.js\";import l from\"../DimensionalDefinition.js\";import n from\"../RasterInfo.js\";import m from\"./BaseRaster.js\";import{getSliceIndex as c}from\"./multidimensionalUtils.js\";import{clipTile as p,split as u}from\"../rasterFunctions/pixelUtils.js\";import{estimateStatisticsHistograms as h,computeStatisticsHistograms as d}from\"../rasterFunctions/stretchUtils.js\";let f=class extends m{constructor(){super(...arguments),this.datasetFormat=\"MEMORY\",this.source=null}get url(){return\"\"}fetchRawTile(t,e,s,i={}){if(!this._pixelBlockTiles){const{rasterInfo:r}=this,[o,a]=r.storageInfo.tileInfo.size,{sliceId:l}=i,{pixelBlocks:n}=this.source,m={pixelBlock:null==l?n[0]:n[l],useBilinear:\"thematic\"!==r.dataType,tileSize:{width:o,height:a},level:t,row:e,col:s},c=this.rasterJobHandler?this.rasterJobHandler.clipTile(m,i):p(m);return Promise.resolve(c)}const r=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(r)}async _open(t){const e=this.source,{pixelBlocks:s,attributeTable:i,statistics:r,histograms:l,name:m,nativeExtent:c,transform:p}=e,u=s[0],{width:h,height:d,pixelType:f}=u,g=e.extent??new o({xmin:-.5,ymin:.5,xmax:h-.5,ymax:d-.5,spatialReference:new a({wkid:3857})}),x=e.isPseudoSpatialReference??!e.extent,y={x:g.width/h,y:g.height/d},b={...e.keyProperties};i&&(b.DataType=\"Thematic\");const v=new n({width:h,height:d,pixelType:f,extent:g,nativeExtent:c,attributeTable:i,transform:p,pixelSize:y,spatialReference:g.spatialReference,bandCount:u.pixels.length,keyProperties:b,multidimensionalInfo:e.multidimensionalInfo,statistics:r,isPseudoSpatialReference:x,histograms:l});this.ioConfig.skipMapInfo&&this.updateImageSpaceRasterInfo(v),this.createRemoteDatasetStorageInfo(v,512,512),this._set(\"rasterInfo\",v),this.updateTileInfo(),v.multidimensionalInfo?await this._buildMDimStats(e.pixelBlocks,v.multidimensionalInfo):await this._buildInMemoryRaster(u,{width:512,height:512},t),v.multidimensionalInfo||(this.source=null),this.datasetName=m}async _buildInMemoryRaster(t,i,r){const{rasterInfo:o}=this,a=o.storageInfo.maximumPyramidLevel??0,l=\"thematic\"!==o.dataType,n=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:i,maximumPyramidLevel:a,useBilinear:l},r):Promise.resolve(u(t,i,a,l)),m=null!=o.statistics,c=null!=o.histograms,p=this.ioConfig.skipStatistics||m?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},r):Promise.resolve(h(t)),d=await s([n,p]);if(!d[0].value&&d[1].value)throw new e(\"inmemory-raster:open\",\"failed to build in memory raster\");this._pixelBlockTiles=d[0].value,m||(o.statistics=d[1].value?.statistics),c||(o.histograms=d[1].value?.histograms)}async _buildMDimStats(t,e,s){for(let i=0;i<e.variables.length;i++){const r=e.variables[i];if(r.statistics)continue;const o=r.dimensions.map((t=>new l({variableName:r.name,dimensionName:t.name,values:[t.values?.[0]??t.extent?.[0]],isSlice:!0}))),a=c(o,e),n=null==a?null:t[a];if(null==n)continue;const m=this.rasterJobHandler?await this.rasterJobHandler.computeStatisticsHistograms({pixelBlock:n},s):d(n);r.statistics=m.statistics,r.histograms||(r.histograms=m.histograms)}}};t([i({type:String,json:{write:!0}})],f.prototype,\"datasetFormat\",void 0),t([i()],f.prototype,\"source\",void 0),t([i()],f.prototype,\"url\",null),f=t([r(\"esri.layers.support.rasterDatasets.InMemoryRaster\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"./BaseRaster.js\";import{isXAxis as o,isYAxis as i,parseGridCoverage as n}from\"./covJSONParser.js\";import c from\"./InMemoryRaster.js\";import{computeStatisticsHistograms as l}from\"../rasterFunctions/stretchUtils.js\";import p from\"../../../rest/support/FeatureSet.js\";let m=class extends a{constructor(){super(...arguments),this.datasetFormat=\"CovJSON\"}fetchRawTile(e,t,r,s={}){return this._inMemoryRaster.fetchRawTile(e,t,r,s)}async _open(e){const{extent:t,pixelBlocks:r,multidimensionalInfo:s,attributeTable:a,bandNames:o}=await this._fetchData(e),{statistics:i,histograms:n}=l(r[0]),m=o?.map((e=>({BandName:e}))),h={DataType:a?\"Thematic\":s?\"Scientific\":\"Generic\",BandProperties:m},d=new c({source:{extent:t,pixelBlocks:r,attributeTable:a?p.fromJSON(a):null,multidimensionalInfo:s,statistics:i,histograms:n,keyProperties:h,isPseudoSpatialReference:!1}});await d.open(),this._inMemoryRaster=d;const u=this.source?\"\":this.url.slice(this.url.lastIndexOf(\"/\")+1);this._set(\"datasetName\",u.slice(0,u.indexOf(\".\"))),this._set(\"rasterInfo\",d.rasterInfo)}async _fetchData(e){const r=this.source??(await this.request(this.url,{signal:e?.signal})).data,s=\"imagery-tile-layer:open-coverage-json\";if(\"coverage\"!==r.type?.toLowerCase()||\"grid\"!==r.domain?.domainType?.toLowerCase())throw new t(s,\"Only coverage with Grid domain type is supported\");if(!r.ranges)throw new t(s,\"Missing ranges in the grid coverage data\");if(!r.domain.referencing?.length)throw new t(s,\"Missing domain referencing in the grid coverage data\");const a=Object.values(r.ranges);for(let n=0;n<a.length;n++){const{axisNames:e,shape:r,type:c,values:l}=a[n];if(!(\"ndarray\"===c.toLowerCase()&&l?.length&&e?.length&&r?.length))throw new t(s,\"Only ranges with valid NdArray, axisNames, shape, and inline values are supported\");if(!(o(e[e.length-1])&&i(e[e.length-2])))throw new t(s,\"Only row-major ordered pixel values are supported. X axis must be the last axis.\")}return n(r)}};e([r({type:String,json:{write:!0}})],m.prototype,\"datasetFormat\",void 0),e([r({constructOnly:!0})],m.prototype,\"source\",void 0),m=e([s(\"esri.layers.support.rasterDatasets.CovJSONRaster\")],m);const h=m;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/arrayUtils.js\";import t from\"../../../geometry/SpatialReference.js\";import{isWKT2 as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isSameTagIgnoreNS as r,getElementValue as s,getElements as a,getElement as i,getElementNumericValue as l,getElementNumericValues as o}from\"./xmlUtilities.js\";import f from\"../rasterTransforms/PolynomialTransform.js\";function u(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function c(e){const t=i(e,\"GeodataXform\"),n=d(l(t,\"SpatialReference/WKID\")||s(t,\"SpatialReference/WKT\"));if(\"typens:PolynomialXform\"!==t.getAttribute(\"xsi:type\"))return{spatialReference:n,transform:null};const r=l(t,\"PolynomialOrder\")??1,a=o(t,\"CoeffX/Double\"),c=o(t,\"CoeffY/Double\"),m=o(t,\"InverseCoeffX/Double\"),p=o(t,\"InverseCoeffY/Double\"),S=u(a,c),C=u(m,p);return{spatialReference:n,transform:S&&C&&S.length&&C.length?new f({spatialReference:n,polynomialOrder:r,forwardCoefficients:S,inverseCoefficients:C}):null}}function m(e){const t=l(e,\"NoDataValue\"),n=i(e,\"Histograms/HistItem\"),r=l(n,\"HistMin\"),o=l(n,\"HistMax\"),f=l(n,\"BucketCount\"),u=s(n,\"HistCounts\")?.split(\"|\").map((e=>Number(e)));let c,m,d,p;a(e,\"Metadata/MDI\").forEach((e=>{const t=Number(e.textContent??e.nodeValue);switch(e.getAttribute(\"key\").toUpperCase()){case\"STATISTICS_MINIMUM\":c=t;break;case\"STATISTICS_MAXIMUM\":m=t;break;case\"STATISTICS_MEAN\":d=t;break;case\"STATISTICS_STDDEV\":p=t}}));const S=l(e,\"Metadata/SourceBandIndex\");return{noDataValue:t,histogram:u?.length&&null!=r&&null!=o?{min:r,max:o,size:f||u.length,counts:u}:null,sourceBandIndex:S,statistics:null!=c&&null!=m?{min:c,max:m,avg:d,stddev:p}:null}}function d(e){if(!e)return null;let r=Number(e);if(!isNaN(r)&&0!==r)return new t({wkid:r});if(e=String(e).trim(),n(e))return new t({wkt2:e});const s=e.toUpperCase();if(s.startsWith(\"COMPD_CS\")){if(!s.includes(\"VERTCS\")||!s.includes(\"GEOGCS\")&&!s.startsWith(\"PROJCS\"))return null;const n=s.indexOf(\"VERTCS\"),a=s.indexOf(\"PROJCS\"),i=a>-1?a:s.indexOf(\"GEOGCS\");if(-1===i)return null;const l=e.slice(i,e.lastIndexOf(\"]\",n)+1).trim(),o=e.slice(n,e.lastIndexOf(\"]\")).trim();r=p(l);const f=new t(r?{wkid:r}:{wkt:l}),u=p(o);return u&&(f.vcsWkid=u),f}return s.startsWith(\"GEOGCS\")||s.startsWith(\"PROJCS\")?(r=p(e),new t(0!==r?{wkid:r}:{wkt:e})):null}function p(e){const t=e.replaceAll(\"]\",\"[\").replaceAll('\"',\"\").split(\"[\").map((e=>e.trim())).filter((e=>\"\"!==e)),n=t[t.length-1].split(\",\"),r=n[0]?.toLowerCase();if((\"epsg\"===r||\"esri\"===r)&&e.endsWith('\"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function S(t){if(\"pamdataset\"!==t?.documentElement.tagName?.toLowerCase())return{};const n={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};t.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if(r(e,\"SRS\")){if(!n.spatialReference){const t=s(e);n.spatialReference=d(t)}}else if(r(e,\"Metadata\"))if(\"xml:ESRI\"===e.getAttribute(\"domain\")){const{spatialReference:t,transform:r}=c(e);n.transform=r,n.spatialReference||(n.spatialReference=t)}else{a(e,\"MDI\").forEach((e=>n.metadata[e.getAttribute(\"key\")]=s(e)))}else if(r(e,\"PAMRasterBand\")){const t=m(e);null!=t.sourceBandIndex&&null==n.rasterBands[t.sourceBandIndex]?n.rasterBands[t.sourceBandIndex]=t:n.rasterBands.push(t)}}));const i=n.rasterBands;if(i.length){const t=!!i[0].statistics;n.statistics=t?i.map((e=>e.statistics)).filter(e):null;const r=!!i[0].histogram;n.histograms=r?i.map((e=>e.histogram)).filter(e):null}return n}export{S as parsePAMInfo,d as parseSpatialReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{eachAlways as e,createAbortError as r}from\"../../../core/promiseUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../geometry/Extent.js\";import n from\"../../../geometry/SpatialReference.js\";import l from\"./BaseRaster.js\";import m from\"./InMemoryRaster.js\";import{parsePAMInfo as p}from\"./pamParser.js\";import{getFormat as c}from\"../rasterFormats/RasterCodec.js\";import{estimateStatisticsFromHistograms as f}from\"../rasterFunctions/stretchUtils.js\";import u from\"../rasterTransforms/PolynomialTransform.js\";let h=class extends l{fetchRawTile(t,s,e,r={}){return this._inMemoryRaster.fetchRawTile(t,s,e,r)}async _open(t){const s=await this._fetchData(t);let{spatialReference:e,statistics:r,histograms:a,transform:o}=await this._fetchAuxiliaryData(t);const l=!e;l&&(e=new n({wkid:3857})),a?.length&&null==r&&(r=f(a));const{width:p,height:c}=s;let u=new i({xmin:-.5,ymin:.5-c,xmax:p-.5,ymax:.5,spatialReference:e});const h=o?o.forwardTransform(u):u;let d=!0;if(o){const t=o.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(o=null,u=h)}const w=new m({source:{extent:h,nativeExtent:u,transform:o,pixelBlocks:[s],statistics:r,histograms:a,keyProperties:{DateType:\"Processed\"},isPseudoSpatialReference:l},ioConfig:{sampling:\"closest\",skipStatistics:!0}});this.ioConfig.skipMapInfo&&(w.ioConfig.skipMapInfo=!0),await w.open(),w.source=null,this._set(\"rasterInfo\",w.rasterInfo),this._inMemoryRaster=w}async _fetchData(t){const{data:e}=await this.request(this.url,{responseType:\"array-buffer\",signal:t?.signal}),r=c(e).toUpperCase();if(\"JPG\"!==r&&\"PNG\"!==r&&\"GIF\"!==r&&\"BMP\"!==r)throw new s(\"image-aux-raster:open\",\"the data is not a supported format\");this._set(\"datasetFormat\",r);const a=r.toLowerCase(),o=\"gif\"===a||\"bmp\"===a||!has(\"ios\"),i=await this.decodePixelBlock(e,{format:a,useCanvas:o,hasNoZlibMask:!0});if(null==i)throw new s(\"image-aux-raster:open\",\"the data cannot be decoded\");return i}async _fetchAuxiliaryData(t){const s=t?.signal,{skipExtensions:a=[],skipMapInfo:o}=this.ioConfig,i=o||a.includes(\"aux.xml\")?null:this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:s}),n=this.datasetFormat,l=\"JPG\"===n?\"jgw\":\"PNG\"===n?\"pgw\":\"BMP\"===n?\"bpw\":null,m=l&&a.includes(l)?null:this.request(this.url.slice(0,this.url.lastIndexOf(\".\"))+\".\"+l,{responseType:\"text\",signal:s}),c=await e([i,m]);if(s?.aborted)throw r();const f=p(c[0].value?.data);if(!f.transform){const t=c[1].value?c[1].value.data.split(\"\\n\").slice(0,6).map((t=>Number(t))):null;f.transform=6===t?.length?new u({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return f}};t([a({type:String,json:{write:!0}})],h.prototype,\"datasetFormat\",void 0),h=t([o(\"esri.layers.support.rasterDatasets.ImageAuxRaster\")],h);const d=h;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{assertIsSome as i}from\"../../../core/maybe.js\";import{urlToObject as s}from\"../../../core/urlUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../geometry/Extent.js\";import n from\"../../../geometry/Point.js\";import o from\"../../../geometry/SpatialReference.js\";import c from\"../RasterInfo.js\";import m from\"../RasterStorageInfo.js\";import u from\"../TileInfo.js\";import{TilemapCache as h}from\"../TilemapCache.js\";import f from\"./BaseRaster.js\";import{setValidBoundary as p}from\"../rasterFunctions/pixelUtils.js\";import d from\"../rasterTransforms/GCSShiftTransform.js\";import{patchServiceInfo as y,fetchServiceRasterInfo as x}from\"../../../rest/imageService/fetchRasterInfo.js\";let g=class extends f{constructor(){super(...arguments),this._levelOffset=0,this._tilemapCache=null,this._slices=null,this.datasetFormat=\"RasterTileServer\",this.tileType=null}async fetchRawTile(e,t,i,s={}){const{storageInfo:r,extent:a}=this.rasterInfo,{transposeInfo:l}=r,n=null!=l&&!!s.transposedVariableName;if(this._slices&&!n&&null==s.sliceId)return null;const o=n?0:r.maximumPyramidLevel-e+this._levelOffset,c=`${this.url}/tile/${o}/${t}/${i}`,m=this._slices?n?{variable:s.transposedVariableName}:{sliceId:s.sliceId||0}:null,{data:u}=await this.request(c,{query:m,responseType:\"array-buffer\",signal:s.signal});if(!u)return null;const h=n?l.tileSize:r.tileInfo.size,f=await this.decodePixelBlock(u,{width:h[0],height:h[1],planes:null,pixelType:null,isPoint:\"Elevation\"===this.tileType,returnInterleaved:n,noDataValue:this.rasterInfo.noDataValue});if(null==f)return null;const d=r.blockBoundary[e];if(\"jpg\"!==r.compression||i>d.minCol&&i<d.maxCol&&t>d.minRow&&t<d.maxRow)return f;const{origin:y,blockWidth:x,blockHeight:g}=r,{x:v,y:S}=this.getPyramidPixelSize(e),I=Math.round((a.xmin-y.x)/v)%x,w=Math.round((a.xmax-y.x)/v)%x||x,j=Math.round((y.y-a.ymax)/S)%g,M=Math.round((y.y-a.ymin)/S)%g||g,b=i===d.minCol?I:0,T=t===d.minRow?j:0,_=i===d.maxCol?w:x,O=t===d.maxRow?M:g;return p(f,{x:b,y:T},{width:_-b,height:O-T}),f}getSliceIndex(e){if(!this._slices||null==e||0===e.length)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.find((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName));if(!i)return!0;return(Array.isArray(e.values[0])?`${e.values[0][0]}-${e.values[0][1]}`:e.values[0])!==(Array.isArray(i.values[0])?`${i.values[0][0]}-${i.values[0][1]}`:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+\"/statistics\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>e.data?.statistics)),s=this.request(this.url+\"/histograms\",{query:{variable:e,f:\"json\"},signal:t}).then((e=>e.data?.histograms)),r=await Promise.all([i,s]);return r[0]&&r[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),r[1]?.[0]?.counts?.length||(r[1]=null),{statistics:r[0]||null,histograms:r[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,t.datumTransformation);if(null===i)return null;let s=0;const{maximumPyramidLevel:r}=this.rasterInfo.storageInfo;let a=r-s+this._levelOffset;const l=i.srcLocation;for(;a>=0;){try{if(\"available\"===await this._tilemapCache.fetchAvailability(a,i.row,i.col,t))break}catch{}if(a--,s++,i=this.identifyPixelLocation(l,s,t.datumTransformation),null===i)return null}return-1===a||null==i?null:s}async _open(e){const r=e?.signal,a=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:\"json\"},signal:r});a.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const l=a.data;if(this.sourceJSON=l,!l)throw new t(\"imageserverraster:open\",\"cannot initialize tiled image service, missing service info\");if(!l.tileInfo)throw new t(\"imageserverraster:open\",\"use ImageryLayer to open non-tiled image services\");this._fixScaleInServiceInfo();const n=[\"jpg\",\"jpeg\",\"png\",\"png8\",\"png24\",\"png32\",\"mixed\"];this.tileType=l.cacheType,null==this.tileType&&(n.includes(l.tileInfo.format.toLowerCase())?this.tileType=\"Map\":\"lerc\"===l.tileInfo.format.toLowerCase()?this.tileType=\"Elevation\":this.tileType=\"Raster\"),this.datasetName=l.name?.slice(l.name.indexOf(\"/\")+1)??\"\";const o=await this._fetchRasterInfo({signal:r});if(null==o)throw new t(\"image-server-raster:open\",\"cannot initialize image service\");y(o,l);const c=\"Map\"===this.tileType?v(l.tileInfo,l):u.fromJSON(l.tileInfo);i(c);const[f,p]=this._computeMinMaxLOD(o,c),{extent:d,pixelSize:x}=o,g=.5/o.width*x.x,I=Math.max(x.x,x.y),{lods:w}=c;(\"Map\"!==this.tileType&&0!==l.maxScale||Math.abs(x.x-x.y)>g||!w.some((e=>Math.abs(e.resolution-I)<g)))&&(x.x=x.y=f.resolution,o.width=Math.ceil((d.xmax-d.xmin)/x.x-.1),o.height=Math.ceil((d.ymax-d.ymin)/x.y-.1));const j=f.level-p.level,[M,b]=c.size,T=[],_=[];w.forEach(((e,t)=>{e.level>=p.level&&e.level<=f.level&&T.push({x:e.resolution,y:e.resolution}),t<w.length-1&&_.push(Math.round(10*e.resolution/w[t+1].resolution)/10)})),T.sort(((e,t)=>e.x-t.x));const O=this.computeBlockBoundary(d,M,b,c.origin,T,j),R=T.length>1?T.slice(1):null;let z;l.transposeInfo&&(z={tileSize:[l.transposeInfo.rows,l.transposeInfo.cols],packetSize:o.keyProperties?._yxs.PacketSize??0});const N=_.length<=1||_.length>=3&&_.slice(0,-1).every((e=>e===_[0]))?_[0]??2:Math.round(10/(p.resolution/f.resolution)**(-1/j))/10;if(o.storageInfo=new m({blockWidth:c.size[0],blockHeight:c.size[1],pyramidBlockWidth:c.size[0],pyramidBlockHeight:c.size[1],pyramidResolutions:R,pyramidScalingFactor:N,compression:c.format,origin:c.origin,firstPyramidLevel:1,maximumPyramidLevel:j,tileInfo:c,transposeInfo:z,blockBoundary:O}),S(o),this._set(\"rasterInfo\",o),l.capabilities.toLowerCase().includes(\"tilemap\")){const e={tileInfo:o.storageInfo.tileInfo,parsedUrl:s(this.url),url:this.url,tileServers:[]};this._tilemapCache=new h({layer:e})}}async _fetchRasterInfo(e){const t=this.sourceJSON;if(\"Map\"===this.tileType){const e=t.fullExtent||t.extent,i=Math.ceil((e.xmax-e.xmin)/t.pixelSizeX-.1),s=Math.ceil((e.ymax-e.ymin)/t.pixelSizeY-.1),r=o.fromJSON(t.spatialReference||e.spatialReference),a=new n({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:r});return new c({width:i,height:s,bandCount:3,extent:l.fromJSON(e),spatialReference:r,pixelSize:a,pixelType:\"u8\",statistics:null,keyProperties:{DataType:\"processed\"}})}const{signal:i}=e,s=x(this.url,this.sourceJSON,{signal:i,query:this.ioConfig.customFetchParameters}),r=t.hasMultidimensions?this.request(`${this.url}/slices`,{query:{f:\"json\"},signal:i}).then((e=>e.data?.slices)).catch((()=>null)):null,a=await Promise.all([s,r]);return this._slices=a[1],a[0]}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}_computeMinMaxLOD(e,t){const{pixelSize:i}=e,s=.5/e.width*i.x,{lods:r}=t,a=t.lodAt(Math.max.apply(null,r.map((e=>e.level)))),l=t.lodAt(Math.min.apply(null,r.map((e=>e.level)))),{tileType:n}=this;if(\"Map\"===n)return this._levelOffset=r[0].level,[a,l];if(\"Raster\"===n){return[r.find((e=>e.resolution===i.x))??a,l]}const{minScale:o,maxScale:c}=this.sourceJSON;let m=a;c>0&&(m=r.find((e=>Math.abs(e.scale-c)<s)),m||(m=r.filter((e=>e.scale>c)).sort(((e,t)=>e.scale>t.scale?1:-1))[0]??a));let u=l;return o>0&&(u=r.find((e=>Math.abs(e.scale-o)<s))??l,this._levelOffset=u.level-l.level),[m,u]}};function v(e,t){if(!e)return null;const{minScale:i,maxScale:s,minLOD:r,maxLOD:a}=t;if(null!=r&&null!=a)return u.fromJSON({...e,lods:e.lods.filter((({level:e})=>null!=e&&e>=r&&e<=a))});if(0!==i&&0!==s){const t=e=>Math.round(1e4*e)/1e4,r=i?t(i):1/0,a=s?t(s):-1/0;return u.fromJSON({...e,lods:e.lods.filter((e=>{const i=t(e.scale);return i<=r&&i>=a}))})}return u.fromJSON(e)}function S(e){const{extent:t,spatialReference:i}=e;t.xmin>-1&&t.xmax>181&&i?.wkid&&i.isGeographic&&(e.nativeExtent=e.extent,e.transform=new d,e.extent=e.transform.forwardTransform(t))}e([r({type:String,json:{write:!0}})],g.prototype,\"datasetFormat\",void 0),e([r()],g.prototype,\"tileType\",void 0),g=e([a(\"esri.layers.support.rasterDatasets.ImageServerRaster\")],g);const I=g;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Error.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../geometry/Extent.js\";import a from\"../../../geometry/Point.js\";import i from\"../../../geometry/SpatialReference.js\";import n from\"../PixelBlock.js\";import l from\"../RasterInfo.js\";import f from\"../RasterStorageInfo.js\";import c from\"./BaseRaster.js\";import{parseSpatialReference as p,parsePAMInfo as m}from\"./pamParser.js\";import{getElement as h,getElementValue as u}from\"./xmlUtilities.js\";import{isPlatformLittleEndian as g}from\"../rasterFormats/utils.js\";import{estimateStatisticsFromHistograms as d}from\"../rasterFunctions/stretchUtils.js\";const y=new Map;y.set(\"Int8\",\"s8\"),y.set(\"UInt8\",\"u8\"),y.set(\"Int16\",\"s16\"),y.set(\"UInt16\",\"u16\"),y.set(\"Int32\",\"s32\"),y.set(\"UInt32\",\"u32\"),y.set(\"Float32\",\"f32\"),y.set(\"Float64\",\"f32\"),y.set(\"Double64\",\"f32\");const x=new Map;x.set(\"none\",{blobExtension:\".til\",isOneSegment:!0,decoderFormat:\"bip\"}),x.set(\"lerc\",{blobExtension:\".lrc\",isOneSegment:!1,decoderFormat:\"lerc\"}),x.set(\"deflate\",{blobExtension:\".pzp\",isOneSegment:!0,decoderFormat:\"deflate\"}),x.set(\"jpeg\",{blobExtension:\".pjg\",isOneSegment:!0,decoderFormat:\"jpg\"});let w=class extends c{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat=\"MRF\"}async fetchRawTile(t,e,r,s={}){const{blockWidth:o,blockHeight:a,blockBoundary:i}=this.rasterInfo.storageInfo,l=i[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:f,pixelType:c}=this.rasterInfo,{ranges:p,actualTileWidth:m,actualTileHeight:h}=this._getTileLocation(t,e,r);if(!p||0===p.length)return null;if(0===p[0].from&&0===p[0].to){const t=new Uint8Array(o*a);return new n({width:o,height:a,pixels:void 0,mask:t,validPixelCount:0})}const{bandIds:u}=this.ioConfig,g=this._getBandSegmentCount(),d=[];let y=0;for(y=0;y<g;y++)u&&!u.includes(y)||d.push(this.request(this._files.data,{range:{from:p[y].from,to:p[y].to},responseType:\"array-buffer\",signal:s.signal}));const w=await Promise.all(d),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I),R=[];let A=0;for(y=0;y<g;y++)R.push(A),b.set(new Uint8Array(w[y].data),A),A+=w[y].data.byteLength;const F=x.get(this.rasterInfo.storageInfo.compression).decoderFormat,_=await this.decodePixelBlock(b.buffer,{width:o,height:a,format:F,planes:u?.length||f,offsets:R,pixelType:c});if(null==_)return null;let{noDataValue:S}=this.rasterInfo;if(null!=S&&\"lerc\"!==F&&!_.mask&&(S=S[0],null!=S)){const t=_.width*_.height,e=new Uint8Array(t);if(Math.abs(S)>1e24)for(y=0;y<t;y++)Math.abs((_.pixels[0][y]-S)/S)>1e-6&&(e[y]=1);else for(y=0;y<t;y++)_.pixels[0][y]!==S&&(e[y]=1);_.mask=e}let k=0,M=0;if(m!==o||h!==a){let t=_.mask;if(t)for(y=0;y<a;y++)if(M=y*o,y<h)for(k=m;k<o;k++)t[M+k]=0;else for(k=0;k<o;k++)t[M+k]=0;else for(t=new Uint8Array(o*a),_.mask=t,y=0;y<h;y++)for(M=y*o,k=0;k<m;k++)t[M+k]=1}return _}async _open(t){this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1);const e=t?t.signal:null,r=await this.request(this.url,{responseType:\"xml\",signal:e}),{rasterInfo:s,files:o}=this._parseHeader(r.data),{skipMapInfo:a,skipExtensions:i=[]}=this.ioConfig;if(!i.includes(\"aux.xml\")&&!a){const e=await this._fetchAuxiliaryData(t);null!=e&&(s.statistics=e.statistics??s.statistics,s.histograms=e.histograms,e.histograms&&null==s.statistics&&(s.statistics=d(e.histograms)))}a&&this.updateImageSpaceRasterInfo(s),this._set(\"rasterInfo\",s),this._files=o;const n=await this.request(o.index,{responseType:\"array-buffer\",signal:e});this._storageIndex=I(n.data);const{blockWidth:l,blockHeight:f}=this.rasterInfo.storageInfo,c=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:p,height:m}=this.rasterInfo,h=[],u=this._getBandSegmentCount();let g=0,y=-1;for(;g<this._storageIndex.length;){y++;const t=Math.ceil(p/l/c**y)-1,e=Math.ceil(m/f/c**y)-1;g+=(t+1)*(e+1)*u*4,h.push({maxRow:e,maxCol:t,minCol:0,minRow:0})}this.rasterInfo.storageInfo.blockBoundary=h,y>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=y),this.updateTileInfo()}_getBandSegmentCount(){return x.get(this.rasterInfo.storageInfo.compression).isOneSegment?1:this.rasterInfo.bandCount}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:a}=this.rasterInfo.storageInfo,{width:i,height:n}=this.rasterInfo,l=this._getBandSegmentCount();let f,c,p,m=0,h=0;for(p=0;p<t;p++)h=a**p,f=Math.ceil(i/s/h),c=Math.ceil(n/o/h),m+=f*c;h=a**t,f=Math.ceil(i/s/h),c=Math.ceil(n/o/h),m+=e*f+r,m*=4*l;const u=this._storageIndex.subarray(m,m+4*l);let g=0,d=0;const y=[];for(let x=0;x<l;x++)g=u[4*x]*2**32+u[4*x+1],d=g+u[4*x+2]*2**32+u[4*x+3],y.push({from:g,to:d});return{ranges:y,actualTileWidth:r<f-1?s:Math.ceil(i/h)-s*(f-1),actualTileHeight:e<c-1?o:Math.ceil(n/h)-o*(c-1)}}_parseHeader(t){const r=h(t,\"MRF_META/Raster\");if(!r)throw new e(\"mrf:open\",\"not a valid MRF format\");const s=h(r,\"Size\"),n=parseInt(s.getAttribute(\"x\"),10),c=parseInt(s.getAttribute(\"y\"),10),m=parseInt(s.getAttribute(\"c\"),10),g=(u(r,\"Compression\")||\"none\").toLowerCase();if(!x.has(g))throw new e(\"mrf:open\",\"currently does not support compression \"+g);const d=u(r,\"DataType\")||\"UInt8\",w=y.get(d);if(null==w)throw new e(\"mrf:open\",\"currently does not support pixel type \"+d);const I=h(r,\"PageSize\"),b=parseInt(I.getAttribute(\"x\"),10),R=parseInt(I.getAttribute(\"y\"),10),A=h(r,\"DataValues\");let F,_;A&&(_=A.getAttribute(\"NoData\"),null!=_&&(F=_.trim().split(\" \").map((t=>parseFloat(t)))));if(h(t,\"MRF_META/CachedSource\"))throw new e(\"mrf:open\",\"currently does not support MRF referencing other data files\");const S=h(t,\"MRF_META/GeoTags\"),k=h(S,\"BoundingBox\");let M,j=!1;if(null!=k){const t=parseFloat(k.getAttribute(\"minx\")),e=parseFloat(k.getAttribute(\"miny\")),r=parseFloat(k.getAttribute(\"maxx\")),s=parseFloat(k.getAttribute(\"maxy\")),a=u(S,\"Projection\")||\"\";let n=i.WGS84;if(\"LOCAL_CS[]\"!==a)if(a.toLowerCase().startsWith(\"epsg:\")){const t=Number(a.slice(5));isNaN(t)||0===t||(n=new i({wkid:t}))}else n=p(a)??i.WGS84;else j=!0,n=new i({wkid:3857});M=new o(t,e,r,s),M.spatialReference=n}else j=!0,M=new o({xmin:-.5,ymin:.5-c,xmax:n-.5,ymax:.5,spatialReference:new i({wkid:3857})});const C=h(t,\"MRF_META/Rsets\"),T=parseInt(C?.getAttribute(\"scale\")||\"2\",10),L=M.spatialReference,U=new f({origin:new a({x:M.xmin,y:M.ymax,spatialReference:L}),blockWidth:b,blockHeight:R,pyramidBlockWidth:b,pyramidBlockHeight:R,compression:g,pyramidScalingFactor:T}),B=new a({x:M.width/n,y:M.height/c,spatialReference:L}),E=new l({width:n,height:c,extent:M,isPseudoSpatialReference:j,spatialReference:L,bandCount:m,pixelType:w,pixelSize:B,noDataValue:F,storageInfo:U}),P=u(t,\"datafile\"),W=u(t,\"IndexFile\");return{rasterInfo:E,files:{mrf:this.url,index:W||this.url.replace(\".mrf\",\".idx\"),data:P||this.url.replace(\".mrf\",x.get(g).blobExtension)}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:t?.signal});return m(e)}catch{return null}}};function I(t){if(t.byteLength%16>0)throw new Error(\"invalid array buffer must be multiples of 16\");let e,r,s,o,a,i;if(g){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),a=0;a<t.byteLength/4;a++)for(i=0;i<4;i++)s[4*a+i]=r[4*a+3-i];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}t([r()],w.prototype,\"_files\",void 0),t([r()],w.prototype,\"_storageIndex\",void 0),t([r({type:String,json:{write:!0}})],w.prototype,\"datasetFormat\",void 0),w=t([s(\"esri.layers.support.rasterDatasets.MRFRaster\")],w);const b=w;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{bytesToUTF8 as e}from\"./byteStreamUtils.js\";function t(e){const t=e.fields,r=e.records,n=t.some((e=>\"oid\"===e.name.toLowerCase()))?\"OBJECTID\":\"OID\",i=[{name:n,type:\"esriFieldTypeOID\",alias:\"OID\"}].concat(t.map((e=>({name:e.name,type:\"esriFieldType\"+e.typeName,alias:e.name})))),a=i.map((e=>e.name)),s=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<a.length;l++)t[a[l]]=e[l-1];s.push({attributes:t})})),{displayFieldName:\"\",fields:i,features:s}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const a=n.getUint32(4,!0),s=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:a,headerByteCount:s,recordByteCount:o};let p=32;const d=[],g=[];let h;if(3===i){for(;13!==n.getUint8(p);)h=String.fromCharCode(n.getUint8(p+11)).trim(),d.push({name:e(new Uint8Array(r,p,11)),type:h,typeName:[\"String\",\"Date\",\"Double\",\"Boolean\",\"String\",\"Integer\"][[\"C\",\"D\",\"F\",\"L\",\"M\",\"N\"].indexOf(h)],length:n.getUint8(p+16)}),p+=32;if(p+=1,d.length>0)for(;g.length<a&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,d.forEach((n=>{if(\"C\"===n.type)t.push(e(new Uint8Array(r,p,n.length)).trim());else if(\"N\"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if(\"F\"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if(\"D\"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.slice(0,4),10),parseInt(e.slice(4,6),10)-1,parseInt(e.slice(6,8),10)))}p+=n.length})),g.push(t)):p+=o}}return{header:l,fields:d,records:g,recordSet:t({fields:d,records:g})}}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import r from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../geometry/Extent.js\";import o from\"../../../geometry/Point.js\";import f from\"../../../geometry/SpatialReference.js\";import l from\"../RasterInfo.js\";import u from\"../RasterStorageInfo.js\";import p from\"./BaseRaster.js\";import c from\"./DBFParser.js\";import{parsePAMInfo as h,parseSpatialReference as m}from\"./pamParser.js\";import{parseSignature as d,getPyramidIFDs as y,getMaskIFDs as g,parseIFD as x,parseFieldValues as T,isBSQConfig as I,getImageInfo as w}from\"../rasterFormats/TiffDecoder.js\";import R from\"../rasterFormats/TiffTags.js\";import{estimateStatisticsFromHistograms as b}from\"../rasterFunctions/stretchUtils.js\";import E from\"../rasterTransforms/PolynomialTransform.js\";import S from\"../../../rest/support/FeatureSet.js\";const _=(e,t)=>e.get(t)?.values,F=(e,t)=>e.get(t)?.values?.[0];let v=class extends p{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat=\"TIFF\"}async fetchRawTile(e,t,r,i={}){if(!this._headerInfo?.isSupported||this.isBlockOutside(e,t,r))return null;const s=await this._fetchRawTiffTile(e,t,r,!1,i);if(null!=s&&this._headerInfo.hasMaskBand){const a=await this._fetchRawTiffTile(e,t,r,!0,i);null!=a&&a.pixels[0]instanceof Uint8Array&&(s.mask=a.pixels[0])}return s}async _open(e){const t=e?e.signal:null,{data:s}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:\"array-buffer\",signal:t});if(!s)throw new r(\"tiffraster:open\",\"failed to open url \"+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf(\"/\")+1,this.url.lastIndexOf(\".\"));const{littleEndian:a,firstIFDPos:n,isBigTiff:o}=d(s),f=[];await this._readIFDs(f,s,a,n,0,o?8:4,t);const{imageInfo:l,rasterInfo:u}=k(f),p=y(f),c=g(f);if(this._headerInfo={littleEndian:a,isBigTiff:o,ifds:f,pyramidIFDs:p,maskIFDs:c,...l},this._set(\"rasterInfo\",u),!l.isSupported)throw new r(\"tiffraster:open\",\"this tiff is not supported: \"+l.message);if(!l.tileWidth)throw new r(\"tiffraster:open\",\"none-tiled tiff is not optimized for access, convert to COG and retry.\");u.isPseudoSpatialReference&&i.getLogger(this).warn(\"The spatial reference for this tiff is unsupported. Only EPSG spatial reference codes and Esri WKTs are supported.\");const h=f[0].get(\"PREDICTOR\")?.values?.[0],m=f[0].get(\"SAMPLEFORMAT\")?.values?.[0];if(3===m&&2===h)throw new r(\"tiffraster:open\",\"unsupported horizontal difference encoding. Predictor=3 is supported for floating point data\");const{skipMapInfo:x,skipExtensions:T=[]}=this.ioConfig;if(!T.includes(\"aux.xml\")&&!x){const t=await this._fetchAuxiliaryMetaData(e);null!=t&&P(t,u)}T.includes(\"vat.dbf\")||1!==u.bandCount||\"u8\"!==u.pixelType||x||(u.attributeTable=await this._fetchAuxiliaryTable(e),null!=u.attributeTable&&(u.keyProperties.DataType=\"thematic\")),x&&this.updateImageSpaceRasterInfo(u),this.updateTileInfo()}async _readIFDs(e,t,r,i,s,a=4,n){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:\"array-buffer\",signal:n})).data,s=i+s,i=0}const o=await this._readIFD(t,r,i,s,R.tiffTags,a,n);if(e.push(o.ifd),!o.nextIFD)return null;await this._readIFDs(e,t,r,o.nextIFD-s,s,a,n)}async _readIFD(e,r,i,s,a=R.tiffTags,n=4,o){if(!e)return null;const f=x(e,r,i,s,a,n);if(f.success){const i=[];if(f.ifd?.forEach((e=>{e.values||i.push(e)})),i.length>0){const a=i.map((e=>e.offlineOffsetSize)).filter(t),n=Math.min.apply(null,a.map((e=>e[0])));if(Math.min.apply(null,a.map((e=>e[0]+e[1])))-n<=this._bufferSize){const{data:t}=await this.request(this.url,{range:{from:n,to:n+this._bufferSize},responseType:\"array-buffer\",signal:o});e=t,s=n,i.forEach((t=>T(e,r,t,s)))}}if(f.ifd?.has(\"GEOKEYDIRECTORY\")){const t=f.ifd.get(\"GEOKEYDIRECTORY\"),i=t?.values;if(i&&i.length>4){const a=i[0]+\".\"+i[1]+\".\"+i[2],n=await this._readIFD(e,r,t.valueOffset+6-s,s,R.geoKeys,2,o);t.data=n.ifd,t.data&&t.data.set(\"GEOTIFFVersion\",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}return f}if(f.requiredBufferSize&&f.requiredBufferSize!==e.byteLength){const t=await this.request(this.url,{range:{from:s,to:s+f.requiredBufferSize+4},responseType:\"array-buffer\",signal:o});return(e=t.data).byteLength<f.requiredBufferSize?null:this._readIFD(e,r,0,s,R.tiffTags,4,o)}}async _fetchRawTiffTile(e,t,r,i,s={}){const a=this._getTileLocation(e,t,r,i);if(!a)return null;const{ranges:n,actualTileWidth:o,actualTileHeight:f,ifd:l}=a,u=n.map((e=>this.request(this.url,{range:e,responseType:\"array-buffer\",signal:s.signal}))),p=await Promise.all(u),c=p.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),h=1===p.length?p[0].data:new ArrayBuffer(c),m=[0],d=[0];if(p.length>1){const e=new Uint8Array(h);for(let t=0,r=0;t<p.length;t++){const i=p[t].data;e.set(new Uint8Array(i),r),m[t]=r,r+=i.byteLength,d[t]=i.byteLength}}const{blockWidth:y,blockHeight:g}=this.getBlockWidthHeight(e),x=await this.decodePixelBlock(h,{format:\"tiff\",customOptions:{headerInfo:this._headerInfo,ifd:l,offsets:m,sizes:d},width:y,height:g,planes:null,pixelType:null});if(null==x)return null;let T,I,w;if(o!==y||f!==g){let e=x.mask;if(e)for(T=0;T<g;T++)if(w=T*y,T<f)for(I=o;I<y;I++)e[w+I]=0;else for(I=0;I<y;I++)e[w+I]=0;else for(e=new Uint8Array(y*g),x.mask=e,T=0;T<f;T++)for(w=T*y,I=0;I<o;I++)e[w+I]=1}return x}_getTileLocation(e,t,r,i=!1){const{firstPyramidLevel:s,blockBoundary:a}=this.rasterInfo.storageInfo,n=0===e?0:e-(s-1),{_headerInfo:o}=this;if(!o)return null;const f=i?o.maskIFDs[n]:0===n?o?.ifds[0]:o?.pyramidIFDs[n-1];if(!f)return null;const l=I(f,o),u=_(f,\"TILEOFFSETS\");if(void 0===u)return null;const p=_(f,\"TILEBYTECOUNTS\"),{minRow:c,minCol:h,maxRow:m,maxCol:d}=a[n];if(t>m||r>d||t<c||r<h)return null;const y=F(f,\"IMAGEWIDTH\"),g=F(f,\"IMAGELENGTH\"),x=F(f,\"TILEWIDTH\"),T=F(f,\"TILELENGTH\"),w=[];if(l){const{bandCount:e}=this.rasterInfo;for(let i=0;i<e;i++){const e=i*(m+1)*(d+1)+t*(d+1)+r;w[i]={from:u[e],to:u[e]+p[e]-1}}}else{const e=t*(d+1)+r;w.push({from:u[e],to:u[e]+p[e]-1})}for(let I=0;I<w.length;I++)if(null==w[I].from||!w[I].to||w[I].to<0)return null;return{ranges:w,ifd:f,actualTileWidth:r===d&&y%x||x,actualTileHeight:t===m&&g%T||T}}async _fetchAuxiliaryMetaData(e){try{const{data:t}=await this.request(this.url+\".aux.xml\",{responseType:\"xml\",signal:e?.signal});return h(t)}catch{return null}}async _fetchAuxiliaryTable(e){try{const{data:t}=await this.request(this.url+\".vat.dbf\",{responseType:\"array-buffer\",signal:e?.signal}),r=c.parse(t);return r?.recordSet?S.fromJSON(r.recordSet):null}catch{return null}}};function k(e){const t=w(e),{width:r,height:i,tileWidth:s,tileHeight:a,planes:p,pixelType:c,compression:h,firstPyramidLevel:d,maximumPyramidLevel:y,pyramidBlockWidth:g,pyramidBlockHeight:x,pyramidResolutions:T,tileBoundary:I,affine:R,metadata:b}=t,S=t.extent.spatialReference?.wkt||t.extent.spatialReference?.wkid;let v=m(S),k=!!t.isPseudoGeographic;null==v&&(k=!0,v=new f({wkid:3857}));const P=new n({...t.extent,spatialReference:v}),D=new o(P?{x:P.xmin,y:P.ymax,spatialReference:v}:{x:0,y:0}),O=new u({blockWidth:s,blockHeight:a,pyramidBlockWidth:g,pyramidBlockHeight:x,compression:h,origin:D,firstPyramidLevel:d,maximumPyramidLevel:y,pyramidResolutions:T,blockBoundary:I}),L=new o({x:(P.xmax-P.xmin)/r,y:(P.ymax-P.ymin)/i,spatialReference:v}),B=b?{BandProperties:b.bandProperties,DataType:b.dataType}:{};let j=null;const z=F(e[0],\"PHOTOMETRICINTERPRETATION\"),A=_(e[0],\"COLORMAP\");if(z<=3&&A?.length>3&&A.length%3==0){j=[];const e=A.length/3;for(let t=0;t<e;t++)j.push([t,A[t]>>>8,A[t+e]>>>8,A[t+2*e]>>>8])}const C=new l({width:r,height:i,bandCount:p,pixelType:c,pixelSize:L,storageInfo:O,spatialReference:v,isPseudoSpatialReference:k,keyProperties:B,extent:P,colormap:j,statistics:b?b.statistics:null});if(R?.length&&(C.nativeExtent=new n({xmin:-.5,ymin:.5-i,xmax:r-.5,ymax:.5,spatialReference:v}),C.transform=new E({polynomialOrder:1,forwardCoefficients:[R[2]+R[0]/2,R[5]-R[3]/2,R[0],R[3],-R[1],-R[4]]}),C.extent=C.transform.forwardTransform(C.nativeExtent),C.pixelSize=new o({x:(P.xmax-P.xmin)/r,y:(P.ymax-P.ymin)/i,spatialReference:v}),O.origin.x=-.5,O.origin.y=.5),T){const{x:e,y:t}=C.pixelSize;T.forEach((r=>{r.x*=e,r.y*=t}))}return{imageInfo:t,rasterInfo:C}}function P(e,t){if(t.statistics=e.statistics??t.statistics,t.histograms=e.histograms,e.histograms&&null==t.statistics&&(t.statistics=b(e.histograms)),e.transform&&null==t.transform){t.transform=e.transform,t.nativeExtent=t.extent;const r=t.transform.forwardTransform(t.nativeExtent);t.pixelSize=new o({x:(r.xmax-r.xmin)/t.width,y:(r.ymax-r.ymin)/t.height,spatialReference:t.spatialReference}),t.extent=r}t.isPseudoSpatialReference&&e.spatialReference&&(t.spatialReference=e.spatialReference,t.extent.spatialReference=t.nativeExtent.spatialReference=t.storageInfo.origin.spatialReference=t.spatialReference)}e([s()],v.prototype,\"_files\",void 0),e([s()],v.prototype,\"_headerInfo\",void 0),e([s()],v.prototype,\"_bufferSize\",void 0),e([s({type:String,json:{write:!0}})],v.prototype,\"datasetFormat\",void 0),v=e([a(\"esri.layers.support.rasterDatasets.TIFFRaster\")],v);const D=v;export{D as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import r from\"./CovJSONRaster.js\";import e from\"./ImageAuxRaster.js\";import s from\"./ImageServerRaster.js\";import o from\"./InMemoryRaster.js\";import a from\"./MRFRaster.js\";import c from\"./TIFFRaster.js\";const n=new Map;n.set(\"MRF\",{desc:\"Meta Raster Format\",constructor:a}),n.set(\"TIFF\",{desc:\"GeoTIFF\",constructor:c}),n.set(\"RasterTileServer\",{desc:\"Raster Tile Server\",constructor:s}),n.set(\"JPG\",{desc:\"JPG Raster Format\",constructor:e}),n.set(\"PNG\",{desc:\"PNG Raster Format\",constructor:e}),n.set(\"GIF\",{desc:\"GIF Raster Format\",constructor:e}),n.set(\"BMP\",{desc:\"BMP Raster Format\",constructor:e}),n.set(\"CovJSON\",{desc:\"COVJSON Raster Format\",constructor:r}),n.set(\"MEMORY\",{desc:\"In Memory Raster Format\",constructor:o});class u{static get supportedFormats(){const t=new Set;return n.forEach(((r,e)=>t.add(e))),t}static async open(r){const{url:e,ioConfig:s,source:o,sourceJSON:a}=r;let c=r.datasetFormat??s?.datasetFormat;null==c&&(e.includes(\".\")?c=e.slice(e.lastIndexOf(\".\")+1).toUpperCase():\"coverage\"===o?.type?.toLowerCase()?c=\"CovJSON\":o?.extent&&o.pixelblocks&&(c=\"MEMORY\")),\"OVR\"===c||\"TIF\"===c?c=\"TIFF\":\"JPG\"===c||\"JPEG\"===c||\"JFIF\"===c?c=\"JPG\":\"COVJSON\"===c&&(c=\"CovJSON\"),e.toLowerCase().includes(\"/imageserver\")&&!e.toLowerCase().includes(\"/wcsserver\")&&(c=\"RasterTileServer\");const u={url:e,source:o,sourceJSON:a,datasetFormat:c,ioConfig:s??{bandIds:null,sampling:null}};if(Object.keys(u).forEach((t=>{null==u[t]&&delete u[t]})),c){if(!this.supportedFormats.has(c))throw new t(\"rasterfactory:open\",\"not a supported format \"+c);if(\"CRF\"===c)throw new t(\"rasterfactory:open\",`cannot open raster: ${e}`);const s=new(0,n.get(c).constructor)(u);return await s.open({signal:r.signal}),s}const i=Array.from(n.keys()).filter((t=>\"CovJSON\"!==t&&\"Memory\"!==t));let l=0;const m=()=>{if(c=i[l++],!c)return null;if(\"CRF\"===c)return null;const t=new(0,n.get(c).constructor)(u);return t.open({signal:r.signal}).then((()=>t)).catch((()=>m()))};return m()}static register(t,r,e){n.has(t.toUpperCase())||n.set(t.toUpperCase(),{desc:r,constructor:e})}}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../PopupTemplate.js\";import r from\"../core/Clonable.js\";import s from\"../core/Error.js\";import i from\"../core/Logger.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{debounce as a,throwIfAbortError as n}from\"../core/promiseUtils.js\";import{watch as p}from\"../core/reactiveUtils.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{ensureClass as c}from\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import u from\"./Layer.js\";import{ArcGISService as h}from\"./mixins/ArcGISService.js\";import{BlendLayer as d}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as y}from\"./mixins/CustomParametersMixin.js\";import{ImageryTileMixin as f}from\"./mixins/ImageryTileMixin.js\";import{OperationalLayer as g}from\"./mixins/OperationalLayer.js\";import{PortalLayer as v}from\"./mixins/PortalLayer.js\";import{RasterPresetRendererMixin as R}from\"./mixins/RasterPresetRendererMixin.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as S}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as F}from\"./mixins/TemporalLayer.js\";import{legendEnabled as j}from\"./support/commonProperties.js\";import _ from\"./support/Field.js\";import{getServicePixelValueField as O,getRawServicePixelValueField as P,getRasterAttributeTableFields as b,getMagnitudeField as I,getDirectionField as x,getMultidimensionalFields as T,commonRasterFieldNames as N,setDefaultRasterFieldFormats as L}from\"./support/rasterFieldUtils.js\";import J from\"./support/RasterFunction.js\";import C from\"./support/rasterDatasets/FunctionRaster.js\";import M from\"./support/rasterDatasets/RasterFactory.js\";import{getPrimaryRasterUrls as E,create as A}from\"./support/rasterFunctions/rasterFunctionHelper.js\";import{createPopupTemplate as U}from\"../support/popupUtils.js\";import{SaveOperationType as $}from\"../webdoc/interfaces.js\";let V=class extends(d(S(g(v(R(y(f(F(h(w(o(r.ClonableMixin(u))))))))))))){constructor(...e){super(...e),this._primaryRasters=[],this.legendEnabled=!0,this.isReference=null,this.listMode=\"show\",this.sourceJSON=null,this.version=null,this.type=\"imagery-tile\",this.operationalLayerType=\"ArcGISTiledImageServiceLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null,this.source=void 0,this._debouncedSaveOperations=a((async(e,t,r)=>{const{save:s,saveAs:i}=await import(\"./save/imageryUtils.js\");switch(e){case $.SAVE:return s(this,t);case $.SAVE_AS:return i(this,r,t)}}))}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"]},e).catch(n).then((()=>this._openRaster(t)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){const e=[O(\"Pixel Value\"),P(\"Raw Pixel Value\")],t=this.raster?.rasterInfo??this.serviceRasterInfo,r=t?.attributeTable;if(r){const t=b(r);e.push(...t)}const s=t?.dataType,i=t?.multidimensionalInfo;if((\"vector-magdir\"===s||\"vector-uv\"===s)&&null!=i){const t=i.variables[0].unit?.trim(),r=I(t),s=x();e.push(r,s)}if(i){const t=T(i);e.push(...t)}return e}createPopupTemplate(e){const{rasterFields:t}=this,r=e?.visibleFieldNames??new Set(t.map((({name:e})=>e)).filter((e=>e!==N.rawServicePixelValue))),s=U({fields:t,title:this.title},{...e,visibleFieldNames:r}),{rasterInfo:i}=this.raster;return s?.fieldInfos&&i&&L(s.fieldInfos,i),s}async generateRasterInfo(e,t){if(e=c(J,e),await this.load(),!e||\"none\"===e.functionName?.toLowerCase())return this.serviceRasterInfo;try{const{rasterInfo:r}=await this._openFunctionRaster(e,t);return r}catch(r){if(r instanceof s)throw r;throw new s(\"imagery-tile-layer\",\"the given raster function is not supported\")}}async save(e){return this._debouncedSaveOperations($.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations($.SAVE_AS,t,e)}write(e,t){const r=this._primaryRasters[0]??this.raster;if(this.loaded?\"RasterTileServer\"===r.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType):this.url&&/\\/ImageServer(\\/|\\/?$)/i.test(this.url))return super.write(e,t);if(t?.messages){const e=`${t.origin}/${t.layerContainerType||\"operational-layers\"}`;t.messages.push(new s(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let t=!1;if(this.raster)await this._openFromRaster(this.raster,e),t=\"Function\"===this.raster.datasetFormat,!t&&this.rasterFunction&&(this._primaryRasters=[this.raster],await this._initializeWithFunctionRaster(this.rasterFunction));else{const{url:t,rasterFunction:r,source:i}=this;if(!t&&!i)throw new s(\"imagery-tile-layer:open\",\"missing url or source parameter\");i?await this._openFromSource(i,e):r?await this._openFromUrlWithRasterFunction(t,r,e):await this._openFromUrl(t,e)}const r=this.raster.rasterInfo;if(!r)throw new s(\"imagery-tile-layer:load\",\"cannot load resources on \"+this.url);if(this._set(\"serviceRasterInfo\",t?r:this._primaryRasters[0].rasterInfo),this._set(\"spatialReference\",r.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e=\"Map\"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:\"service\"})}else this.read({tileInfo:this.serviceRasterInfo?.storageInfo.tileInfo.toJSON()},{origin:\"service\"});this.title||(this.title=this.raster.datasetName),\"Map\"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles(p((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}async _openFromRaster(e,t){e.rasterInfo||await e.open({signal:t}),this._primaryRasters=\"Function\"===e.datasetFormat?e.primaryRasters.rasters:[e],this.url||(this.url=this._primaryRasters[0].url)}async _openFromUrlWithRasterFunction(e,t,r){const i=[e];t&&E(t.toJSON(),i);const o=await Promise.all(i.map((e=>M.open({url:e,sourceJSON:this.sourceJSON,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:r})))),a=o.findIndex((e=>null==e));if(a>-1)throw new s(\"imagery-tile-layer:open\",`cannot open raster: ${i[a]}`);return this._primaryRasters=o,this._initializeWithFunctionRaster(t)}async _openFromUrl(e,t){const r=await M.open({url:e,sourceJSON:this.sourceJSON,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:t});if(null==r)throw new s(\"imagery-tile-layer:open\",`cannot open raster: ${e}`);this._primaryRasters=[r],this.raster=r}async _openFromSource(e,t){const r=\"the tiled imagery data source is not supported\",i=\"coverage\"===e.type?.toLowerCase()?\"CovJSON\":e.extent&&e.pixelBlock?\"MEMORY\":null;if(!i)throw new s(\"imagery-tile-layer:open\",r);\"MEMORY\"===i&&(e={...e,pixelBlock:void 0,pixelBlocks:[e.pixelBlock]});const o=await M.open({url:\"\",source:e,datasetFormat:i,ioConfig:{sampling:\"closest\",...this.ioConfig,customFetchParameters:this.customParameters},signal:t});if(null==o)throw new s(\"imagery-tile-layer:open\",r);this._primaryRasters=[o],this.rasterFunction?await this._initializeWithFunctionRaster(this.rasterFunction):this.raster=o}async _openFunctionRaster(e,t){const r={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>r[e.url]=e));const s=A(e.functionDefinition?.toJSON()??e.toJSON(),r),i=new C({rasterFunction:s});return await i.open(t),i}async _initializeWithFunctionRaster(e,t){try{this.raster=await this._openFunctionRaster(e,t)}catch(r){r instanceof s&&i.getLogger(this).error(\"imagery-tile-layer:open\",r.message),i.getLogger(this).warn(\"imagery-tile-layer:open\",\"the raster function cannot be applied and is removed\"),this._set(\"rasterFunction\",null),this.raster=this._primaryRasters[0]}}};e([l({clonable:!1})],V.prototype,\"_primaryRasters\",void 0),e([l(j)],V.prototype,\"legendEnabled\",void 0),e([l({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],V.prototype,\"isReference\",void 0),e([l({type:[\"show\",\"hide\"]})],V.prototype,\"listMode\",void 0),e([l({json:{read:!0,write:!0}})],V.prototype,\"blendMode\",void 0),e([l({type:J,json:{name:\"renderingRule\",write:!0}})],V.prototype,\"rasterFunction\",void 0),e([l()],V.prototype,\"sourceJSON\",void 0),e([l({readOnly:!0,json:{origins:{service:{read:{source:\"currentVersion\"}}}}})],V.prototype,\"version\",void 0),e([l({readOnly:!0,json:{read:!1}})],V.prototype,\"type\",void 0),e([l({type:[\"ArcGISTiledImageServiceLayer\"]})],V.prototype,\"operationalLayerType\",void 0),e([l({type:Boolean,value:!0,json:{read:{source:\"disablePopup\",reader:(e,t)=>!t.disablePopup},write:{target:\"disablePopup\",overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType}},writer(e,t,r){t[r]=!e}}}})],V.prototype,\"popupEnabled\",void 0),e([l({type:t,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\",overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType}}}}})],V.prototype,\"popupTemplate\",void 0),e([l({readOnly:!0})],V.prototype,\"defaultPopupTemplate\",null),e([l({readOnly:!0,type:[_]})],V.prototype,\"fields\",void 0),e([l({readOnly:!0,type:[_]})],V.prototype,\"rasterFields\",null),e([l({constructOnly:!0})],V.prototype,\"source\",void 0),V=e([m(\"esri.layers.ImageryTileLayer\")],V);const B=V;export{B as default};\n"],"names":["i","e","r","o","l","a","u","m","t","n","d","s","f","p","g","b","y","x","j","v","c","h","S","C","w","has","M","T","_","O","I","R","z","N","A","F","k","L","U","B","E","P","W","D","V","$","J"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}