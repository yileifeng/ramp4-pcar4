{"version":3,"file":"RibbonLine.glsl-DUbnmbJ8.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/interfaces.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js","../../node_modules/@arcgis/core/views/3d/support/engineContent/marker.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js","../../node_modules/@arcgis/core/chunks/RibbonLine.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../../node_modules/@arcgis/core/views/3d/support/ElevationProvider.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e,a,t;!function(e){e[e.RasterImage=0]=\"RasterImage\",e[e.Features=1]=\"Features\"}(e||(e={})),function(e){e[e.MapLayer=0]=\"MapLayer\",e[e.ViewLayer=1]=\"ViewLayer\",e[e.Outline=2]=\"Outline\",e[e.SnappingHint=3]=\"SnappingHint\"}(a||(a={})),function(e){e[e.WithRasterImage=0]=\"WithRasterImage\",e[e.WithoutRasterImage=1]=\"WithoutRasterImage\"}(t||(t={}));export{e as DrapeSourceType,t as DrapeTargetType,a as DrapedRenderGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar C;!function(C){C[C.ASYNC=0]=\"ASYNC\",C[C.SYNC=1]=\"SYNC\"}(C||(C={}));export{C as UpdatePolicy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{copy as t,multiply as e,hasIdentityRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as s,create as r}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{m as o,t as a,j as n,i as m,g as h,p as c,c as l}from\"../../../../chunks/vec32.js\";import{fromValues as d,create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as g,c as f}from\"../../../../chunks/sphere.js\";import{maxScale as b}from\"../../support/mathUtils.js\";import{Object3DState as _}from\"./basicInterfaces.js\";import{ContentObject as p}from\"./ContentObject.js\";import{ContentObjectType as v}from\"./ContentObjectType.js\";import{Object3DOccludeeStateID as j,Object3DHighlightStateID as y}from\"./Object3DStateID.js\";import{assert as S}from\"./Util.js\";import{affectsGeometry as x}from\"./VertexAttribute.js\";import{addObject3DStateID as V,removeObject3DStateID as O}from\"../materials/renderers/utils.js\";class A extends p{get geometries(){return this._geometries}get transformation(){return this._transformation??s}set transformation(e){this._transformation=t(this._transformation??r(),e),this._invalidateBoundingVolume(),this._emit(\"transformationChanged\",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(e){this._shaderTransformation=e?t(this._shaderTransformation??r(),e):null,this._invalidateBoundingVolume(),this._emit(\"shaderTransformationChanged\",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}constructor(t={}){super(),this.type=v.Object,this._shaderTransformation=null,this._parentLayer=null,this._visible=!0,this.castShadow=t.castShadow??!0,this.usesVerticalDistanceToGround=t.usesVerticalDistanceToGround??!1,this.graphicUid=t.graphicUid,this.layerUid=t.layerUid,t.isElevationSource&&(this.lastValidElevationBB=new L),this._geometries=t.geometries?Array.from(t.geometries):new Array}dispose(){this._geometries.length=0}get parentLayer(){return this._parentLayer}set parentLayer(t){S(null==this._parentLayer||null==t,\"Object3D can only be added to a single Layer\"),this._parentLayer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t),this._emit(\"geometryAdded\",{object:this,geometry:t}),this._invalidateBoundingVolume()}removeGeometry(t){const e=this._geometries.splice(t,1)[0];e&&(this._emit(\"geometryRemoved\",{object:this,geometry:e}),this._invalidateBoundingVolume())}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,e,i=!1){this._emit(\"attributesChanged\",{object:this,geometry:t,attribute:e,sync:i}),x(e)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit(\"visibilityChanged\",this)}}maskOccludee(){const t=new j;for(const e of this._geometries)e.occludees=V(e.occludees,t);return this._emit(\"occlusionChanged\",this),t}removeOcclude(t){for(const e of this._geometries)e.occludees=O(e.occludees,t);this._emit(\"occlusionChanged\",this)}highlight(t){const e=new y(t);for(const i of this._geometries)i.addHighlight(e);return this._emit(\"highlightChanged\",this),e}removeHighlight(t){for(const e of this._geometries)e.removeHighlight(t);this._emit(\"highlightChanged\",this)}removeStateID(t){t.channel===_.Highlight?this.removeHighlight(t):this.removeOcclude(t)}getCombinedStaticTransformation(t,i){return e(i,this.transformation,t.transformation)}getCombinedShaderTransformation(t,i=r()){return e(i,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new M,this._validateBoundingVolume(this._bvWorldSpace,E.WorldSpace)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new M,this._validateBoundingVolume(this._bvObjectSpace,E.ObjectSpace)),this._bvObjectSpace}_validateBoundingVolume(t,e){const i=e===E.ObjectSpace;for(const s of this._geometries){const e=s.boundingInfo;e&&T(e,t,i?s.transformation:this.getCombinedShaderTransformation(s))}o(g(t.bounds),t.min,t.max,.5);for(const s of this._geometries){const e=s.boundingInfo;if(null==e)continue;const r=i?s.transformation:this.getCombinedShaderTransformation(s),o=b(r);a(W,e.center,r);const m=n(W,g(t.bounds)),h=e.radius*o;t.bounds[3]=Math.max(t.bounds[3],m+h)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this._parentLayer&&t&&this._parentLayer.notifyObjectBBChanged(this,t)}_emit(t,e){this._parentLayer&&this._parentLayer.events.emit(t,e)}get test(){}}class L{constructor(){this.min=d(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.max=d(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}isEmpty(){return this.max[0]<this.min[0]&&this.max[1]<this.min[1]&&this.max[2]<this.min[2]}}class M extends L{constructor(){super(...arguments),this.bounds=f()}}function T(t,e,s){const r=t.bbMin,o=t.bbMax;if(i(s)){const t=m(C,s[12],s[13],s[14]);h(B,r,t),h(U,o,t);for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],U[i])}else if(a(B,r,s),c(r,o))for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],B[i]),e.max[i]=Math.max(e.max[i],B[i]);else{a(U,o,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t]);for(let t=0;t<3;++t){l(B,r),l(U,o),B[t]=o[t],U[t]=r[t],a(B,B,s),a(U,U,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],B[t],U[t]),e.max[t]=Math.max(e.max[t],B[t],U[t])}}}const C=u(),B=u(),U=u(),W=u();var E;!function(t){t[t.WorldSpace=0]=\"WorldSpace\",t[t.ObjectSpace=1]=\"ObjectSpace\"}(E||(E={}));export{A as Object3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e=[\"layerObjectAdded\",\"layerObjectRemoved\",\"layerObjectsAdded\",\"layerObjectsRemoved\",\"transformationChanged\",\"shaderTransformationChanged\",\"visibilityChanged\",\"occlusionChanged\",\"highlightChanged\",\"geometryAdded\",\"geometryRemoved\",\"attributesChanged\"];export{e as DirtyEventNames};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{ContentObject as r}from\"./ContentObject.js\";import{ContentObjectType as o}from\"./ContentObjectType.js\";import{DirtyEventNames as h}from\"./DirtyEvents.js\";import d from\"./Octree.js\";import{UpdatePolicy as c}from\"./UpdatePolicy.js\";class a extends r{constructor(s,r,d=\"\"){super(),this.stage=s,this.apiLayerUid=d,this.type=o.Layer,this.events=new e,this.visible=!0,this.sliceable=!1,this._objectsAdded=new i,this._handles=new t,this._objects=new i,this._pickable=!0,this.visible=r?.visible??!0,this._pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??c.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of h)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}get objects(){return this._objects}set pickable(e){this._pickable=e}get pickable(){return this._pickable&&this.visible}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit(\"layerObjectAdded\",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit(\"layerObjectRemoved\",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit(\"layerObjectsAdded\",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit(\"layerObjectsRemoved\",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==c.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new d((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=s(this._octree),this._objectsAdded.clear()}}function l(e){return null!=e&&e.type===o.Layer}export{a as WebGLLayer,l as isWebGLLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class s{constructor(r,s){this.vec3=r,this.id=s}}function t(t,o,c,e){return new s(r(t,o,c),e)}export{s as LocalOrigin,t as fromValues};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";var s,p;!function(t){t[t.Draped=0]=\"Draped\",t[t.Screen=1]=\"Screen\",t[t.World=2]=\"World\",t[t.COUNT=3]=\"COUNT\"}(s||(s={})),function(t){t[t.Center=0]=\"Center\",t[t.Tip=1]=\"Tip\",t[t.COUNT=2]=\"COUNT\"}(p||(p={}));class a extends i{constructor(){super(...arguments),this.space=s.Screen,this.anchor=p.Center,this.occluder=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0,this.objectAndLayerIdColorInstanced=!1}get draped(){return this.space===s.Draped}}t([r({count:s.COUNT})],a.prototype,\"space\",void 0),t([r({count:p.COUNT})],a.prototype,\"anchor\",void 0),t([r()],a.prototype,\"occluder\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hideOnShortSegments\",void 0),t([r()],a.prototype,\"hasCap\",void 0),t([r()],a.prototype,\"hasTip\",void 0),t([r()],a.prototype,\"vvSize\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"vvOpacity\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0);export{p as LineMarkerAnchor,s as LineMarkerSpace,a as LineMarkerTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VisualVariables as t}from\"../shading/VisualVariables.glsl.js\";import{Float3PassUniform as i}from\"../../shaderModules/Float3PassUniform.js\";import{FloatPassUniform as e}from\"../../shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as a}from\"../../shaderModules/FloatsPassUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{VertexAttribute as v}from\"../../../lib/VertexAttribute.js\";const o=8;function c(c,s){const l=c.vertex;l.uniforms.add(new e(\"intrinsicWidth\",(t=>t.width))),s.vvSize?(c.attributes.add(v.SIZEFEATUREATTRIBUTE,\"float\"),l.uniforms.add(new i(\"vvSizeMinSize\",(t=>t.vvSize.minSize)),new i(\"vvSizeMaxSize\",(t=>t.vvSize.maxSize)),new i(\"vvSizeOffset\",(t=>t.vvSize.offset)),new i(\"vvSizeFactor\",(t=>t.vvSize.factor))),l.code.add(r`float getSize() {\nreturn intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;\n}`)):(c.attributes.add(v.SIZE,\"float\"),l.code.add(r`float getSize(){\nreturn intrinsicWidth * size;\n}`)),s.vvOpacity?(c.attributes.add(v.OPACITYFEATUREATTRIBUTE,\"float\"),l.constants.add(\"vvOpacityNumber\",\"int\",8),l.uniforms.add(new a(\"vvOpacityValues\",(t=>t.vvOpacity.values),o),new a(\"vvOpacityOpacities\",(t=>t.vvOpacity.opacityValues),o)),l.code.add(r`float interpolateOpacity( float value ){\nif (value <= vvOpacityValues[0]) {\nreturn vvOpacityOpacities[0];\n}\nfor (int i = 1; i < vvOpacityNumber; ++i) {\nif (vvOpacityValues[i] >= value) {\nfloat f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);\nreturn mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);\n}\n}\nreturn vvOpacityOpacities[vvOpacityNumber - 1];\n}\nvec4 applyOpacity( vec4 color ){\nreturn vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));\n}`)):l.code.add(r`vec4 applyOpacity( vec4 color ){\nreturn color;\n}`),s.vvColor?(c.include(t,s),c.attributes.add(v.COLORFEATUREATTRIBUTE,\"float\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(interpolateVVColor(colorFeatureAttribute));\n}`)):(c.attributes.add(v.COLOR,\"vec4\"),l.code.add(r`vec4 getColor(){\nreturn applyOpacity(color);\n}`))}export{c as RibbonVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as t}from\"../../../../core/floatRGBA.js\";import{ProceduralTextureRepository as e}from\"./ProceduralTextureRepository.js\";import{PixelFormat as r,TextureWrapMode as o}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";function u(t,u){return new e((e=>{const{encodedData:u,textureSize:c}=a(e),f=new i;return f.internalFormat=r.RGBA,f.width=c,f.height=1,f.wrapMode=o.REPEAT,new n(t,f,u)}),(t=>`${t.pattern.join(\",\")}-r${t.pixelRatio}`),u)}function a(e){const r=c(e),o=1/e.pixelRatio,n=f(e),i=s(e),u=(Math.floor(.5*(i-1))+.5)*o,a=[];let l=1;for(const t of r){for(let e=0;e<t;e++){const r=l*(Math.min(e,t-1-e)+.5)*o/u*.5+.5;a.push(r)}l=-l}const p=Math.round(r[0]/2),m=[...a.slice(p),...a.slice(0,p)],d=new Uint8Array(4*n);let x=0;for(const c of m)t(c,d,x),x+=4;return{encodedData:d,textureSize:n}}function c(t){return t.pattern.map((e=>Math.round(e*t.pixelRatio)))}function f(t){if(null==t)return 1;const e=c(t);return Math.floor(e.reduce(((t,e)=>t+e)))}function s(t){return c(t).reduce(((t,e)=>Math.max(t,e)))}export{s as computeLongestPattern,f as computeTextureSize,u as createStippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{s as r}from\"../../../../chunks/vec42.js\";import{ZEROS as o,create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";function s(t){return null==t?o:4===t.length?t:r(c,t[0],t[1],t[2],1)}const c=t();export{s as ensureColor4};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as e}from\"../util/RgbaFloatEncoding.glsl.js\";import{addCameraPosition as t,addPixelRatio as o}from\"../util/View.glsl.js\";import{Float4PassUniform as r}from\"../../shaderModules/Float4PassUniform.js\";import{FloatBindUniform as i}from\"../../shaderModules/FloatBindUniform.js\";import{FloatPassUniform as l}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as a,If as p}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as s}from\"../../shaderModules/Texture2DPassUniform.js\";import{computeLongestPattern as n,computeTextureSize as d}from\"../../../materials/stippleTextureRepository.js\";import{ensureColor4 as c}from\"../../../shaders/ensureColor4.js\";function f(n,d){if(!d.stippleEnabled)return void n.fragment.code.add(a`float getStippleAlpha() { return 1.0; }\nvoid discardByStippleAlpha(float stippleAlpha, float threshold) {}\nvec4 blendStipple(vec4 color, float stippleAlpha) { return color; }`);const f=!(d.draped&&d.stipplePreferContinuous),{vertex:g,fragment:h}=n;h.include(e),d.draped||(t(g,d),g.uniforms.add(new i(\"worldToScreenPerDistanceRatio\",(({camera:e})=>1/e.perScreenPixelRatio))).code.add(a`float computeWorldToScreenRatio(vec3 segmentCenter) {\nfloat segmentDistanceToCamera = length(segmentCenter - cameraPosition);\nreturn worldToScreenPerDistanceRatio / segmentDistanceToCamera;\n}`)),n.varyings.add(\"vStippleDistance\",\"float\"),n.varyings.add(\"vStippleDistanceLimits\",\"vec2\"),n.varyings.add(\"vStipplePatternStretch\",\"float\"),g.code.add(a`\n    float discretizeWorldToScreenRatio(float worldToScreenRatio) {\n      float step = ${a.float(u)};\n\n      float discreteWorldToScreenRatio = log(worldToScreenRatio);\n      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;\n      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);\n      return discreteWorldToScreenRatio;\n    }\n  `),g.code.add(a`vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {`),g.code.add(a`\n    if (segmentLengthPseudoScreen >= ${f?\"patternLength\":\"1e4\"}) {\n  `),o(g),g.code.add(a`float repetitions = segmentLengthScreen / (patternLength * pixelRatio);\nfloat flooredRepetitions = max(1.0, floor(repetitions + 0.5));\nfloat segmentLengthScreenRounded = flooredRepetitions * patternLength;\nfloat stretch = repetitions / flooredRepetitions;\nvStipplePatternStretch = max(0.75, stretch);\nreturn vec2(0.0, segmentLengthScreenRounded);\n}\nreturn vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);\n}`),h.uniforms.add(new s(\"stipplePatternTexture\",(e=>e.stippleTexture)),new l(\"stipplePatternSDFNormalizer\",(e=>m(e.stipplePattern))),new l(\"stipplePatternPixelSizeInv\",(e=>1/S(e)))),d.stippleOffColorEnabled&&h.uniforms.add(new r(\"stippleOffColor\",(e=>c(e.stippleOffColor)))),h.code.add(a`float getStippleSDF(out bool isClamped) {\nfloat stippleDistanceClamped = clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y);\nvec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;\nisClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;\nfloat u = stippleDistanceClamped * gl_FragCoord.w * stipplePatternPixelSizeInv * vLineSizeInv;\nu = fract(u);\nfloat encodedSDF = rgbaTofloat(texture(stipplePatternTexture, vec2(u, 0.5)));\nfloat sdf = (encodedSDF * 2.0 - 1.0) * stipplePatternSDFNormalizer;\nreturn (sdf - 0.5) * vStipplePatternStretch + 0.5;\n}\nfloat getStippleSDF() {\nbool ignored;\nreturn getStippleSDF(ignored);\n}\nfloat getStippleAlpha() {\nbool isClamped;\nfloat stippleSDF = getStippleSDF(isClamped);\nfloat antiAliasedResult = clamp(stippleSDF * vLineWidth + 0.5, 0.0, 1.0);\nreturn isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;\n}`),h.code.add(a`\n    void discardByStippleAlpha(float stippleAlpha, float threshold) {\n     ${p(!d.stippleOffColorEnabled,\"if (stippleAlpha < threshold) { discard; }\")}\n    }\n\n    vec4 blendStipple(vec4 color, float stippleAlpha) {\n      return ${d.stippleOffColorEnabled?\"mix(color, stippleOffColor, stippleAlpha)\":\"vec4(color.rgb, color.a * stippleAlpha)\"};\n    }\n  `)}function m(e){return e?(Math.floor(.5*(n(e)-1))+.5)/e.pixelRatio:1}function S(e){const t=e.stipplePattern;return t?d(e.stipplePattern)/t.pixelRatio:1}const u=.4;export{f as LineStipple,S as computePixelSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createPrimitive as r}from\"./sdfPrimitives.js\";import{PixelFormat as e,TextureWrapMode as t}from\"../../../webgl/enums.js\";import{Texture as o}from\"../../../webgl/Texture.js\";import{TextureDescriptor as i}from\"../../../webgl/TextureDescriptor.js\";const m=64,s=m/2,n=s/5,p=m/n,w=.25;function f(p,w){const f=r(p,m,s,n),u=new i;return u.internalFormat=e.RGBA,u.width=m,u.height=m,u.wrapMode=t.CLAMP_TO_EDGE,new o(w,u,f)}export{f as createMarkerTexture,p as markerSizePerLineWidth,s as markerSymbolSize,m as markerTextureSize,n as markerThickness,w as markerTipThicknessFactor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{markerSizePerLineWidth as e}from\"../../../../support/engineContent/marker.js\";import{addPixelRatio as r}from\"../util/View.glsl.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as t}from\"../../shaderModules/glsl.js\";import{LineMarkerSpace as a}from\"../../../shaders/LineMarkerTechniqueConfiguration.js\";function n(n,i){const d=n.vertex;r(d),null==d.uniforms.get(\"markerScale\")&&d.constants.add(\"markerScale\",\"float\",1),d.constants.add(\"markerSizePerLineWidth\",\"float\",e).code.add(t`float getLineWidth() {\nreturn max(getSize(), 1.0) * pixelRatio;\n}\nfloat getScreenMarkerSize() {\nreturn markerSizePerLineWidth * markerScale * getLineWidth();\n}`),i.space===a.World&&(d.constants.add(\"maxSegmentLengthFraction\",\"float\",.45),d.uniforms.add(new o(\"perRenderPixelRatio\",(e=>e.camera.perRenderPixelRatio))),d.code.add(t`bool areWorldMarkersHidden(vec4 pos, vec4 other) {\nvec3 midPoint = mix(pos.xyz, other.xyz, 0.5);\nfloat distanceToCamera = length(midPoint);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nfloat worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;\nfloat segmentLen = length(pos.xyz - other.xyz);\nreturn worldMarkerSize > maxSegmentLengthFraction * segmentLen;\n}\nfloat getWorldMarkerSize(vec4 pos) {\nfloat distanceToCamera = length(pos.xyz);\nfloat screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;\nreturn getScreenMarkerSize() * screenToWorldRatio;\n}`))}export{n as MarkerSizing};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as e}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";var s;!function(o){o[o.BUTT=0]=\"BUTT\",o[o.SQUARE=1]=\"SQUARE\",o[o.ROUND=2]=\"ROUND\",o[o.COUNT=3]=\"COUNT\"}(s||(s={}));class p extends r{constructor(){super(...arguments),this.capType=s.BUTT,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.occluder=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.wireframe=!1,this.discardInvisibleFragments=!1,this.objectAndLayerIdColorInstanced=!1,this.textureCoordinateType=t.None,this.emissionSource=e.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.hasSliceTranslatedView=!0}}o([i({count:s.COUNT})],p.prototype,\"capType\",void 0),o([i()],p.prototype,\"hasPolygonOffset\",void 0),o([i()],p.prototype,\"writeDepth\",void 0),o([i()],p.prototype,\"draped\",void 0),o([i()],p.prototype,\"stippleEnabled\",void 0),o([i()],p.prototype,\"stippleOffColorEnabled\",void 0),o([i()],p.prototype,\"stipplePreferContinuous\",void 0),o([i()],p.prototype,\"roundJoins\",void 0),o([i()],p.prototype,\"applyMarkerOffset\",void 0),o([i()],p.prototype,\"vvSize\",void 0),o([i()],p.prototype,\"vvColor\",void 0),o([i()],p.prototype,\"vvOpacity\",void 0),o([i()],p.prototype,\"falloffEnabled\",void 0),o([i()],p.prototype,\"innerColorEnabled\",void 0),o([i()],p.prototype,\"hasOccludees\",void 0),o([i()],p.prototype,\"occluder\",void 0),o([i()],p.prototype,\"terrainDepthTest\",void 0),o([i()],p.prototype,\"cullAboveTerrain\",void 0),o([i()],p.prototype,\"wireframe\",void 0),o([i()],p.prototype,\"discardInvisibleFragments\",void 0),o([i()],p.prototype,\"objectAndLayerIdColorInstanced\",void 0);export{s as CapType,p as RibbonLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{RibbonVertexPosition as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{LineStipple as r,computePixelSize as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{MarkerSizing as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{PiUtils as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as p,addPixelRatio as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as S}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{VertexAttribute as D}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{LineMarkerSpace as x}from\"../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{outputColorHighlightOID as L}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{CapType as w}from\"../views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as y}from\"../webscene/support/AlphaCutoff.js\";const j=1;function C(C){const F=new b,{attributes:P,varyings:R,vertex:z,fragment:A}=F,{applyMarkerOffset:T,draped:V,output:O,capType:W,stippleEnabled:E,falloffEnabled:I,roundJoins:N,wireframe:M,innerColorEnabled:_}=C;F.include(s),F.include(n,C),F.include(r,C),F.include(t,C),F.include(l,C);const k=T&&!V;k&&(z.uniforms.add(new h(\"markerScale\",(e=>e.markerScale))),F.include(a,{space:x.World})),p(z,C),z.uniforms.add(new u(\"inverseProjectionMatrix\",(e=>e.camera.inverseProjectionMatrix)),new m(\"nearFar\",(e=>e.camera.nearFar)),new h(\"miterLimit\",(e=>\"miter\"!==e.join?0:e.miterLimit)),new v(\"viewport\",(e=>e.camera.fullViewport))),z.constants.add(\"LARGE_HALF_FLOAT\",\"float\",65500),P.add(D.POSITION,\"vec3\"),P.add(D.PREVPOSITION,\"vec3\"),P.add(D.NEXTPOSITION,\"vec3\"),P.add(D.SUBDIVISIONFACTOR,\"float\"),P.add(D.UV0,\"vec2\"),R.add(\"vColor\",\"vec4\"),R.add(\"vpos\",\"vec3\"),R.add(\"vLineDistance\",\"float\"),R.add(\"vLineWidth\",\"float\");const B=E;B&&R.add(\"vLineSizeInv\",\"float\");const U=W===w.ROUND,$=E&&U,H=I||$;H&&R.add(\"vLineDistanceNorm\",\"float\"),U&&(R.add(\"vSegmentSDF\",\"float\"),R.add(\"vReverseSegmentSDF\",\"float\")),z.code.add(S`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}\nfloat interp(float ncp, vec4 a, vec4 b) {\nreturn (-ncp - a.z) / (b.z - a.z);\n}\nvec2 rotate(vec2 v, float a) {\nfloat s = sin(a);\nfloat c = cos(a);\nmat2 m = mat2(c, -s, s, c);\nreturn m * v;\n}`),z.code.add(S`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),z.code.add(S`void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {\nfloat vnp = nearFar[0] * 0.99;\nif(pos.z > -nearFar[0]) {\nif (!isStartVertex) {\nif(prev.z < -nearFar[0]) {\npos = mix(prev, pos, interp(vnp, prev, pos));\nnext = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n} else {\nif(next.z < -nearFar[0]) {\npos = mix(pos, next, interp(vnp, pos, next));\nprev = pos;\n} else {\npos = vec4(0.0, 0.0, 0.0, 1.0);\n}\n}\n} else {\nif (prev.z > -nearFar[0]) {\nprev = mix(pos, prev, interp(vnp, pos, prev));\n}\nif (next.z > -nearFar[0]) {\nnext = mix(next, pos, interp(vnp, next, pos));\n}\n}\nforwardViewPosDepth(pos.xyz);\npos = projectAndScale(pos);\nnext = projectAndScale(next);\nprev = projectAndScale(prev);\n}`),c(z),z.constants.add(\"aaWidth\",\"float\",E?0:1).main.add(S`\n    // unpack values from uv0.y\n    bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;\n\n    float coverage = 1.0;\n\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      bool isJoin = abs(uv0.y) < 3.0;\n      float lineSize = getSize();\n\n      if (lineSize < 1.0) {\n        coverage = lineSize; // convert sub-pixel coverage to alpha\n        lineSize = 1.0;\n      }\n      lineSize += aaWidth;\n\n      float lineWidth = lineSize * pixelRatio;\n      vLineWidth = lineWidth;\n      ${B?S`vLineSizeInv = 1.0 / lineSize;`:\"\"}\n\n      vec4 pos  = view * vec4(position, 1.0);\n      vec4 prev = view * vec4(prevPosition, 1.0);\n      vec4 next = view * vec4(nextPosition, 1.0);\n  `),k&&z.main.add(S`vec4 other = isStartVertex ? next : prev;\nbool markersHidden = areWorldMarkersHidden(pos, other);\nif(!isJoin && !markersHidden) {\npos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos) * 0.5;\n}`),z.main.add(S`clipAndTransform(pos, prev, next, isStartVertex);\nvec2 left = (pos.xy - prev.xy);\nvec2 right = (next.xy - pos.xy);\nfloat leftLen = length(left);\nfloat rightLen = length(right);`);(E||U)&&z.main.add(S`\n      float isEndVertex = float(!isStartVertex);\n      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);\n      vec2 segment = mix(right, left, isEndVertex);\n      ${U?S`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:\"\"}\n    `),z.main.add(S`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);\nright = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);\nvec2 capDisplacementDir = vec2(0, 0);\nvec2 joinDisplacementDir = vec2(0, 0);\nfloat displacementLen = lineWidth;\nif (isJoin) {\nbool isOutside = (left.x * right.y - left.y * right.x) * uv0.y > 0.0;\njoinDisplacementDir = normalize(left + right);\njoinDisplacementDir = perpendicular(joinDisplacementDir);\nif (leftLen > 0.001 && rightLen > 0.001) {\nfloat nDotSeg = dot(joinDisplacementDir, left);\ndisplacementLen /= length(nDotSeg * left - joinDisplacementDir);\nif (!isOutside) {\ndisplacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\n}\n}\nif (isOutside && (displacementLen > miterLimit * lineWidth)) {`),N?z.main.add(S`\n        vec2 startDir = leftLen < 0.001 ? right : left;\n        startDir = perpendicular(startDir);\n\n        vec2 endDir = rightLen < 0.001 ? left : right;\n        endDir = perpendicular(endDir);\n\n        float factor = ${E?S`min(1.0, subdivisionFactor * ${S.float((j+2)/(j+1))})`:S`subdivisionFactor`};\n\n        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));\n        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * factor * rotationAngle);\n      `):z.main.add(S`if (leftLen < 0.001) {\njoinDisplacementDir = right;\n}\nelse if (rightLen < 0.001) {\njoinDisplacementDir = left;\n}\nelse {\njoinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;\n}\njoinDisplacementDir = perpendicular(joinDisplacementDir);`);const J=W!==w.BUTT;return z.main.add(S`\n        displacementLen = lineWidth;\n      }\n    } else {\n      // CAP handling ---------------------------------------------------\n      joinDisplacementDir = isStartVertex ? right : left;\n      joinDisplacementDir = perpendicular(joinDisplacementDir);\n\n      ${J?S`capDisplacementDir = isStartVertex ? -right : left;`:\"\"}\n    }\n  `),z.main.add(S`\n    // Displacement (in pixels) caused by join/or cap\n    vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;\n    float lineDistNorm = sign(uv0.y) * pos.w;\n\n    vLineDistance =  lineWidth * lineDistNorm;\n    ${H?S`vLineDistanceNorm = lineDistNorm;`:\"\"}\n\n    pos.xy += dpos;\n  `),U&&z.main.add(S`vec2 segmentDir = normalize(segment);\nvSegmentSDF = (isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir) * pos.w) ;\nvReverseSegmentSDF = (isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir) * pos.w);`),E&&(V?z.uniforms.add(new g(\"worldToScreenRatio\",(e=>1/e.screenToPCSRatio))):z.main.add(S`vec3 segmentCenter = mix((nextPosition + position) * 0.5, (position + prevPosition) * 0.5, isEndVertex);\nfloat worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),z.main.add(S`float segmentLengthScreenDouble = length(segment);\nfloat segmentLengthScreen = segmentLengthScreenDouble * 0.5;\nfloat discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);\nfloat segmentLengthRender = length(mix(nextPosition - position, position - prevPosition, isEndVertex));\nvStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),V?z.main.add(S`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;\nfloat startPseudoScreen = uv0.x * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):z.main.add(S`float startPseudoScreen = mix(uv0.x, uv0.x - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;\nfloat segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),z.uniforms.add(new h(\"stipplePatternPixelSize\",(e=>o(e)))),z.main.add(S`float patternLength = lineSize * stipplePatternPixelSize;\nvStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);\nvStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);\nif (segmentLengthScreenDouble >= 0.001) {\nvec2 stippleDisplacement = pos.xy - segmentOrigin;\nfloat stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);\nvStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);\n}\nvStippleDistanceLimits *= pos.w;\nvStippleDistance *= pos.w;\nvStippleDistanceLimits = isJoin ?\nvStippleDistanceLimits :\nisStartVertex ?\nvec2(-1e34, vStippleDistanceLimits.y) :\nvec2(vStippleDistanceLimits.x, 1e34);`)),z.main.add(S`\n      // Convert back into NDC\n      pos.xy = (pos.xy / viewport.zw) * pos.w;\n\n      vColor = getColor();\n      vColor.a *= coverage;\n\n      ${M&&!V?\"pos.z -= 0.001 * pos.w;\":\"\"}\n\n      // transform final position to camera space for slicing\n      vpos = (inverseProjectionMatrix * pos).xyz;\n      gl_Position = pos;\n      forwardObjectAndLayerIdColor();\n    }`),F.fragment.include(i,C),F.include(L,C),A.include(d),A.main.add(S`discardBySlice(vpos);\ndiscardByTerrainDepth();`),M?A.main.add(S`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(U&&A.main.add(S`\n        float sdf = min(vSegmentSDF, vReverseSegmentSDF);\n        vec2 fragmentPosition = vec2(\n          min(sdf, 0.0),\n          vLineDistance\n        ) * gl_FragCoord.w;\n\n        float fragmentRadius = length(fragmentPosition);\n        float fragmentCapSDF = (fragmentRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n        float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);\n\n        if (capCoverage < ${S.float(y)}) {\n          discard;\n        }\n      `),$?A.main.add(S`\n      vec2 stipplePosition = vec2(\n        min(getStippleSDF() * 2.0 - 1.0, 0.0),\n        vLineDistanceNorm * gl_FragCoord.w\n      );\n      float stippleRadius = length(stipplePosition * vLineWidth);\n      float stippleCapSDF = (stippleRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale\n      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);\n      float stippleAlpha = step(${S.float(y)}, stippleCoverage);\n      `):A.main.add(S`float stippleAlpha = getStippleAlpha();`),O!==e.ObjectAndLayerIdColor&&A.main.add(S`discardByStippleAlpha(stippleAlpha, ${S.float(y)});`),A.uniforms.add(new f(\"intrinsicColor\",(e=>e.color))),A.main.add(S`vec4 color = intrinsicColor * vColor;`),_&&(A.uniforms.add(new f(\"innerColor\",(e=>e.innerColor??e.color)),new h(\"innerWidth\",((e,i)=>e.innerWidth*i.camera.pixelRatio))),A.main.add(S`float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;\nfloat innerAA = clamp(0.5 - distToInner, 0.0, 1.0);\nfloat innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);\ncolor = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`)),A.main.add(S`vec4 finalColor = blendStipple(color, stippleAlpha);`),I&&(A.uniforms.add(new h(\"falloff\",(e=>e.falloff))),A.main.add(S`finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);`)),E||A.main.add(S`float featherStartDistance = max(vLineWidth - 2.0, 0.0);\nfloat value = abs(vLineDistance) * gl_FragCoord.w;\nfloat feather = (value - featherStartDistance) / (vLineWidth - featherStartDistance);\nfinalColor.a *= 1.0 - clamp(feather, 0.0, 1.0);`)),A.main.add(S`outputColorHighlightOID(finalColor, vpos);`),F}const F=Object.freeze(Object.defineProperty({__proto__:null,build:C,ribbonlineNumRoundJoinSubdivisions:j},Symbol.toStringTag,{value:\"Module\"}));export{F as R,C as b,j as r};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isColorOrColorEmission as e,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as s,oitDepthTest as n,depthWrite as o,getDrawBuffers as u,OITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as a,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as d,depthCompareAlways as T,stencilToolTransparentOccluderParams as h,stencilWriteMaskOff as O,stencilToolMaskOccluderParams as m,depthCompareLess as E}from\"../lib/StencilUtils.js\";import{VertexAttribute as P}from\"../lib/VertexAttribute.js\";import{R}from\"../../../../chunks/RibbonLine.glsl.js\";import{PrimitiveType as I,SpecialDrawBuffers as b}from\"../../../webgl/enums.js\";import{makePipelineState as N,defaultColorWrite as S,premultipliedAlphaToPremultipliedAlpha as g}from\"../../../webgl/renderState.js\";class A extends r{constructor(e,t){super(e,t,new i(R,(()=>import(\"./RibbonLine.glsl.js\"))),W),this.primitiveType=t.wireframe?I.LINES:I.TRIANGLE_STRIP}_makePipelineState(i,r){const{oitPass:c,output:T,hasOccludees:h,hasPolygonOffset:O}=i,m=c===l.NONE,E=c===l.FrontFace;return N({blending:e(T)?s(c):null,depthTest:{func:n(c)},depthWrite:o(i),drawBuffers:T===t.Depth?{buffers:[b.NONE]}:u(c,T),colorWrite:S,stencilWrite:h?a:null,stencilTest:h?r?f:d:null,polygonOffset:m||E?O?_:null:p})}initializePipeline(e){if(e.occluder){const i=e.hasPolygonOffset?_:null;this._occluderPipelineTransparent=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:null,stencilTest:h,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineOpaque=N({blending:g,polygonOffset:i,depthTest:T,depthWrite:null,colorWrite:S,stencilWrite:O,stencilTest:m,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null}),this._occluderPipelineMaskWrite=N({blending:null,polygonOffset:i,depthTest:E,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:f,drawBuffers:e.output===t.Depth?{buffers:[b.NONE]}:null})}return this._occludeePipeline=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){if(e)return this._occludeePipeline;switch(t){case c.TRANSPARENT_OCCLUDER_MATERIAL:return this._occluderPipelineTransparent??super.getPipeline();case c.OCCLUDER_MATERIAL:return this._occluderPipelineOpaque??super.getPipeline();default:return this._occluderPipelineMaskWrite??super.getPipeline()}}}const _={factor:0,units:-4},W=new Map([[P.POSITION,0],[P.PREVPOSITION,1],[P.NEXTPOSITION,2],[P.SUBDIVISIONFACTOR,3],[P.UV0,4],[P.COLOR,5],[P.COLORFEATUREATTRIBUTE,5],[P.SIZE,6],[P.SIZEFEATUREATTRIBUTE,6],[P.OPACITYFEATUREATTRIBUTE,7],[P.OBJECTANDLAYERIDCOLOR,8]]);export{A as RibbonLineTechnique,W as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{copy as i}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{i as s,d as a,f as n,h as o,g as l,c,l as p,j as h,t as f}from\"../../../../chunks/vec32.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ONES as u}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{PlaneIndex as T}from\"../../../../geometry/support/frustum.js\";import{create as d,distance2 as _,fromPoints as E,closestLineSegmentPoint as A}from\"../../../../geometry/support/lineSegment.js\";import{create as R,fromPoints as O,signedDistance as g,getNormal as I}from\"../../../../geometry/support/plane.js\";import{newLayout as S}from\"../../support/buffer/InterleavedLayout.js\";import{isHighlightOrOID as v,isColorOrColorEmission as P,isDepth as N,isColorEmissionHighlightOIDOrDepth as L,is2DGeometryOutput as b,ShaderOutput as C}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as U}from\"../effects/geometry/olidUtils.js\";import y from\"../lib/GLMaterial.js\";import{Material as D,RenderOccludedFlag as j}from\"../lib/Material.js\";import{RenderSlot as F}from\"../lib/RenderSlot.js\";import{isTranslationMatrix as w}from\"../lib/Util.js\";import{VertexAttribute as M}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as x}from\"./VisualVariablePassParameters.js\";import{LineMarkerAnchor as B}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{r as J}from\"../../../../chunks/RibbonLine.glsl.js\";import{vertexAttributeLocations as H,RibbonLineTechnique as z}from\"../shaders/RibbonLineTechnique.js\";import{RibbonLineTechniqueConfiguration as G,CapType as k}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as V}from\"../../../../webscene/support/AlphaCutoff.js\";var Z;!function(e){e[e.LEFT_JOIN_START=-2]=\"LEFT_JOIN_START\",e[e.LEFT_JOIN_END=-1]=\"LEFT_JOIN_END\",e[e.LEFT_CAP_START=-4]=\"LEFT_CAP_START\",e[e.LEFT_CAP_END=-5]=\"LEFT_CAP_END\",e[e.RIGHT_JOIN_START=2]=\"RIGHT_JOIN_START\",e[e.RIGHT_JOIN_END=1]=\"RIGHT_JOIN_END\",e[e.RIGHT_CAP_START=4]=\"RIGHT_CAP_START\",e[e.RIGHT_CAP_END=5]=\"RIGHT_CAP_END\"}(Z||(Z={}));class W extends D{constructor(e){super(e,q),this._configuration=new G,this.vertexAttributeLocations=H,this.produces=new Map([[F.OPAQUE_MATERIAL,e=>v(e)||P(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>N(e)],[F.OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.TRANSPARENT_OCCLUDER_MATERIAL,e=>L(e)&&this.parameters.renderOccluded===j.OccludeAndTransparentStencil],[F.TRANSPARENT_MATERIAL,e=>P(e)&&this.parameters.writeDepth&&this.parameters.renderOccluded!==j.OccludeAndTransparentStencil],[F.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>P(e)&&!this.parameters.writeDepth&&this.parameters.renderOccluded!==j.OccludeAndTransparentStencil],[F.DRAPED_MATERIAL,e=>b(e)]])}getConfiguration(e,t){this._configuration.output=e,this._configuration.oitPass=t.oitPass,this._configuration.draped=t.slot===F.DRAPED_MATERIAL;const r=null!=this.parameters.stipplePattern&&e!==C.Highlight;return this._configuration.stippleEnabled=r,this._configuration.stippleOffColorEnabled=r&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=r&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.roundJoins=\"round\"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&$(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.hasOccludees=t.hasOccludees,this._configuration.occluder=this.parameters.renderOccluded===j.OccludeAndTransparentStencil,this._configuration.terrainDepthTest=t.terrainDepthTest&&P(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.wireframe=this.parameters.wireframe,this._configuration}get visible(){return this.parameters.color[3]>=V||null!=this.parameters.stipplePattern&&(this.parameters.stippleOffColor?.[3]??0)>V}intersectDraped({attributes:e,screenToWorldRatio:r},i,s,a,n,o){if(!s.options.selectionMode)return;const l=e.get(M.SIZE);let c=this.parameters.width;if(this.parameters.vvSize){const r=e.get(M.SIZEFEATUREATTRIBUTE).data[0];c*=t(this.parameters.vvSize.offset[0]+r*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else l&&(c*=l.data[0]);const p=a[0],h=a[1],f=(c/2+4)*r;let m=Number.MAX_VALUE,u=0;const T=e.get(M.POSITION).data,d=K(this.parameters,e)?T.length-2:T.length-5;for(let _=0;_<d;_+=3){const e=T[_],r=T[_+1],i=(_+3)%T.length,s=p-e,a=h-r,n=T[i]-e,o=T[i+1]-r,l=t((n*s+o*a)/(n*n+o*o),0,1),c=n*l-s,f=o*l-a,d=c*c+f*f;d<m&&(m=d,u=_/3)}m<f*f&&n(o.dist,o.normal,u,!1)}intersect(r,f,m,u,d,R){if(!m.options.selectionMode||!r.visible)return;if(!w(f))return void e.getLogger(\"esri.views.3d.webgl-engine.materials.RibbonLineMaterial\").error(\"intersection assumes a translation-only matrix\");const S=r.attributes,v=S.get(M.POSITION).data;let P=this.parameters.width;if(this.parameters.vvSize){const e=S.get(M.SIZEFEATUREATTRIBUTE).data[0];P*=t(this.parameters.vvSize.offset[0]+e*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else S.has(M.SIZE)&&(P*=S.get(M.SIZE).data[0]);const N=m.camera,L=se;i(L,m.point);const b=P*N.pixelRatio/2+4*N.pixelRatio;s(ue[0],L[0]-b,L[1]+b,0),s(ue[1],L[0]+b,L[1]+b,0),s(ue[2],L[0]+b,L[1]-b,0),s(ue[3],L[0]-b,L[1]-b,0);for(let e=0;e<4;e++)if(!N.unprojectFromRenderScreen(ue[e],Te[e]))return;O(N.eye,Te[0],Te[1],de),O(N.eye,Te[1],Te[2],_e),O(N.eye,Te[2],Te[3],Ee),O(N.eye,Te[3],Te[0],Ae);let C=Number.MAX_VALUE,U=0;const y=K(this.parameters,S)?v.length-2:v.length-5;for(let e=0;e<y;e+=3){ee[0]=v[e]+f[12],ee[1]=v[e+1]+f[13],ee[2]=v[e+2]+f[14];const t=(e+3)%v.length;if(te[0]=v[t]+f[12],te[1]=v[t+1]+f[13],te[2]=v[t+2]+f[14],g(de,ee)<0&&g(de,te)<0||g(_e,ee)<0&&g(_e,te)<0||g(Ee,ee)<0&&g(Ee,te)<0||g(Ae,ee)<0&&g(Ae,te)<0)continue;if(N.projectToRenderScreen(ee,ae),N.projectToRenderScreen(te,ne),ae[2]<0&&ne[2]>0){a(re,ee,te);const e=N.frustum,t=-g(e[T.NEAR],ee)/n(re,I(e[T.NEAR]));o(re,re,t),l(ee,ee,re),N.projectToRenderScreen(ee,ae)}else if(ae[2]>0&&ne[2]<0){a(re,te,ee);const e=N.frustum,t=-g(e[T.NEAR],te)/n(re,I(e[T.NEAR]));o(re,re,t),l(te,te,re),N.projectToRenderScreen(te,ne)}else if(ae[2]<0&&ne[2]<0)continue;ae[2]=0,ne[2]=0;const r=_(E(ae,ne,ce),L);r<C&&(C=r,c(oe,ee),c(le,te),U=e/3)}const D=m.rayBegin,j=m.rayEnd;if(C<b*b){let e=Number.MAX_VALUE;if(A(E(oe,le,ce),E(D,j,pe),ie)){a(ie,ie,D);const t=p(ie);o(ie,ie,1/t),e=t/h(D,j)}R(e,ie,U,!1)}}get _layout(){const e=S().vec3f(M.POSITION).vec3f(M.PREVPOSITION).vec3f(M.NEXTPOSITION).f32(M.SUBDIVISIONFACTOR).vec2f(M.UV0);return this.parameters.vvSize?e.f32(M.SIZEFEATUREATTRIBUTE):e.f32(M.SIZE),this.parameters.vvColor?e.f32(M.COLORFEATUREATTRIBUTE):e.vec4f(M.COLOR),this.parameters.vvOpacity&&e.f32(M.OPACITYFEATUREATTRIBUTE),U()&&e.vec4u8(M.OBJECTANDLAYERIDCOLOR),e}createBufferWriter(){return new X(this._layout,this.parameters)}createGLMaterial(e){return new Y(e)}validateParameters(e){\"miter\"!==e.join&&(e.miterLimit=0),null!=e.markerParameters&&(e.markerScale=e.markerParameters.width/e.width)}}class Y extends y{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextures.release(this._stipplePattern),this._stipplePattern=null}beginSlot(e){const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters({stippleTexture:this._stippleTextures.swap(t,this._stipplePattern)}),this._stipplePattern=t),this.getTechnique(z,e)}}class q extends x{constructor(){super(...arguments),this.width=0,this.color=u,this.join=\"miter\",this.cap=k.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.wireframe=!1}get transparent(){return this.color[3]<1||null!=this.stipplePattern&&(this.stippleOffColor?.[3]??0)<1}}class X{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t,this.numJoinSubdivisions=0;const r=t.stipplePattern?1:0;switch(this._parameters.join){case\"miter\":case\"bevel\":this.numJoinSubdivisions=r;break;case\"round\":this.numJoinSubdivisions=J+r}}_isClosed(e){return K(this._parameters,e)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.get(M.POSITION).indices.length/2+1,i=this._isClosed(e);let s=i?2:2*t;return s+=((i?r:r-1)-(i?0:1))*(2*this.numJoinSubdivisions+4),s+=2,this._parameters.wireframe&&(s=2+4*(s-2)),s}write(e,t,r,i,a,n){const o=he,l=fe,p=me,m=r.get(M.POSITION),u=m.indices,T=m.data.length/3,d=r.get(M.DISTANCETOSTART)?.data;u&&u.length!==2*(T-1)&&console.warn(\"RibbonLineMaterial does not support indices\");const _=r.get(M.SIZEFEATUREATTRIBUTE)?.data[0]??r.get(M.SIZE)?.data[0]??1;let E=[1,1,1,1],A=0;const R=this.vertexBufferLayout.fields.has(M.COLORFEATUREATTRIBUTE);R?A=r.get(M.COLORFEATUREATTRIBUTE).data[0]:r.has(M.COLOR)&&(E=r.get(M.COLOR).data);const O=this.vertexBufferLayout.fields.has(M.OPACITYFEATUREATTRIBUTE),g=O?r.get(M.OPACITYFEATUREATTRIBUTE).data[0]:0,I=new Float32Array(a.buffer),S=U()?new Uint8Array(a.buffer):null,v=this.vertexBufferLayout.stride/4;let P=n*v;const N=P;let L=0;const b=d?(e,t,r)=>L=d[r]:(e,t,r)=>L+=h(e,t),C=(e,t,r,s,a,n,o)=>{if(I[P++]=t[0],I[P++]=t[1],I[P++]=t[2],I[P++]=e[0],I[P++]=e[1],I[P++]=e[2],I[P++]=r[0],I[P++]=r[1],I[P++]=r[2],I[P++]=s,I[P++]=o,I[P++]=a,I[P++]=_,R)I[P++]=A;else{const e=Math.min(4*n,E.length-4);I[P++]=E[e],I[P++]=E[e+1],I[P++]=E[e+2],I[P++]=E[e+3]}O&&(I[P++]=g),U()&&(i&&(S[4*P]=i[0],S[4*P+1]=i[1],S[4*P+2]=i[2],S[4*P+3]=i[3]),P++)};P+=v,s(l,m.data[0],m.data[1],m.data[2]),e&&f(l,l,e);const y=this._isClosed(r);if(y){const t=m.data.length-3;s(o,m.data[t],m.data[t+1],m.data[t+2]),e&&f(o,o,e)}else s(p,m.data[3],m.data[4],m.data[5]),e&&f(p,p,e),C(l,l,p,1,Z.LEFT_CAP_START,0,0),C(l,l,p,1,Z.RIGHT_CAP_START,0,0),c(o,l),c(l,p);const D=y?0:1,j=y?T:T-1;for(let h=D;h<j;h++){const t=(h+1)%T*3;s(p,m.data[t],m.data[t+1],m.data[t+2]),e&&f(p,p,e),b(o,l,h),C(o,l,p,0,Z.LEFT_JOIN_END,h,L),C(o,l,p,0,Z.RIGHT_JOIN_END,h,L);const r=this.numJoinSubdivisions;for(let e=0;e<r;++e){const t=(e+1)/(r+1);C(o,l,p,t,Z.LEFT_JOIN_END,h,L),C(o,l,p,t,Z.RIGHT_JOIN_END,h,L)}C(o,l,p,1,Z.LEFT_JOIN_START,h,L),C(o,l,p,1,Z.RIGHT_JOIN_START,h,L),c(o,l),c(l,p)}y?(s(p,m.data[3],m.data[4],m.data[5]),e&&f(p,p,e),L=b(o,l,j),C(o,l,p,0,Z.LEFT_JOIN_END,D,L),C(o,l,p,0,Z.RIGHT_JOIN_END,D,L)):(L=b(o,l,j),C(o,l,l,0,Z.LEFT_CAP_END,j,L),C(o,l,l,0,Z.RIGHT_CAP_END,j,L)),Q(I,N+v,I,N,v);P=Q(I,P-v,I,P,v),this._parameters.wireframe&&this._addWireframeVertices(a,N,P,v)}_addWireframeVertices(e,t,r,i){const s=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=Q(a,e,s,n,i);for(let l=0;l<a.length-1;l+=2*i)o(l),o(l+2*i),o(l+1*i),o(l+2*i),o(l+1*i),o(l+3*i)}}function Q(e,t,r,i,s){for(let a=0;a<s;a++)r[i++]=e[t++];return i}function K(e,t){if(!e.isClosed)return!1;return t.get(M.POSITION).indices.length>2}function $(e){return e.anchor===B.Tip&&e.hideOnShortSegments&&\"begin-end\"===e.placement&&e.worldSpace}const ee=m(),te=m(),re=m(),ie=m(),se=m(),ae=r(),ne=r(),oe=m(),le=m(),ce=d(),pe=d(),he=m(),fe=m(),me=m(),ue=[r(),r(),r(),r()],Te=[m(),m(),m(),m()],de=R(),_e=R(),Ee=R(),Ae=R();export{q as Parameters,W as RibbonLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{d as i}from\"../../../../chunks/vec32.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectBuffer as s}from\"../../../../geometry/projection/projectBuffer.js\";import{Attribute as e}from\"./Attribute.js\";import{ContentObjectType as n}from\"./ContentObjectType.js\";import{Geometry as a}from\"./Geometry.js\";import{fromValues as h}from\"./LocalOriginFactory.js\";import{Object3D as m}from\"./Object3D.js\";import{gridLocalOriginFactory as c}from\"./testUtils.js\";import{VertexAttribute as g}from\"./VertexAttribute.js\";import{WebGLLayer as d}from\"./WebGLLayer.js\";import{RibbonLineMaterial as f}from\"../materials/RibbonLineMaterial.js\";class _{constructor(i){this._originSR=i,this._rootOriginId=\"root/\"+t(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=c.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,h(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=h(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),a=`${s}/${e}/${n}`;let m=this._origins.get(a);const g=.5*o;if(i(l,t,r.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]),l[0]<g&&l[1]<g&&l[2]<g){if(m){const r=Math.max(...l);i(l,t,m.vec3),l[0]=Math.abs(l[0]),l[1]=Math.abs(l[1]),l[2]=Math.abs(l[2]);if(Math.max(...l)<r)return m}return r}return m||(m=h(s*o,e*o,n*o,a),this._origins.set(a,m)),m}_drawOriginBox(t,i=o(1,1,0,1)){const r=window.view,h=r._stage,c=i.toString();if(!this._objects.has(c)){this._material=new f({width:2,color:i}),h.add(this._material);const t=new d(h,{pickable:!1}),r=new m({castShadow:!1});h.add(r),t.add(r),this._objects.set(c,r)}const _=this._objects.get(c),l=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],p=l.length,j=new Array(3*p),b=new Array,u=.5*this._gridSize;for(let o=0;o<p;o++)j[3*o]=t[0]+(1&l[o]?u:-u),j[3*o+1]=t[1]+(2&l[o]?u:-u),j[3*o+2]=t[2]+(4&l[o]?u:-u),o>0&&b.push(o-1,o);s(j,this._originSR,0,j,r.renderSpatialReference,0,p);const M=new a(this._material,[[g.POSITION,new e(j,b,3,!0)]],null,n.Line);h.add(M),_.addGeometry(M)}get test(){}}const l=r();export{_ as GridLocalOriginFactory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isDehydratedPoint as e}from\"../../../layers/graphics/dehydratedFeatureUtils.js\";class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return\"array\"in e}function a(r,a,n=\"ground\"){if(e(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}export{r as SamplePosition,a as getElevationAtPoint,t as isSamplePosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{copy as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeTranslationToOriginAndRotation as o}from\"../../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{isDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedFeatureUtils.js\";import{isSamplePosition as a,getElevationAtPoint as s}from\"../../support/ElevationProvider.js\";import{VertexAttribute as l}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(e,t,n,o,i,a,s,l,u,c,f){const m=x[f.mode];let d,g,p=0;if(r(e,t,n,o,u.spatialReference,i,l))return m?.requiresAlignment(f)?(p=m.applyElevationAlignmentBuffer(o,i,a,s,l,u,c,f),d=a,g=s):(d=o,g=i),r(d,u.spatialReference,g,a,c.spatialReference,s,l)?p:void 0}function c(e,t,n,o,r){const l=(i(e)?e.z:a(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case\"on-the-ground\":{const n=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case\"relative-to-ground\":{const i=s(t,e,\"ground\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"relative-to-scene\":{const i=s(t,e,\"scene\")??0,a=n.geometryZWithOffset(l,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case\"absolute-height\":{const i=n.geometryZWithOffset(l,o),a=s(t,e,\"ground\")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function f(e,t,n,o){return c(e,t,n,o,D),D.z}function m(e,t,n){return\"on-the-ground\"===t&&\"on-the-ground\"===n?e.staysOnTheGround:t===n||\"on-the-ground\"!==t&&\"on-the-ground\"!==n?null==t||null==n?e.definedChanged:b.UPDATE:e.onTheGroundChanged}function d(e){return\"relative-to-ground\"===e||\"relative-to-scene\"===e}function g(e){return\"absolute-height\"!==e}function p(t,n,r,i,a){c(n,r,a,i,D),E(t,D.verticalDistanceToGround);const s=D.sampledElevation,l=e(C,t.transformation);O[0]=n.x,O[1]=n.y,O[2]=D.z;return o(n.spatialReference,O,l,i.spatialReference)?t.transformation=l:console.warn(\"Could not locate symbol object properly, it might be misplaced\"),s}function E(e,t){for(let n=0;n<e.geometries.length;++n){const o=e.geometries[n].getMutableAttribute(l.CENTEROFFSETANDDISTANCE);o&&o.data[3]!==t&&(o.data[3]=t,e.geometryVertexAttributeUpdated(e.geometries[n],l.CENTEROFFSETANDDISTANCE))}}function v(e,t,n,o,r,i){let a=0;const s=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],u=e[t+2],c=i.getElevation(r,l,u,s,\"ground\")??0;a+=c,n[o]=r,n[o+1]=l,n[o+2]=c,t+=3,o+=3}return a/r}function h(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"ground\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function A(e,t,n,o,r,i,a,s){let l=0;const u=s.calculateOffsetRenderUnits(a),c=s.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let m=0;m<r;++m){const r=e[t],a=e[t+1],s=e[t+2],m=i.getElevation(r,a,s,f,\"scene\")??0;l+=m,n[o]=r,n[o+1]=a,n[o+2]=null==c?s+m+u:m+u,t+=3,o+=3}return l/r}function T(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function y(e,t,n,o,r,i,a,s){const l=s.calculateOffsetRenderUnits(a),u=s.featureExpressionInfoContext;t*=3,o*=3;for(let c=0;c<r;++c){const r=e[t],i=e[t+1],a=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==u?a+l:l,t+=3,o+=3}return 0}class R{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}var b;!function(e){e[e.NONE=0]=\"NONE\",e[e.UPDATE=1]=\"UPDATE\",e[e.RECREATE=2]=\"RECREATE\"}(b||(b={}));const x={\"absolute-height\":{applyElevationAlignmentBuffer:y,requiresAlignment:T},\"on-the-ground\":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},\"relative-to-ground\":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},\"relative-to-scene\":{applyElevationAlignmentBuffer:A,requiresAlignment:()=>!0}},C=t(),D=new R,O=n();export{R as SampleElevationInfo,b as SymbolUpdateType,p as applyElevationAlignmentForHUD,u as applyPerVertexElevationAlignment,m as elevationModeChangeUpdateType,f as evaluateElevationAlignmentAtPoint,c as evaluateElevationInfoAtPoint,d as needsElevationUpdates2D,g as needsElevationUpdates3D,E as updateVertexPointGroundDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as n}from\"../../../../support/arcadeOnDemand.js\";const c=()=>e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if(\"string\"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if(\"string\"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await n();t(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c().errorOncePerTick(\"Arcade support required but not provided\");const n=t;n._geometry&&(n._geometry=r(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||\"0\"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return\"0\"===e?0:null}export{o as clone,a as createContext,u as createContextWithoutExpressionSupport,s as createFeature,i as execute,d as extractExpressionInfo,l as setContextFeature,f as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnit as t,supportsUnit as e}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as n,clone as s,setContextFeature as i,createFeature as r}from\"./featureExpressionInfoUtils.js\";class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=t(e)}get requiresSampledElevationInfo(){return\"absolute-height\"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=n(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=e(t.unit)?t.unit:\"meters\",this.offsetElevationInfoUnits=t.offset??0}updateFeatureExpressionInfoContext(t,e,n){if(null==t)return void(this._featureExpressionInfoContext=null);const o=t?.arcade;o&&null!=e&&null!=n?(this._featureExpressionInfoContext=s(t),i(this._featureExpressionInfoContext,r(o.modules,e,n))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}export{o as ElevationContext};\n"],"names":["e","a","t","C","p","s","r","v","L","S","i","x","j","V","O","y","_","M","E","T","o","g","b","W","m","n","h","d","f","B","U","c","l","u","a$3","a$2","w","F","P","R","z","A","I","N","k","D","$","H","J","A$1","RibbonLine_glsl","Z","q","G","K","se","ue","Te","de","_e","Ee","Ae","ee","te","ae","ne","re","ce","oe","le","pe","ie","X","Y","he","fe","me","Q"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}