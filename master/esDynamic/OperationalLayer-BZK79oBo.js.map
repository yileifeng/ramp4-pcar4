{"version":3,"file":"OperationalLayer-BZK79oBo.js","sources":["../../node_modules/@arcgis/core/layers/mixins/operationalLayers.js","../../node_modules/@arcgis/core/layers/mixins/OperationalLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},r={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},a={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},S={\"web-scene/operational-layers\":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/basemap\":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-scene/tables\":{ArcGISFeatureLayer:!0},\"web-map/operational-layers\":e,\"web-map/basemap\":r,\"web-map/tables\":a,\"link-chart/operational-layers\":{...e,LinkChartLayer:!0},\"link-chart/basemap\":r,\"link-chart/tables\":a,\"portal-item/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},\"portal-item/tables\":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};export{S as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isBlobProtocol as t}from\"../../core/urlUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as o,Null as s}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{excludeTables as l}from\"../../core/accessorSupport/layerContainerType.js\";import{readLoadable as y}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as m}from\"../../core/accessorSupport/write.js\";import{supportedTypes as c}from\"./operationalLayers.js\";import{listMode as d,opacity as u}from\"../support/commonProperties.js\";import w from\"../../time/TimeExtent.js\";const b=b=>{let g=class extends b{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,r,t){return\"Group Layer\"===t?.portalItem?.type?void 0:e}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&m(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t){e&&(r[t]=e)}writeTitle(e,r){r.title=e??\"Layer\"}readVisibilityTimeExtent(e){return e?w.fromArray(e):null}writeVisibilityTimeExtent(e,t,i,o){e&&\"tables\"!==o.layerContainerType&&(e.isEmpty?o?.messages&&o.messages.push(new r(\"layer:invalid-visibilityTimeExtent\",\"visibilityTimeExtent cannot be empty\")):t[i]=e.toArray())}read(e,r){r&&(r.layer=this),y(this,e,(r=>super.read(e,r)),r)}write(e,i){if(!this.persistenceEnabled&&!i?.ignorePersistenceEnabled)return null;if(i?.origin){const e=`${i.origin}/${i.layerContainerType||\"operational-layers\"}`,t=c[e];let o=!!t?.[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(o=!1),\"ArcGISDimensionLayer\"===this.operationalLayerType&&\"web-map/operational-layers\"===e&&(o=!1),!o)return i.messages?.push(new r(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const o=super.write(e,{...i,layer:this}),s=!!i&&!!i.messages&&!!i.messages.filter((e=>e instanceof r&&\"web-document-write:property-required\"===e.name)).length;return t(o?.url)?(i?.messages?.push(new r(\"layer:invalid-url\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:o}beforeSave(){}};return e([i({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],g.prototype,\"id\",void 0),e([n(\"id\",[\"id\"])],g.prototype,\"readId\",null),e([i(d)],g.prototype,\"listMode\",void 0),e([p(\"listMode\")],g.prototype,\"writeListMode\",null),e([i({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1},\"web-scene\":{name:\"layerType\",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:l,isRequired:!0}}}}})],g.prototype,\"operationalLayerType\",void 0),e([p(\"operationalLayerType\")],g.prototype,\"writeOperationalLayerType\",null),e([i(u)],g.prototype,\"opacity\",void 0),e([i({type:Boolean,readOnly:!1})],g.prototype,\"persistenceEnabled\",void 0),e([i({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],g.prototype,\"title\",void 0),e([p(\"title\"),p([\"web-scene\"],\"title\")],g.prototype,\"writeTitle\",null),e([i({type:w,json:{origins:{\"web-scene\":{write:{layerContainerTypes:l}}}}})],g.prototype,\"visibilityTimeExtent\",void 0),e([n(\"visibilityTimeExtent\")],g.prototype,\"readVisibilityTimeExtent\",null),e([p([\"portal-item\",\"web-map\",\"web-scene\"],\"visibilityTimeExtent\",{visibilityTimeExtent:{type:[[o,s]]}})],g.prototype,\"writeVisibilityTimeExtent\",null),e([i({type:Boolean,json:{name:\"visibility\",write:{layerContainerTypes:l}}})],g.prototype,\"visible\",void 0),g=e([a(\"esri.layers.mixins.OperationalLayer\")],g),g};function g(e){return\"operationalLayerType\"in e}export{b as OperationalLayer,g as isOperationalLayer};\n"],"names":["e","r","a","S","b","g","i","m","w","t","o","y","c","s","n","d","p","l","u"],"mappings":"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","x_google_ignoreList":[0,1]}