{"version":3,"file":"HUDMaterial.glsl-DyCeM3gP.js","sources":["../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DepthRange.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js","../../node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction a(a,n,c){return a.canvas||(a.canvas=document.createElement(\"canvas\")),a.canvas.width=n,a.canvas.height=c,a.canvas}export{a as getTextHelperCanvas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getTextHelperCanvas as t}from\"./TextHelperCanvas.js\";function e(e){const{size:c}=e.definition,a=e.fontString(c);let i=n.get(a);if(!i){const u=t(o,0,0).getContext(\"2d\");e.setFontProperties(u,c);const x=u.measureText(r);i=new s(x.actualBoundingBoxAscent,x.actualBoundingBoxDescent),n.set(a,i)}return i}const n=new Map;class s{get maxHeight(){return this.maxAscent+this.maxDescent}constructor(t,e){this.maxAscent=t,this.maxDescent=e}}const o={canvas:null},r=(()=>{let t=\"\";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();export{e as getFontMetrics};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{debugFlags as e}from\"../../support/debugFlags.js\";import{getFontMetrics as i}from\"./FontMetrics.js\";import{getTextHelperCanvas as n}from\"./TextHelperCanvas.js\";const s=1;class r{constructor(t,e,i,n){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._metricsCached=null,this.key=`${t}--${this._parameters.key}-${this._alignment}`,this._lines=t.replaceAll(\" \",\"Â \").split(/\\r?\\n/)}get displayWidth(){return Math.ceil(this._displayWidth+2*this._horizontalPadding)}get displayHeight(){let t=this._metrics.firstLineAscent;for(let e=0;e<this._lines.length-1;e++)t+=this._lineSpacing;return t+=this._metrics.lastLineDescent,Math.ceil(t+2*this._haloSize+2*this._verticalPadding)}get renderedWidth(){return this._toRoundedRenderUnit(this.displayWidth)}get renderedHeight(){return this._toRoundedRenderUnit(this.displayHeight)}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._metrics.firstLineAscent)}get _firstLineYOffset(){return this._verticalPadding+this._haloSize}get _metrics(){if(null==this._metricsCached){const t=n(a,l,l).getContext(\"2d\"),e=this._parameters.definition.pixelRatio,s=this._fontSize*e;this._parameters.setFontProperties(t,s);let r=2*this._haloSize;const h=this._parameters.definition.font;\"italic\"!==h.style&&\"oblique\"!==h.style&&\"bold\"!==h.weight&&\"bolder\"!==h.weight||(r+=.3*t.measureText(\"A\").width),this._textWidths.length=0,this._lineWidths.length=0;let o=0,d=0,_=0,g=0,m=0;this._lines.forEach(((i,n)=>{const s=t.measureText(i),h=s.width/e,a=h+r;this._textWidths.push(h),this._lineWidths.push(a),o=Math.max(o,a),g=Math.max(g,s.actualBoundingBoxAscent/e),m=Math.max(m,s.actualBoundingBoxDescent/e),0===n&&(d=s.actualBoundingBoxAscent/e),n===this._lines.length-1&&(_=s.actualBoundingBoxDescent/e)}));const f=i(this._parameters),u=Math.max(g,f.maxAscent),p=Math.max(m,f.maxDescent),x=d,R=\"underline\"===this._parameters.definition.font.decoration?p:_,S=o;this._metricsCached=new c(x,R,u,p,S)}return this._metricsCached}get _lineSpacing(){return(this._midLineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _midLineHeight(){return this._metrics.midLineHeight}get _linePadding(){return this._midLineHeight*d}get _midLineAscent(){return this._metrics.maxLineAscent}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _horizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _verticalPadding(){return Math.max(this._hasBackground?this._parameters.definition.background.padding[1]:0,s)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(null==this._renderPixelRatio){const t=this._parameters.definition.pixelRatio;this._renderPixelRatio=Math.min(t,Math.min(this._maxSize[0]/this.displayWidth,this._maxSize[1]/this.displayHeight))}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case o.Left:return this._horizontalPadding;case o.Center:return(this.displayWidth-this._lineWidths[t])/2;case o.Right:return this.displayWidth-this._horizontalPadding-this._lineWidths[t]}}render(t,i,n){t.save();const s=i/=this.renderPixelRatio,r=n/=this.renderPixelRatio,h=this._haloSize,o=this._firstLineYOffset+this._metrics.firstLineAscent;i+=h,n+=o;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._parameters.setFontProperties(t,this._renderedFontSize);for(let e=0;e<this._lines.length;++e){const s=this._lines[e],r=this._getLineXOffset(e);a&&(t.globalCompositeOperation=\"destination-out\",t.fillStyle=\"rgb(0, 0, 0)\",this._fillText(t,s,i+r,n),this._renderLineDecoration(t,i+r,n,this._textWidths[e])),t.globalCompositeOperation=\"source-over\",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,i+this._getLineXOffset(e),n),this._renderLineDecoration(t,i+r,n,this._textWidths[e]),n+=this._lineSpacing}if(e.TEXT_SHOW_BASELINE){t.strokeStyle=_,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i)this._drawLine(t,[s,e],[s+this.displayWidth,e]),e+=this._lineSpacing}if(e.TEXT_SHOW_BORDER&&(t.strokeStyle=_,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation=\"destination-over\",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if(\"none\"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case\"underline\":i+=2*h;break;case\"line-through\":i-=.33*this._midLineAscent}const o=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=t(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,s,r){const h=this.renderedWidth,o=this.renderedHeight,d=n(a,Math.max(h,l),Math.max(o,l)),_=d.getContext(\"2d\");_.clearRect(0,0,h,o),this._parameters.setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const c=this._renderedHaloSize<3;_.lineJoin=c?\"miter\":\"round\",c?this._renderHaloEmulated(_,s,r):this._renderHaloNative(_,s,r);let g=r;for(let n=0;n<this._lines.length;++n){const t=this._getLineXOffset(n);this._renderLineDecoration(_,s+t,g,this._textWidths[n],!0),g+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,h,o,this._toRenderUnit(e),this._toRenderUnit(i),h,o),t.globalAlpha=1}_renderHaloEmulated(t,e,i){for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);for(const[n,o]of h)this._fillText(t,s,e+r+this._haloSize*n,i+this._haloSize*o);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this._lineSpacing}}get _displayWidth(){return this._metrics.displayWidth}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var o;!function(t){t[t.Left=0]=\"Left\",t[t.Center=1]=\"Center\",t[t.Right=2]=\"Right\"}(o||(o={}));const a={canvas:null},d=.2,l=512,_=\"rgb(255, 0, 255, 0.5)\";class c{get firstLineHeight(){return this.firstLineAscent+this.maxLineDescent}get midLineHeight(){return this.maxLineAscent+this.maxLineDescent}get lastLineHeight(){return this.maxLineAscent+this.lastLineDescent}constructor(t,e,i,n,s){this.firstLineAscent=t,this.lastLineDescent=e,this.maxLineAscent=i,this.maxLineDescent=n,this.displayWidth=s}}export{o as TextRenderAlignment,r as TextRenderer,s as textVerticalPaddingPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{copy as t,set as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as r,ZEROS as o}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{TextRenderAlignment as c,textVerticalPaddingPx as n}from\"../../webgl-engine/lib/TextRenderer.js\";const i=Object.freeze({left:0,center:.5,right:1}),s=Object.freeze({\"bottom-left\":r(0,0),bottom:r(.5,0),\"bottom-right\":r(1,0),left:r(0,.5),center:r(.5,.5),right:r(1,.5),\"top-left\":r(0,1),top:r(.5,1),\"top-right\":r(1,1)});function f(t){switch(t){case\"left\":return c.Left;case\"right\":return c.Right;default:return c.Center}}function a(t){switch(t){case\"bottom-left\":case\"left\":case\"top-left\":return\"left\";case\"bottom\":case\"center\":case\"top\":return\"center\";case\"bottom-right\":case\"right\":case\"top-right\":return\"right\"}}function l(t){switch(t){case\"bottom-left\":case\"bottom\":case\"bottom-right\":return\"bottom\";case\"left\":case\"center\":case\"right\":return\"center\";case\"top-left\":case\"top\":case\"top-right\":return\"top\"}}function m(t,e){switch(e){case\"bottom\":return\"left\"===t?\"bottom-left\":\"right\"===t?\"bottom-right\":\"bottom\";case\"center\":return t;case\"top\":return\"left\"===t?\"top-left\":\"right\"===t?\"top-right\":\"top\"}}function u(t){return\"middle\"===t?\"center\":t}function h(r,c){switch(r){case\"top\":return e(c,0,n);case\"bottom\":return e(c,0,-1);default:return t(c,o)}}export{m as anchorFromPlacements,a as horizontalPlacementFromAnchor,i as horizontalPlacementToAnchorX,s as namedAnchorToHUDMaterialAnchorPos,f as textRenderAlignmentFromHorizontalPlacement,u as verticalPlacementFromAlignment,l as verticalPlacementFromAnchor,h as verticalScreenOffsetFromAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ResourceState as s}from\"./basicInterfaces.js\";class t{constructor(s,t){this._material=s,this._repository=t,this._map=new Map}dispose(){this._map.forEach(((s,t)=>{null!=s&&this._repository.release(this._material,t)}))}load(t,e,r){const i=this._material.produces.get(e);if(!i?.(r))return null;this._map.has(r)||this._map.set(r,this._repository.acquire(this._material,e,r));const a=this._map.get(r);if(null!=a){if(a.ensureResources(t)===s.LOADED)return a;this._repository.requestRender()}return null}}export{t as GLMaterials};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass r{constructor(r=1/0,t=-1/0){this.near=r,this.far=t}set(r,t){this.near=r,this.far=t}union(r){null!=r&&(this.near=Math.min(this.near,r.near),this.far=Math.max(this.far,r.far))}within(r){return this.near<=r&&r<=this.far}}r.zero=new r(0,0);export{r as DepthRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../../webgl/BufferObject.js\";import{Usage as t}from\"../../../../webgl/enums.js\";class r{constructor(r,i,s){this._elementSize=i,this._buffer=e.createVertex(r,t.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{reallocShrinkThreshold as t,reallocGrowthFactor as i,reallocShrinkFactor as e}from\"../../../../../core/arrayUtils.js\";import{BufferViewVec3f as s,BufferViewMat3f as a,BufferViewVec4f as r,BufferViewVec4u8 as n}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as h}from\"../Util.js\";import{VertexAttribute as d}from\"../VertexAttribute.js\";import _ from\"./BackedBufferObject.js\";class c{constructor(t){this.modelOriginHi=t.getField(d.INSTANCEMODELORIGINHI,s),this.modelOriginLo=t.getField(d.INSTANCEMODELORIGINLO,s),this.model=t.getField(d.INSTANCEMODEL,a),this.modelNormal=t.getField(d.INSTANCEMODELNORMAL,a),this.featureAttribute=t.getField(d.INSTANCEFEATUREATTRIBUTE,r),this.color=t.getField(d.INSTANCECOLOR,n),this.objectAndLayerIdColor=t.getField(d.INSTANCEOBJECTANDLAYERIDCOLOR,n)}}class f{constructor(t,i){this._rctx=t,this._instanceBufferLayout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){h(!this._updating,\"already updating\"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){h(this._updating,\"not updating\"),this.size<t*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){h(this._updating,\"not updating\"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),h(this._headIndex!==this._tailIndex,\"invalid pointers\"),t}freeTail(){h(this._updating,\"not updating\"),h(this.size>0,\"invalid size\");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*i));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*e));this._resize(t)}_resize(t){if(h(this._updating,\"not updating\"),t===this._capacity)return;const i=new _(this._rctx,this._instanceBufferLayout.stride,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);h(e===t,\"invalid compaction\"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;export{f as RenderInstanceData,c as RenderInstanceDataView,u as initialCapacity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{reallocGrowthFactor as s}from\"../../../../../core/arrayUtils.js\";import i from\"../../../../../core/Evented.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as o,invert as n,transpose as h}from\"../../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{multiply as c}from\"../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as g}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as m}from\"../../../../../chunks/vec32.js\";import{create as f}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{BufferViewMat4f64 as d,BufferViewVec3f64 as p,BufferViewMat3f as _,BufferViewVec2f as T,BufferViewVec4f64 as u,BufferViewVec4f as L,BufferViewVec4u8 as O,BufferViewUint8 as A}from\"../../../../../geometry/support/buffer/BufferView.js\";import{scaleFromMatrix as E}from\"../../../support/mathUtils.js\";import{newLayout as v}from\"../../../support/buffer/InterleavedLayout.js\";import{assert as M}from\"../Util.js\";import{VertexAttribute as I}from\"../VertexAttribute.js\";import{initialCapacity as F}from\"./RenderInstanceData.js\";var S;function C(t){let e=v().mat4f64(I.LOCALTRANSFORM).mat4f64(I.GLOBALTRANSFORM).vec4f64(I.BOUNDINGSPHERE).vec3f64(I.MODELORIGIN).mat3f(I.INSTANCEMODEL).mat3f(I.INSTANCEMODELNORMAL).vec2f(I.MODELSCALEFACTORS);return t.includes(I.FEATUREATTRIBUTE)&&(e=e.vec4f(I.FEATUREATTRIBUTE)),t.includes(I.COLOR)&&(e=e.vec4u8(I.COLOR)),t.includes(I.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(I.OBJECTANDLAYERIDCOLOR)),e=e.u8(I.STATE).u8(I.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]=\"ALLOCATED\",t[t.DEFAULT_ACTIVE=2]=\"DEFAULT_ACTIVE\",t[t.VISIBLE=4]=\"VISIBLE\",t[t.HIGHLIGHT=8]=\"HIGHLIGHT\",t[t.HIGHLIGHT_ACTIVE=16]=\"HIGHLIGHT_ACTIVE\",t[t.REMOVE=32]=\"REMOVE\",t[t.TRANSFORM_CHANGED=64]=\"TRANSFORM_CHANGED\",t[t.ACTIVE=18]=\"ACTIVE\"}(S||(S={}));class R{constructor(t){this.localTransform=t.getField(I.LOCALTRANSFORM,d),this.globalTransform=t.getField(I.GLOBALTRANSFORM,d),this.modelOrigin=t.getField(I.MODELORIGIN,p),this.model=t.getField(I.INSTANCEMODEL,_),this.modelNormal=t.getField(I.INSTANCEMODELNORMAL,_),this.modelScaleFactors=t.getField(I.MODELSCALEFACTORS,T),this.boundingSphere=t.getField(I.BOUNDINGSPHERE,u),this.featureAttribute=t.getField(I.FEATUREATTRIBUTE,L),this.color=t.getField(I.COLOR,O),this.objectAndLayerIdColor=t.getField(I.OBJECTANDLAYERIDCOLOR,O),this.state=t.getField(I.STATE,A),this.lodLevel=t.getField(I.LODLEVEL,A)}}let b=class extends e{constructor(t,e){super(t),this.events=new i,this._capacity=0,this._size=0,this._next=0,this._highlightOptionsMap=new Map,this._highlightOptionsMapPrev=new Map,this._layout=C(e),this._capacity=F,this._buffer=this._layout.createBuffer(this._capacity),this._view=new R(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,S.ALLOCATED),this._size++,this.events.emit(\"instances-changed\"),t}removeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&!!(e.get(t)&S.ALLOCATED),\"invalid instance handle\"),this._getStateFlag(t,S.ACTIVE)?this._setStateFlags(t,S.REMOVE):this.freeInstance(t),this.events.emit(\"instances-changed\")}freeInstance(t){const e=this._view.state;M(t>=0&&t<this._capacity&&!!(e.get(t)&S.ALLOCATED),\"invalid instance handle\"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=y,i=N;e.localTransform.getMat(t,D),e.globalTransform.getMat(t,H);const a=c(H,H,D);m(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),o(i,a),e.model.setMat(t,i);const r=E(y,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),n(i,i),h(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,S.TRANSFORM_CHANGED),this.events.emit(\"instance-transform-changed\",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,N),s.modelOrigin.getVec(t,y),e[0]=N[0],e[1]=N[1],e[2]=N[2],e[3]=0,e[4]=N[3],e[5]=N[4],e[6]=N[5],e[7]=0,e[8]=N[6],e[9]=N[7],e[10]=N[8],e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=Math.max(y[0],y[1],y[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(y,this,t),e*=w(y[0],y[1],y[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,S.VISIBLE,e),this.events.emit(\"instance-visibility-changed\",{index:t}))}getVisible(t){return this._getStateFlag(t,S.VISIBLE)}setHighlight(t,e){const{_highlightOptionsMap:s}=this,i=s.get(t);e?e!==i&&(s.set(t,e),this._setStateFlag(t,S.HIGHLIGHT,!0),this.events.emit(\"instance-highlight-changed\")):i&&(s.delete(t),this._setStateFlag(t,S.HIGHLIGHT,!1),this.events.emit(\"instance-highlight-changed\"))}get highlightOptionsMap(){return this._highlightOptionsMap}getHighlightStateFlag(t){return this._getStateFlag(t,S.HIGHLIGHT)}geHighlightOptionsPrev(t){const e=this._highlightOptionsMapPrev.get(t)??null;return this._highlightOptionsMapPrev.delete(t),e}getHighlightName(t){const e=this.highlightOptionsMap.get(t)??null;return e?this._highlightOptionsMapPrev.set(t,e):this._highlightOptionsMapPrev.delete(t),e}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(F,Math.floor(this._capacity*s)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new R(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&S.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}t([a({constructOnly:!0})],b.prototype,\"shaderTransformation\",void 0),t([a()],b.prototype,\"_size\",void 0),t([a({readOnly:!0})],b.prototype,\"size\",null),b=t([r(\"esri.views.3d.webgl-engine.lib.lodRendering.InstanceData\")],b);const y=f(),N=l(),D=g(),H=g();export{b as InstanceData,R as InstanceDataView,S as StateFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as t}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as e}from\"../../../../../chunks/vec32.js\";import{w as s,c as i,a as r}from\"../../../../../chunks/sphere.js\";import{maxScale as a}from\"../../../support/mathUtils.js\";import h from\"../Octree.js\";class n extends h{constructor(e,r){super((t=>s(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=i(),this._tmpMat4=t()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);e(r(this._tmpSphere),this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*a(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}export{n as InstanceOctree};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}export{e as LevelSelector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glLayout as e}from\"../../../support/buffer/glUtil.js\";import{Default3D as t}from\"../DefaultVertexAttributeLocations.js\";import{GLMaterials as r}from\"../GLMaterials.js\";import{VertexArrayObject as o}from\"../VertexArrayObject.js\";import{BufferObject as s}from\"../../../../webgl/BufferObject.js\";import{Usage as i}from\"../../../../webgl/enums.js\";class a{constructor(a,n){const m=a.renderContext.rctx,u=n.geometry,f=n.geometry.getRenderGeometry(),g=f.material;this._materials=a.materials,g.setParameters({instancedDoublePrecision:!0}),this.geometry=u,this.material=g,this.glMaterials=new r(g,this._materials),this.vertexBufferLayout=f.vertexBufferLayout,this.vbo=s.createVertex(m,i.STATIC_DRAW,f.buffer),this.vao=new o(m,t,new Map([[\"geometry\",e(f.vertexBufferLayout)]]),new Map([[\"geometry\",this.vbo]])),this.vertexCount=f.elementCount}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}get usedMemory(){return 128+this.vbo.usedMemory+this.vao.usedMemory}intersect(e,t,r,o,s,i,a,n){return this.geometry.intersect(e,t,r,o,s,i,a,n)}}export{a as LodComponentData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as o}from\"../../../../../core/arrayUtils.js\";import{isAborted as n,throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{create as e}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{empty as r,expandWithVec3 as i,center as s,diameter as c}from\"../../../../../geometry/support/aaBoundingBox.js\";import{LodComponentData as u}from\"./LodComponentData.js\";class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new u(e,o)),i)))),c=s.map((o=>\"fulfilled\"===o.status?o.value:null)).filter(o);if(n(i)||c.length!==s.length){c.forEach((o=>o.destroy())),t(i);for(const o of s)if(\"rejected\"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=r();this.components.forEach((n=>{null!=n.boundingInfo&&(i(o,n.boundingInfo.bbMin),i(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=e();s(o,n),this._boundingSphere={center:n,radius:.5*c(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}export{a as LodLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../../core/arrayUtils.js\";import r from\"../../../../../core/Error.js\";import{someMap as n,getOrCreateMapValue as s}from\"../../../../../core/MapUtils.js\";import{destroyMaybe as a}from\"../../../../../core/maybe.js\";import{isAborted as i,throwIfAborted as o}from\"../../../../../core/promiseUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as h}from\"../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{d,f as u,t as p}from\"../../../../../chunks/vec32.js\";import{create as m}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as f,fromValues as _}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{debugFlags as g}from\"../../../support/debugFlags.js\";import{glLayout as I}from\"../../../support/buffer/glUtil.js\";import{newLayout as y}from\"../../../support/buffer/InterleavedLayout.js\";import v from\"../../../webgl/RenderCamera.js\";import{ShaderOutput as C}from\"../../core/shaderLibrary/ShaderOutput.js\";import{AsyncRenderPlugin as E}from\"../../effects/RenderPlugin.js\";import{Default3D as R}from\"../DefaultVertexAttributeLocations.js\";import{DepthRange as D}from\"../DepthRange.js\";import{IntersectorType as A}from\"../IntersectorInterfaces.js\";import b from\"../Octree.js\";import{RenderSlot as T}from\"../RenderSlot.js\";import{assert as L}from\"../Util.js\";import{VertexAttribute as S}from\"../VertexAttribute.js\";import{InstanceData as O,StateFlags as j}from\"./InstanceData.js\";import{InstanceOctree as M}from\"./InstanceOctree.js\";import{LevelSelector as x}from\"./LevelSelector.js\";import{LodLevel as N}from\"./LodLevel.js\";import{RenderInstanceData as w}from\"./RenderInstanceData.js\";import{colorMixModes as H}from\"../../materials/internal/MaterialUtil.js\";import{encodeDoubleVec3 as U}from\"../../materials/renderers/utils.js\";import{DefaultMaterialDrawParameters as F}from\"../../shaders/DefaultMaterialTechnique.js\";import{defaultHighlightName as V}from\"../../../../support/HighlightDefaults.js\";import{TaskPriority as B,noBudget as q}from\"../../../../support/Scheduler.js\";import{bindVertexBufferLayout as G,unbindVertexBufferLayout as P}from\"../../../../webgl/Util.js\";const z=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new x(t,r)};let k=class extends E{constructor(e,t){super(e),this.type=A.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=new Array,this._highlightRenderInstanceDataMap=new Map,this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new v,this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[T.OPAQUE_MATERIAL,e=>this._produces(e)],[T.TRANSPARENT_MATERIAL,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new O({shaderTransformation:e.shaderTransformation},e.optionalFields),this.addHandles(t.registerTask(B.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=Y(this.optionalFields),this._glInstanceBufferLayout=I(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on(\"instances-changed\",(()=>this._requestUpdateCycle())),this._instanceData.events.on(\"instance-transform-changed\",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on(\"instance-visibility-changed\",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on(\"instance-highlight-changed\",(()=>this._requestUpdateCycle(!0)))])}get _allRenderInstanceData(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}get _allRenderInstanceDataExceptHighlightShadow(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)t[0]!==V&&e.push(t[1]);return e}hasHighlightOptions(e){return this._highlightRenderInstanceDataMap.has(e)}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this.metadata.layerUid}get instanceData(){return this._instanceData}get hasEmissions(){return this._levels.some((e=>e.components.some((e=>e.material.hasEmissions))))}get usedMemory(){return this._allRenderInstanceData.reduce(((e,t)=>t.reduce(((e,t)=>e+t.usedMemory),e)),this._levels.reduce(((e,t)=>e+t.components.reduce(((e,t)=>e+t.usedMemory),0)),0))}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const n=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,s=e.triangleCount;t.push({renderedInstances:n,renderedTriangles:n*s,trianglesPerInstance:s})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}_createRenderInstanceDataArray(e=[]){const{rctx:t}=this._context.renderContext;return this.symbol.levels.map((r=>{e.push(new w(t,this._instanceBufferLayout))})),e}async initializeRenderContext(e,r){this._context=e,this._createRenderInstanceDataArray(this._defaultRenderInstanceData);const n=await Promise.allSettled(this.symbol.levels.map((t=>N.create(e,t,r)))),s=n.map((e=>\"fulfilled\"===e.status?e.value:null)).filter(t);if(i(r)||s.length!==n.length){s.forEach((e=>e.destroy())),o(r);for(const e of n)if(\"rejected\"===e.status)throw e.reason}this._levels=s,this._levelSelector=z(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData.forEach((e=>e.destroy())),this._highlightRenderInstanceDataMap.forEach((e=>e.forEach((e=>e.destroy()))))}_hasTransparentLevels(){return this._levels.some((e=>e.components.some((e=>{const t=e.material.produces.get(T.TRANSPARENT_MATERIAL);return t?.(C.Color)}))))}hasHighlights(){return n(this._highlightRenderInstanceDataMap,(e=>e.some((e=>e.size>0))))}_produces(e){return(e!==C.Highlight||this.hasHighlights())&&(e!==C.ShadowHighlight||this.hasHighlightOptions(V))}prepareRender(e){if(!g.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bind.contentCamera.equals(this._camera);this._camera.copyFrom(e.bind.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(q),this._needFullCycle=!1)}}acquireTechniques(e){if(!this.baseMaterial.visible||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e);if(!t)return null;const r=new Array,n=this.levels;return t.forEach((t=>n.forEach((({components:n},s)=>n.forEach((n=>r.push(this._beginComponent(e,t[s],n)))))))),r}render(e,t){const r=this._getInstanceDatas(e);if(!r||null==t)return;let n=0;e.rctx.bindVAO();const s=this.levels;r.forEach((r=>s.forEach((({components:s},a)=>s.forEach((s=>this._renderComponent(e,t[n++],r[a],s,a)))))))}_getInstanceDatas(e){const{output:t,bind:r}=e,n=t===C.Highlight,s=t===C.ShadowHighlight,a=!n&&!s,i=t!==C.ShadowExcludeHighlight;if(a)return i?this._allRenderInstanceData:this._allRenderInstanceDataExceptHighlightShadow;if(i){if(n){const e=r.highlight?.name;if(!e)return null;const t=this._highlightRenderInstanceDataMap.get(e);return t?[t]:null}const e=this._highlightRenderInstanceDataMap.get(V);return s?e?[e]:null:Array.from(this._highlightRenderInstanceDataMap.values())}return null}intersect(e,t,r,n){if(!this.baseMaterial.visible||null==this._octree)return;const s=m();d(s,n,r);const a=s=>{this._instanceData.getCombinedModelTransform(s,Z),e.transform.set(Z),p($,r,e.transform.inverse),p(X,n,e.transform.inverse);const a=this._instanceData.getState(s),i=this._instanceData.getLodLevel(s),o=this._levels.length;L(!!(a&j.ACTIVE),\"invalid instance state\"),L(i>=0&&i<o,\"invaid lod level\"),this._levels[i].intersect(e,t,$,X,s,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(a):this._octree.forEachAlongRay(r,s,a)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new M(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&j.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=a(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return new D;const t=e.viewForward,r=this._octree.findClosest(t,b.DepthOrder.FRONT_TO_BACK,e.frustum),n=this._octree.findClosest(t,b.DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==n)return new D;const s=e.eye,a=this._instanceData.view;a.boundingSphere.getVec(r,Q),d(Q,Q,s);const i=u(Q,t)-Q[3];a.boundingSphere.getVec(n,Q),d(Q,Q,s);const o=u(Q,t)+Q[3];return new D(i,o)}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:n,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const i=this._instanceData,o=i.view;let l=i.size;const c=i.capacity;let h=this._instanceIndex;const d=Math.ceil(c/500);for(let u=0;u<l&&!e.done;++u){h===this._cycleStartIndex&&this._startUpdateCycle();const u=o.state.get(h);let p=0;if(!(u&j.ALLOCATED)){h=h+1===c?0:h+1,l++;continue}const m=o.lodLevel.get(h);if(u&j.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[m].freeTail(),u&j.HIGHLIGHT_ACTIVE){const e=i.geHighlightOptionsPrev(h);if(e){const t=this._highlightRenderInstanceDataMap.get(e);if(!t)throw new r(\"Internal error in lodRenderer\");t[m].freeTail()}}if(u&j.REMOVE)i.freeInstance(h);else if(u&j.VISIBLE){let e=0;if(t&&(o.modelOrigin.getVec(h,J),e=a.selectLevel(J,i.getCombinedMedianScaleFactor(h),n)),p=u&~(j.ACTIVE|j.TRANSFORM_CHANGED),e>=0)if(u&j.HIGHLIGHT){const t=i.getHighlightName(h);if(t){const n=()=>{const e=this._createRenderInstanceDataArray();return e.forEach((e=>e.beginUpdate())),e},a=s(this._highlightRenderInstanceDataMap,t,n);if(e>=a.length)throw new r(`LodRenderer internal error - missing lodLevel ${e}`);W(a[e],o,h)}p|=j.HIGHLIGHT_ACTIVE}else W(this._defaultRenderInstanceData[e],o,h),p|=j.DEFAULT_ACTIVE;o.state.set(h,p),o.lodLevel.set(h,e)}else p=u&~(j.ACTIVE|j.TRANSFORM_CHANGED),o.state.set(h,p);if(null!=this._octreeCached){const e=!!(u&j.ACTIVE),t=!!(p&j.ACTIVE);!e&&t?this._octreeCached.addInstance(h):e&&!t?this._octreeCached.removeInstance(h):e&&t&&u&j.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(h),this._octreeCached.addInstance(h))}h=h+1===c?0:h+1,h%d==0&&e.madeProgress()}this._instanceIndex=h,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const n=r.glMaterials.load(e.rctx,e.bind.slot,e.output);return n?.beginSlot(e.bind)}_renderComponent(e,t,r,n,s){if(!t)return;const{bind:a,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,a,n.material.parameters,te);i.bindVAO(n.vao),t.ensureAttributeLocations(n.vao),g.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===C.Color&&(o.setUniform4fv(\"externalColor\",ee[Math.min(s,ee.length-1)]),o.setUniform1i(\"colorMixMode\",H.replace));const l=r.capacity,c=r.headIndex,h=r.tailIndex,d=r.firstIndex,u=this._glInstanceBufferLayout,p=(e,s)=>{G(i,R,r.buffer,u,e),i.drawArraysInstanced(t.primitiveType,0,n.vertexCount,s-e),P(i,R,r.buffer,u)};n.material.parameters.transparent&&null!=d?c>h?(L(d>=h&&d<=c,\"invalid firstIndex\"),p(d,c),p(h,d)):c<h&&(d<=c?(L(d>=0&&d<=c,\"invalid firstIndex\"),p(d,c),p(h,l),p(0,d)):(L(d>=h&&d<=l,\"invalid firstIndex\"),p(d,l),p(0,c),p(h,d))):c>h?p(h,c):c<h&&(p(0,c),p(h,l)),i.bindVAO(null)}};function W(e,t,r){const n=e.allocateHead();K(t,r,e.view,n)}function K(e,t,r,n){U(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,n),r.model.copyFrom(n,e.model,t),r.modelNormal.copyFrom(n,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(n,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(n,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(n,e.featureAttribute,t)}function Y(e){let t=y().vec3f(S.INSTANCEMODELORIGINHI).vec3f(S.INSTANCEMODELORIGINLO).mat3f(S.INSTANCEMODEL).mat3f(S.INSTANCEMODELNORMAL);return null!=e&&e.includes(\"featureAttribute\")&&(t=t.vec4f(S.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes(\"color\")&&(t=t.vec4u8(S.INSTANCECOLOR)),null!=e&&e.includes(\"objectAndLayerIdColor\")&&(t=t.vec4u8(S.INSTANCEOBJECTANDLAYERIDCOLOR)),t}e([l({constructOnly:!0})],k.prototype,\"symbol\",void 0),e([l({constructOnly:!0})],k.prototype,\"optionalFields\",void 0),e([l({constructOnly:!0})],k.prototype,\"metadata\",void 0),e([l({constructOnly:!0})],k.prototype,\"shaderTransformation\",void 0),e([l()],k.prototype,\"_instanceData\",void 0),e([l()],k.prototype,\"_cycleStartIndex\",void 0),e([l({readOnly:!0})],k.prototype,\"_enableLevelSelection\",null),e([l()],k.prototype,\"_updateCyclesWithStaticCamera\",void 0),e([l({readOnly:!0})],k.prototype,\"running\",null),k=e([c(\"esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer\")],k);const J=m(),Q=f(),Z=h(),$=m(),X=m(),ee=[_(1,0,1,1),_(0,0,1,1),_(0,1,0,1),_(1,1,0,1),_(1,0,0,1)],te=new F;export{k as LodRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{initializeProjection as e}from\"../projection.js\";import{projectVectorToVector as o}from\"./projectVectorToVector.js\";function t(r,e,t){return!!o(r,e,i,t.spatialReference)&&(t.x=i[0],t.y=i[1],t.z=i[2],!0)}async function c(r,o,c,i){return await e(o,c.spatialReference,null,i),t(r,o,c)}const i=r();export{t as projectVectorToPoint,c as projectVectorToPointAsync};\n"],"names":["a","n","c","e","i","u","t","o","x","r","s","s$2","l","h","d","_","g","m","f","p","R","S","t$1","C","v","I","T","L","O","A","b","F","M","N","D","H","E","w","a$1","z","k","B","Y","V","q","Z","$","X","j","Q","J","W","te","ee","G","P","K","U","y"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}